/*! For license information please see main.21c975fe.chunk.js.LICENSE.txt */
(this["webpackJsonp@r-generator/page"]=this["webpackJsonp@r-generator/page"]||[]).push([[0],{0:function(e,t){e.exports=React},209:function(e,t,n){},226:function(e,t){e.exports=Babel},233:function(e,t){e.exports=immer},321:function(e,t){e.exports=ReactDraggable},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},330:function(e,t){e.exports=Sortable},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(39),c=n.n(i),r=n(27),l=n(37),s=n(70),u=n(40),d=n(89),p=n(63),f=n(108),b=n(211),m=n(219),j=n(38),v=Object(j.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_b097rjuqmfk.js"});Object.entries(j).filter((function(e){var t=e||[],n=Object(l.a)(t,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)}));var O=function(){var e={};return Object.entries(j).filter((function(e){var t=e||[],n=Object(l.a)(t,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)})).forEach((function(t){var n=t||[],o=Object(l.a)(n,2),a=o[0],i=o[1];e[a]=i})),e}(),h="drag-target",g=n(34),y=n(144),x=n(9),k=g.Utils.shortid,C=g.Store.actionTypes,w=g.Store.Hooks.useStore,S=C.PUT_COMPONENT_LIST,E=C.UPDATE_MODE,T=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}].map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{children:null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.map((function(e){var t=e||{},n=t.value,o=t.label,a=t.icon,i=k(),c={value:n,label:o,icon:a,id:i,key:i,componentKey:n,formItemProps:{name:i,label:o},colProps:{},rowProps:{},componentProps:{},layout:{frame:{translate:[0,0]}}};return["List1"].includes(n)&&(c.colProps={lg:24,md:24,sm:24,xl:24,xs:24,xxl:24},c.formItemProps.labelCol={span:24}),c}))})})),N=function(){var e=w(),t=e.setGlobal,n=e.mode;return Object(x.jsxs)("div",{className:"left-sidebar",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)(f.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0",enterButton:"\u641c\u7d22",onSearch:function(e){return console.log(e)}}),Object(x.jsx)("div",{className:"mode-switch",children:Object(x.jsx)(b.a.Item,{style:{marginBottom:0},label:"\u6a21\u5f0f\u5207\u6362",children:Object(x.jsx)(m.a,{checkedChildren:"\u8868\u5355\u8bbe\u8ba1",unCheckedChildren:"\u975e\u8868\u5355\u8bbe\u8ba1",checked:"form"===n,onChange:function(e){t({type:E,payload:{mode:e?"form":"page"}})}})})})]}),Object(x.jsx)("div",{className:"body",children:"form"!==n?Object(x.jsx)("div",{className:"p-10",children:Object(x.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})}):T.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(u.a,{className:"title-btn",style:{paddingLeft:12},icon:Object(x.jsx)(v,{type:e.icon}),type:"text",disabled:!0,children:e.label}),Object(x.jsx)(d.a,{gutter:[6,6],children:e.children&&e.children.map((function(e){return Object(x.jsx)(p.a,{span:12,className:"left-sidebar-col",children:Object(x.jsx)(u.a,{block:!0,style:{backgroundColor:"#f8f8f8",fontSize:"12px"},type:"default",icon:Object(x.jsx)(v,{type:e.icon}),onClick:function(){var n,o=k(),a=Object(y.cloneDeep)(e);a.id=o,a.key=o,(null===(n=a.formItemProps)||void 0===n?void 0:n.name)&&(a.formItemProps.name=o),t({type:S,payload:a})},children:e.label})},e.value)}))})]},e.key)}))})]})},P=n(115),L=g.Store.Hooks.useStore,R=P.AntdMapping.Setting,I=function(){var e=L().mode;return Object(x.jsx)("div",{className:"right-sidebar",children:"form"===e?Object(x.jsx)(R,{}):Object(x.jsx)("div",{className:"p-10",children:Object(x.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},_=n(109),D=n(83),F=n(127),M=n.n(F),z=n(169);function G(){var e=50+(document.querySelector(".left-sidebar")?250:0)+60+(document.querySelector(".right-sidebar")?300:0)+50+14,t=document.querySelector(".viewport");t&&(t.style.width=.95*(window.innerWidth-e)+"px",t.style.height=.95*(window.innerHeight-74)+"px")}function A(e){return["TimePicker","TimePicker.RangePicker","DatePicker","DatePicker.RangePicker"].includes(e)}function V(e){return["Radio","Checkbox","Switch"].includes(e)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var K=n(79),H=["defaultValue","prefix","suffix"];function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=O[e];if(n&&t)return n||o.Fragment;if(n&&!t)return"<".concat(e," />")}return t?o.Fragment:null}var q=P.AntdMapping.Mapping.getComponent,Y={readOnly:!0,open:!1},J=function(e){var t=e.id,n=e.children,a=e.componentKey,i=e.formProps,c=void 0===i?{}:i,l=e.formItemProps,s=void 0===l?{}:l,u=e.componentProps,d=void 0===u?{}:u,p=e.rowProps,f=void 0===p?{}:p,m=e.form,j=e.className,v=e.style;(A(a)&&!K.isMoment(null===m||void 0===m?void 0:m.getFieldValue(s.name))||["Cascader"].includes(a))&&(null===m||void 0===m||m.setFieldsValue(Object(_.a)({},s.name,"")));d.defaultValue;var O=d.prefix,h=d.suffix,g=Object(D.a)(d,H);if(["Input"].includes(a)){var y=U(O,!0),k=U(h,!0);g.prefix=Object(x.jsx)(y,{}),g.suffix=Object(x.jsx)(k,{})}var C=c.labelCol,w=void 0===C?{}:C,S=c.wrapperCol,E=void 0===S?{}:S,T=s.labelCol,N=void 0===T?{}:T,P=s.wrapperCol,L=void 0===P?{}:P,R=Object(r.a)(Object(r.a)({},s),{},{labelCol:Object(r.a)(Object(r.a)({},w),N),wrapperCol:Object(r.a)(Object(r.a)({},E),L)});return function(e){return!["Col","Button","List1"].includes(e)}(a)?Object(x.jsx)(b.a.Item,Object(r.a)(Object(r.a)({},R),{},{style:v,className:j,valuePropName:V(a)?"checked":"value",children:o.cloneElement(q(a)||Object(x.jsx)(x.Fragment,{}),Object(r.a)(Object(r.a)({disabled:"Rate"===a},Y),g))})):o.cloneElement(q(a)||Object(x.jsx)(x.Fragment,{}),Object(r.a)({id:t,children:n,rowProps:f,style:v,design:!0,name:null===s||void 0===s?void 0:s.name},g))},W=n(131),X=n(218),Q=n(220),Z=n(207),$=n(170),ee=n(171),te=n(146),ne=n(132),oe=n(214),ae=n(59),ie=n(215),ce=n(92),re=n(69),le=n(212),se=n(208),ue=n(217),de=n(210),pe=n(226),fe=["TimePicker"],be=P.AntdMapping.List1,me=function(){function e(t){Object($.a)(this,e),this.genrate=void 0,this.genrate=t}return Object(ee.a)(e,[{key:"replace",value:function(e){var t=e||this.genrate.generate();return t.substring(t.indexOf("export default"),t.indexOf("</Form>")).replace("export default","")+"</Form>}"}},{key:"string2Component",value:function(){var e=Object(z.a)(M.a.mark((function e(){var t,n,o,a,i,c,r,l=this,s=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:[],n=s.length>1?s[1]:void 0,e.prev=2,i=this.replace(n),c=Object(pe.transform)(i,{presets:["react","es2015"]}).code,c=null===(o=c)||void 0===o?void 0:o.replace('"use strict";',"").trim(),c=null===(a=c)||void 0===a?void 0:a.replace("(function","return (function"),r=new Function("context","with(context){\n            ".concat(c,"\n        }")),e.abrupt("return",(function(){try{return r(l.getContext(t))}catch(e){console.log("error",e),te.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e instanceof Error?e.message:"".concat(e)})}}));case 11:e.prev=11,e.t0=e.catch(2),console.log("e",e.t0),te.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e.t0 instanceof Error?e.t0.message:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(e){ne.a.TimePicker;var t=Object(D.a)(ne.a,fe),n=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({React:o,Form:b.a,Input:f.a},f.a),{},{InputNumber:oe.a,Select:ae.a},ae.a),{},{Cascader:ie.a,Radio:ce.a,Checkbox:re.a,Switch:m.a,Slider:le.a,TimePicker:se.a},se.a),{},{DatePicker:ne.a},t),{},{Rate:ue.a,Upload:de.a,Row:d.a,Col:p.a,Button:u.a},O),{},{List1:be});return e.forEach((function(e){var t=e.componentKey,o=String(e.id).slice(0,4);n["".concat(t).concat(o)]=n.List1})),n}}]),e}(),je=n(231);var ve=n(228);n(325);var Oe,he=g.Store.Hooks.useStore,ge=W.a.TabPane,ye=function(){return Object(x.jsx)(j.EditOutlined,{style:{color:"#f1fa8c",marginRight:"5px"}})},xe=function(){return Object(x.jsx)(j.FileTextOutlined,{style:{color:"#a95812",marginRight:"5px"}})},ke="index.tsx",Ce=Object(o.forwardRef)((function(e,t){var n,a=Object(o.useState)(""),i=Object(l.a)(a,2),c=i[0],r=i[1],s=Object(o.useState)(!1),d=Object(l.a)(s,2),p=d[0],f=d[1],b=Object(o.useState)(ke),m=Object(l.a)(b,2),v=m[0],O=m[1],h=Object(o.useState)(Object(x.jsx)(x.Fragment,{})),y=Object(l.a)(h,2),k=y[0],C=y[1],w=Object(o.useState)(""),S=Object(l.a)(w,2),E=S[0],T=S[1],N=he(),P=N.componentList,L=N.target,R=null===P||void 0===P||null===(n=P.filter)||void 0===n?void 0:n.call(P,(function(e){return"List1"===e.componentKey})),I={"index.tsx":{name:"index.tsx",language:"typescript",value:c}};null===R||void 0===R||R.forEach((function(e){var t,n,o="List1".concat(String(e.id).slice(0,4),".tsx");I[o]={name:o,language:"typescript",value:(n=null===e||void 0===e||null===(t=e.componentProps)||void 0===t?void 0:t.fields,"\nimport * as React from 'react'\n".concat(function(){var e="Button, Form, Row, Col";return n.forEach((function(t){e+=", ".concat(t.componentKey)})),"import { ".concat(e," } from 'antd'")}(),"\nimport { DeleteOutlined, PlusOutlined, CopyOutlined } from '@ant-design/icons'\n\nexport interface IItem {\n  label: string\n  name?: string\n  field: string\n  componentKey: string\n  rules?: Record<string, any>[]\n}\n\ninterface IList1Props {\n  name?: string // \u8868\u5355\u6570\u636e\u5b57\u6bb5\u540d\n  fields?: IItem[] // \u6bcf\u884c\u5143\u7d20\n  form?: any // \u6bcf\u884c\u5143\u7d20\n}\n\n/**\n * list\u7ec4\u4ef6\n */\nexport default (props: IList1Props) => {\n  const { name = 'demo', fields = [], form } = props\n  const number = fields?.length || 0 // \u6bcf\u884c\u5143\u7d20\u4e2a\u6570\n  const operateCol = 3 // \u64cd\u4f5c\u6309\u94ae\u683c\u6570\n  const span = Math.floor((24 - operateCol) / number)\n  const colProps = {\n    lg: span,\n    md: span,\n    sm: span,\n    xl: span,\n    xs: span,\n    xxl: span,\n  }\n\n  const renderFormItems = (index: number, name: number, fieldKey: number) => {\n    const showLable = index === 0\n    return ").concat(function(){var e="";return n.forEach((function(t){e+="<Col {...colProps}>\n            <Form.Item\n              label={showLable && '".concat(t.label,"'}\n              labelCol={{ span: 24 }}\n              name={[name, '").concat(t.field,"']}\n              fieldKey={[fieldKey, '").concat(t.field,"']}\n              rules={").concat(t.rules||"[]","}\n            >\n              <").concat(t.componentKey," />\n            </Form.Item>\n          </Col>\n")})),"<React.Fragment key={fieldKey}>\n".concat(e,"</React.Fragment>")}(),"\n  }\n\n  useEffect(() => {\n    form.setFieldsValue({\n        [name]: [").concat(JSON.stringify(function(){var e={};return n.forEach((function(t){e[t.field]=void 0})),e}()),']\n    })\n  }, [])\n\n  return (\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(({ key, name: _name, fieldKey, ...restField }, index) => {\n              return (\n                <Row key={key} gutter={15}>\n                  {renderFormItems(index, _name, fieldKey)}\n                  <Col span={operateCol}>\n                    <Form.Item\n                      labelCol={index === 0 ? { span: 24 } : undefined}\n                      colon={false}\n                      label={index === 0 ? <div></div> : undefined}\n                    >\n                      <DeleteOutlined onClick={() => remove(_name)} />\n                      <CopyOutlined\n                        style={{ marginLeft: 8 }}\n                        onClick={() => {\n                          // \u83b7\u53d6\u5f53\u524d\u884c\u7684\u9ed8\u8ba4\u503c\n                          const defaultValue =\n                            form.getFieldsValue()?.[name]?.[index] || {}\n                          add(defaultValue)\n                        }}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              )\n            })}\n            <Row>\n              <Col span={Math.floor(span * number)}>\n                <Form.Item>\n                  <Button\n                    type="dashed"\n                    onClick={() => add()}\n                    block\n                    icon={<PlusOutlined />}\n                  >\n                    \u65b0\u589e\u4e00\u6761\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n'))}}));var _=I[v]||{},D=function(){f(!1),O(ke)};return Object(o.useImperativeHandle)(t,(function(){return{setIndexCode:r,open:function(){f(!0)},close:D,run:function(){!function(e){var t=new g.Generate.Generate(P,L);r(e||t.generate()),new me(t).string2Component(R,e).then((function(e){if("function"===typeof e){var t=e();C(Object(x.jsx)(t,{}))}}))}()}}}),[P,L]),Object(o.useEffect)((function(){var e=.3*window.screen.width;T(e)}),[]),Object(x.jsx)(X.a,{width:"100%",visible:p,destroyOnClose:!0,closable:!1,onClose:D,children:Object(x.jsx)("div",{className:"preview",children:Object(x.jsxs)(je.a,{split:"vertical",minSize:0,defaultSize:E,onDragFinished:function(e){T(e)},children:[Object(x.jsxs)("div",{className:"code-container",children:[Object(x.jsx)(W.a,{tabBarGutter:5,activeKey:v,onChange:function(e){O(e)},tabBarStyle:{height:"35px"},type:"card",tabBarExtraContent:Object(x.jsxs)(Q.b,{className:"extra-action-container",split:Object(x.jsx)(Z.a,{}),children:[Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.CloseOutlined,{}),className:"extra-action",type:"link",size:"small",onClick:D,children:"\u5173\u95ed"}),Object(x.jsx)("div",{})]}),children:Object.keys(I).map((function(e){var t=I[e];return Object(x.jsx)(ge,{tab:Object(x.jsxs)("div",{children:[v===t.name?Object(x.jsx)(ye,{}):Object(x.jsx)(xe,{}),Object(x.jsx)("span",{children:t.name})]})},t.name)}))}),Object(x.jsx)(ve.a,{height:"calc(100vh - 35px)",theme:"vs-dark",path:_.name,language:_.language,value:_.value,onMount:function(e,t){!function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({target:e.languages.typescript.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:e.languages.typescript.ModuleResolutionKind.NodeJs,module:e.languages.typescript.ModuleKind.CommonJS,noEmit:!0,esModuleInterop:!0,jsx:e.languages.typescript.JsxEmit.React,reactNamespace:"React",allowJs:!0,typeRoots:["node_modules/@types"]}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1});var t={react:"https://cdn.jsdelivr.net/npm/@types/react@17.0.2/index.d.ts",antd:"https://cdn.jsdelivr.net/npm/antd@4.14.0/lib/index.d.ts"};Promise.all(Object.values(t).map((function(e){return fetch(e).then((function(e){return e.text()}))}))).then((function(n){Object.keys(t).forEach((function(t,o){e.languages.typescript.typescriptDefaults.addExtraLib(n[o],"file:///node_modules/@types/".concat(t,"/index.d.ts"))}))}))}(t),Object.keys(I).forEach((function(e){var n=I[e];"index.tsx"===e||t.editor.getModel(t.Uri.parse(n.name))||t.editor.createModel(n.value,n.language,t.Uri.parse(n.name))})),setTimeout((function(){var t;null===e||void 0===e||null===(t=e.getAction("editor.action.formatDocument"))||void 0===t||t.run()}),300)}})]}),Object(x.jsx)("div",{className:"form",children:Object(x.jsx)("div",{className:"body",children:k})})]})})})})),we=n(229),Se=g.Store.Context,Ee=g.Store.actionTypes,Te=Ee.SET_TARGET,Ne=Ee.SET_MOVEABLE_OPTIONS,Pe=Ee.UPDATE_COMPONENT_LIST_BY_TARGET,Le={frame:{translate:[0,0]}},Re=function(){var e=Object(o.useContext)(Se),t=e.target,n=e.moveableOptions,a=void 0===n?{}:n,i=e.setGlobal,c=a,r=c.target,l=c.elementGuidelines,s=c.frame,u=void 0===s?{translate:[0,0]}:s,d=c.bounds,p=c.verticalGuidelines,f=c.horizontalGuidelines,b=c.draggable,m=void 0===b||b,j=c.resizable,v=void 0===j||j,O=Object(o.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector(".viewport"),a=(null===o||void 0===o||null===(e=o.getBoundingClientRect)||void 0===e?void 0:e.call(o))||{},c=a.left,r=a.right,l=a.top;a.bottom;i({type:Ne,payload:{bounds:{left:Number(c)-t-50,right:Number(r)-n-52,top:l}}})}),[]);return Object(o.useEffect)((function(){O()}),[]),Object(o.useEffect)((function(){var e=t.layout;i({type:Ne,payload:void 0===e?{}:e})}),[t]),Object(x.jsx)(we.a,{target:r,elementGuidelines:l,verticalGuidelines:p,horizontalGuidelines:f,snappable:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,bounds:d,draggable:m,throttleDrag:0,startDragRotate:0,throttleDragRotate:0,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},resizable:v,keepRatio:!1,throttleResize:0,edge:!1,renderDirections:["nw","n","ne","w","e","sw","s","se"],onDragStart:function(e){e.set(u.translate)},onDrag:function(e){Le.frame.translate=e.beforeTranslate,e.target.style.transform="translate(".concat(e.beforeTranslate[0],"px, ").concat(e.beforeTranslate[1],"px)")},onDragEnd:function(e){e.target,e.isDrag;var t=e.clientX,n=e.clientY,o=Le.frame;i({type:Te,payload:{layout:{frame:o,clientX:t,clientY:n}}}),i({type:Pe,payload:{data:{layout:{frame:o,clientX:t,clientY:n}}}})},onResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(u.translate)},onResize:function(e){var t=e.target,n=e.width,o=e.height,a=e.drag,i=a.beforeTranslate;Le.width=n,Le.height=o,Le.frame.translate=a.beforeTranslate,t.style.width="".concat(n,"px"),t.style.height="".concat(o,"px"),t.style.transform="translate(".concat(i[0],"px, ").concat(i[1],"px)")},onResizeEnd:function(e){if(e.lastEvent){var t=Le.frame,n=Le.width,o=Le.height;i({type:Te,payload:{layout:{frame:t,width:n,height:o}}}),i({type:Pe,payload:{data:{layout:{frame:t,width:n,height:o}}}})}}})},Ie=n(230),_e=n(232),De=g.Store.Context,Fe=g.Store.actionTypes.SET_MOVEABLE_OPTIONS,Me=null,ze=Object(o.forwardRef)((function(e,t){var n=e.type,i=a.a.useRef(),c=Object(o.useContext)(De).setGlobal;Object(o.useImperativeHandle)(t,(function(){return{guides:i}}),[]);var l=Object(o.useCallback)((function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e)}),[]),s=Object(o.useCallback)((function(e){var t,n,o=0,a=0;o+=e.deltaX,a+=e.deltaY,null===i||void 0===i||null===(t=i.scrollGuides)||void 0===t||t.call(i,a),null===i||void 0===i||null===(n=i.scroll)||void 0===n||n.call(i,o)}),[]);return Object(o.useEffect)((function(){var e,t,n,o;null===(e=i.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e);var a=document.querySelector(".container");return null===(n=Me=new MutationObserver((function(e){l()})))||void 0===n||null===(o=n.observe)||void 0===o||o.call(n,a,{attributes:!0,childList:!0,characterData:!0}),window.addEventListener("wheel",s),window.addEventListener("resize",l),function(){var e,t;null===(e=Me)||void 0===e||null===(t=e.disconnect)||void 0===t||t.call(e),Me=null,window.removeEventListener("wheel",s),window.removeEventListener("resize",l)}}),[]),Object(x.jsx)(_e.a,Object(r.a)(Object(r.a)({},e),{},{ref:i,onChangeGuides:function(e){var t=e.guides.map((function(e){return Number(e)+30.5}));"horizontal"===n&&c({type:Fe,payload:{horizontalGuidelines:t}}),"vertical"===n&&c({type:Fe,payload:{verticalGuidelines:t}})}}))})),Ge=(n(326),new(function(){function e(){Object($.a)(this,e),this.callbacks=void 0,this.callbacks=[]}return Object(ee.a)(e,[{key:"addListener",value:function(e,t){if(this.callbacks.length){var n=!1;this.callbacks.forEach((function(o){o.eventName===e&&(n=!0,o.callbacks.push(t))})),n||this.callbacks.push({eventName:e,callbacks:[t]})}else this.callbacks=[{eventName:e,callbacks:[t]}]}},{key:"removeListener",value:function(e,t){this.callbacks.forEach((function(n){n.eventName===e&&(n.callbacks=n.callbacks.filter((function(e){return e!==t})))}))}},{key:"emit",value:function(e){this.callbacks.forEach((function(t){t.eventName===e&&t.callbacks.forEach((function(e){return e()}))}))}}]),e}())),Ae="SHOW_SETTING_PANL",Ve="SCROLL_CENTER",Be="INFINITEVIEWER_SCROLL",Ke=function(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),a=Object(o.useRef)(null),i=Object(o.useCallback)((function(){var e;null===(e=a.current)||void 0===e||e.scrollCenter()}),[]);return Object(o.useEffect)((function(){return G(),i(),window.addEventListener("resize",G),Ge.addListener(Ve,i),function(){Ge.removeListener(Ve,i),window.removeEventListener("resize",G)}}),[]),Object(x.jsxs)("div",{className:"infinite-viewer-container",children:[Object(x.jsx)("div",{className:"reset",onClick:function(){i()}}),Object(x.jsx)(ze,{className:"guides horizontal",ref:t,type:"horizontal",height:30}),Object(x.jsx)(ze,{className:"guides vertical",width:30,ref:n,type:"vertical"}),Object(x.jsx)(Ie.a,{className:"infinite-viewer",ref:a,useForceWheel:!0,onScroll:function(e){var o,a,i,c,r,l,s,u;Ge.emit(Be);var d=null===(o=t.current)||void 0===o||null===(a=o.guides)||void 0===a?void 0:a.current,p=null===(i=n.current)||void 0===i||null===(c=i.guides)||void 0===c?void 0:c.current;null===d||void 0===d||null===(r=d.scroll)||void 0===r||r.call(d,e.scrollLeft),null===d||void 0===d||null===(l=d.scrollGuides)||void 0===l||l.call(d,e.scrollTop),null===p||void 0===p||null===(s=p.scroll)||void 0===s||s.call(p,e.scrollTop),null===p||void 0===p||null===(u=p.scrollGuides)||void 0===u||u.call(p,e.scrollLeft)},onPinch:function(e){var o,i,c,r,l=Math.max(.1,e.zoom),s=null===(o=t.current)||void 0===o||null===(i=o.guides)||void 0===i?void 0:i.current,u=null===(c=n.current)||void 0===c||null===(r=c.guides)||void 0===r?void 0:r.current;s.zoom=l,u.zoom=l,a.current.zoom=l},children:Object(x.jsx)("div",{className:"viewport",onContextMenu:function(e){e.preventDefault()},children:e.children})})]})},He=(n(327),Object(o.forwardRef)((function(e,t){var n=e.children,a=Object(o.useState)(),c=Object(l.a)(a,2),r=c[0],s=c[1],u=Object(o.useState)(!1),d=Object(l.a)(u,2),p=d[0],f=d[1],b=Object(o.useRef)(null),m=Object(o.useCallback)((function(){f(!1)}),[]);return Object(o.useImperativeHandle)(t,(function(){return{hide:function(){f(!1)},show:function(e){f(!0);var t=e.clientX,n=e.clientY,o=b.current;o.style.left="".concat(t,"px"),o.style.top="".concat(n,"px")}}}),[]),Object(o.useEffect)((function(){return window.addEventListener("click",m),s(document.body),function(){window.removeEventListener("click",m)}}),[]),r?Object(i.createPortal)(Object(x.jsx)("div",{id:"context-menu",ref:b,className:p?"":"hide",children:n}),r):Object(x.jsx)(x.Fragment,{})}))),Ue=(n(328),function(){return Object(x.jsx)("div",{className:"logo",children:Object(x.jsxs)("div",{className:"title",children:[Object(x.jsx)(j.LayoutTwoTone,{}),Object(x.jsx)("span",{children:"R Generator"}),Object(x.jsx)("a",{href:"https://github.com/r-generator/page",children:Object(x.jsx)("img",{alt:"GitHub Repo stars",src:"https://img.shields.io/github/stars/r-generator/page?style=flat-square"})})]})})}),qe=n(213),Ye=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.options,i=void 0===a?[]:a;return Object(x.jsx)("div",{className:"menu-container",children:i.map((function(e,t){var a=e.icon,c=e.key,r=e.label,l=e.type,s=e.className;return Object(x.jsxs)(o.Fragment,{children:[Object(x.jsx)("div",{className:"menu-item",children:Object(x.jsxs)(qe.a.Link,{onClick:function(){n(c,r)},className:"del"===l?"".concat(s," del"):s,children:[o.cloneElement(a,{className:"menu-item-icon"}),r]})}),t!==i.length-1&&Object(x.jsx)("hr",{})]},B())}))})},Je=(n(209),n(227)),We=["colNum"],Xe=["colNum"],Qe=["align","gutter","justify","wrap"],Ze=["colNum"],$e=g.Store.Utils,et=g.Store.actionTypes,tt=g.Store.Hooks,nt=et.COPY_COMPONENT_LIST,ot=et.DELETE_TARGET,at=et.DEL_COMPONENT_LIST,it=et.LEFT_REMOVE_COMPONENTS,ct=et.RIGHT_REMOVE_COMPONENTS,rt=et.SET_COMPONENT_LIST,lt=et.SET_MOVEABLE_OPTIONS,st=et.SET_TARGET_BY_COMPONENT_LIST,ut=tt.useStore;!function(e){e.copy="\u590d\u5236",e.setting="\u8bbe\u7f6e\u5c5e\u6027",e.del="\u5220\u9664",e.toLeft="\u5de6\u79fb",e.toRight="\u53f3\u79fb"}(Oe||(Oe={}));var dt=$e.refreshTarget,pt=[{key:"toTop",icon:Object(x.jsx)(j.VerticalAlignTopOutlined,{}),label:Oe.toLeft,type:"toTop"},{key:"topBottom",icon:Object(x.jsx)(j.VerticalAlignBottomOutlined,{}),label:Oe.toRight,type:"topBottom"},{key:"copy",icon:Object(x.jsx)(j.CopyOutlined,{}),label:Oe.copy},{key:"del",icon:Object(x.jsx)(j.DeleteOutlined,{}),label:Oe.del,type:"del"},{key:"setting",icon:Object(x.jsx)(j.SettingOutlined,{}),label:Oe.setting}],ft=Object(o.forwardRef)((function(e,t){var n=(ut().target||{}).rowProps,o=void 0===n?{}:n,a=(o.colNum,Object(D.a)(o,We));return Object(x.jsx)(d.a,Object(r.a)(Object(r.a)(Object(r.a)({},e),a),{},{ref:t}))}));function bt(e){var t=e.target,n=e.moveableOptions,a=e.componentList,i=void 0===a?[]:a,c=e.setGlobal,s=b.a.useForm(),u=Object(l.a)(s,1)[0],d=Object(o.useRef)(null),f=t||{},m=f.componentProps,j=f.formItemProps,v=f.formProps,O=void 0===v?{}:v,g=f.colProps,y=void 0===g?{}:g,k=f.rowProps,C=void 0===k?{}:k,w=(C.colNum,Object(D.a)(C,Xe)),S=function(e,t){c({type:rt,payload:{newState:t,id:e}})},E=Object(o.useCallback)((function(){var e,t;null===(e=d.current)||void 0===e||null===(t=e.hide)||void 0===t||t.call(e)}),[]);return Object(o.useEffect)((function(){return Ge.addListener(Be,E),function(){Ge.removeListener(Be,E)}}),[]),Object(o.useEffect)((function(){(null===j||void 0===j?void 0:j.name)&&u.setFieldsValue(Object(_.a)({},j.name,null===m||void 0===m?void 0:m.defaultValue))}),[t.id]),Object(o.useEffect)((function(){var e={};i.forEach((function(t){var n=t.componentKey,o=t.formItemProps,a=t.componentProps,i=(o||{}).name,c=(a||{}).defaultValue;A(n)||(e[i]=c)})),u.setFieldsValue(e)}),[i,u]),Object(x.jsxs)(b.a,Object(r.a)(Object(r.a)({},O),{},{style:{height:"100%",position:"relative"},form:u,children:[Object(x.jsx)(Je.ReactSortable,{sort:!0,animation:150,tag:ft,list:i,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",group:{name:"form-wrap",put:!0},setList:function(e){c({type:rt,payload:{newState:e,id:null===t||void 0===t?void 0:t.id}})},onChoose:function(e){var n=e.item.dataset.id;n!==t.id&&(c({type:st,payload:{id:n}}),S(n,i))},onUnchoose:function(e){e.item.classList.add("sortable-chosen")},children:i.map((function(e){var n=e.id,o=e.chosen,a=e.children,l=e.componentKey,s=e.formItemProps,f=e.componentProps,b=e.colProps,m=void 0===b?{}:b,j=e.layout,v=void 0===j?{}:j,g=v.frame,k=void 0===g?{translate:[0,0,0]}:g,E=v.height,T=v.width,N=k.translate,P={display:"inline-block",transform:"translate(".concat(N[0],"px, ").concat(N[1],"px)")};"number"===typeof T?P.width="".concat(T,"px"):"string"===typeof T&&(P.width=T),E&&(P.height="".concat(E,"px"));w.align,w.gutter,w.justify,w.wrap;var L=Object(D.a)(w,Qe),R=(m.colNum,Object(D.a)(m,Ze));return Object(x.jsx)(p.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},L),R)),{},{onContextMenu:function(e){var t,o;e.preventDefault(),c({type:st,payload:{id:n}}),S(n,i),null===(t=d.current)||void 0===t||null===(o=t.show)||void 0===o||o.call(t,e)},children:Object(x.jsx)("div",{"data-id":n,className:"".concat(h," ").concat(o?"drag-target-chosen":""),onClick:function(e){e.stopPropagation(),n!==t.id&&(c({type:st,payload:{id:n}}),S(n,i))},children:Object(x.jsx)(J,{id:n,form:u,children:a,colProps:y,rowProps:C,formProps:O,formItemProps:s,componentProps:f,componentKey:l},n)})}),n)}))}),Object(x.jsx)(He,{ref:d,children:Object(x.jsx)(Ye,{options:pt,onClick:function(e,o){if(o===Oe.del&&(c({type:at,payload:{id:t.id}}),c({type:ot}),c({type:lt,payload:{target:null}})),o===Oe.setting&&Ge.emit(Ae),o===Oe.copy){var a=B();c({type:nt,payload:{id:t.id,newId:a}})}o===Oe.toLeft&&(c({type:it,payload:{id:t.id}}),dt(null===n||void 0===n?void 0:n.target,c)),o===Oe.toRight&&(c({type:ct,payload:{id:t.id}}),dt(null===n||void 0===n?void 0:n.target,c))}})})]}))}var mt=g.Store.Hooks.useStore,jt=function(){var e=mt(),t=e.target,n=e.moveableOptions,o=e.componentList,a=e.setGlobal;return Object(x.jsx)("div",{className:"form-design-area",children:0===(null===o||void 0===o?void 0:o.length)?Object(x.jsx)("div",{className:"not-found-info",children:"\u4ece\u5de6\u4fa7\u70b9\u9009\u7ec4\u4ef6\u8fdb\u884c\u8868\u5355\u8bbe\u8ba1"}):Object(x.jsx)(bt,{target:t,componentList:o,moveableOptions:n,setGlobal:a})})},vt=function(e){var t,n=e.type,o=e.handleType;return Object(x.jsxs)("div",{className:"left-action",children:[Object(x.jsx)(u.a,{type:"coms"===n?"primary":"text",ghost:"coms"!==n,icon:Object(x.jsx)(j.WindowsOutlined,{style:(t="coms",{color:n!==t?"#fff":"",fontSize:18})}),onClick:function(){return o("coms")}}),Object(x.jsx)(Ue,{})]})},Ot=n(216);var ht=g.Store.actionTypes,gt=g.Store.Context,yt=ht.DELETE_ALL_COMPONENT_LIST_AND_TARGET,xt=ht.SET_MOVEABLE_OPTIONS,kt=function(e){var t=e.type,n=e.handleType,a=Object(o.useRef)(null),i=Object(o.useContext)(gt),c=i.target,r=i.componentList,l=i.setGlobal,s=function(e){return{color:t!==e?"#fff":"",fontSize:18}},d=Object(o.useCallback)((function(){n("setting")}),[]);return Object(o.useEffect)((function(){return Ge.addListener(Ae,d),function(){Ge.removeListener(Ae,d)}}),[]),Object(x.jsxs)("div",{className:"right-action",children:[Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.PlayCircleOutlined,{style:s("run")}),type:"run"===t?"primary":"text",onClick:function(){!function(){var e,t;null===(e=a.current)||void 0===e||e.run(),null===(t=a.current)||void 0===t||t.open()}()}}),Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.PicCenterOutlined,{style:s("center")}),type:"center"===t?"primary":"text",onClick:function(){Ge.emit(Ve)}}),Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.EyeOutlined,{style:s("preview")}),type:"preview"===t?"primary":"text",size:"middle",onClick:function(){!function(){var e=function(e,t){var n,o=null===(n=t.rowProps)||void 0===n?void 0:n.colNum,a={type:"object",properties:{}};return e.forEach((function(e){var t=e.formItemProps.name,n=e.componentKey.toLowerCase().replace(/^.*\./,"");a.properties[t]={type:"string",widget:n}})),{number:o,json:a}}(r,c);console.log(e)}()}}),Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.VerticalAlignBottomOutlined,{style:s("download")}),type:"download"===t?"primary":"text",size:"middle",onClick:function(){}}),Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.DeleteOutlined,{style:s("clean")}),type:"clean"===t?"primary":"text",danger:!0,onClick:function(){Ot.a.confirm({title:"\u63d0\u793a",icon:Object(x.jsx)(j.ExclamationCircleOutlined,{}),content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u7ec4\u4ef6\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){l({type:yt}),l({type:xt,payload:{target:null}})}})}}),Object(x.jsx)(u.a,{icon:Object(x.jsx)(j.SettingOutlined,{style:s("setting")}),type:"setting"===t?"primary":"text",onClick:function(){return n("setting")}}),Object(x.jsx)(Ce,{ref:a})]})},Ct=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"p-10",children:Object(x.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},wt=(n(331),g.Store.actionTypes,g.Store.Hooks.useStore),St=function(e){var t=wt().mode,n=Object(o.useState)(""),a=Object(l.a)(n,2),i=a[0],c=a[1],r=function(e){c(i===e?"":e)};return Object(o.useEffect)((function(){["coms","setting",""].includes(i)&&G()}),[i]),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(vt,{type:i,handleType:r}),"coms"===i&&Object(x.jsx)(N,{}),Object(x.jsx)("div",{className:"content",children:"form"===t?Object(x.jsx)(jt,{}):Object(x.jsxs)(Ke,{children:[Object(x.jsx)(Ct,{}),Object(x.jsx)(Re,{})]})}),"setting"===i&&Object(x.jsx)(I,{}),Object(x.jsx)(kt,{type:i,handleType:r})]})},Et=(n(332),n(333),n(334),g.Store.Context),Tt=g.Store.INITAL_STATE,Nt=g.Store.commonReducer,Pt=g.Store.Hooks.useLPReducer,Lt=function(){var e=Pt(Nt,Tt,"STORE"),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(x.jsx)(Et.Provider,{value:Object(r.a)(Object(r.a)({},n||Tt),{},{setGlobal:o}),children:Object(x.jsx)(St,{})})};c.a.render(Object(x.jsx)(Lt,{}),document.getElementById("root"))},38:function(e,t){e.exports=icons},39:function(e,t){e.exports=ReactDOM}},[[335,1,2]]]);
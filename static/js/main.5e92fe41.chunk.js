/*! For license information please see main.5e92fe41.chunk.js.LICENSE.txt */
(this["webpackJsonp@r-generator/page"]=this["webpackJsonp@r-generator/page"]||[]).push([[0],{0:function(e,t){e.exports=React},212:function(e,t,n){},229:function(e,t){e.exports=Babel},235:function(e,t){e.exports=immer},323:function(e,t){e.exports=ReactDraggable},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},348:function(e,t){e.exports=Sortable},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(38),c=n.n(i),r=n(29),l=n(45),s=n(71),u=n(39),d=n(90),f=n(64),b=n(109),p=n(214),j=n(222),m=n(37),v=Object(m.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_b097rjuqmfk.js"});Object.entries(m).filter((function(e){var t=e||[],n=Object(l.a)(t,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)}));var O=function(){var e={};return Object.entries(m).filter((function(e){var t=e||[],n=Object(l.a)(t,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)})).forEach((function(t){var n=t||[],o=Object(l.a)(n,2),a=o[0],i=o[1];e[a]=i})),e}(),h="drag-target",x=n(34),g=n(146),y=n(9),k=x.Utils.shortid,C=x.Store.actionTypes,w=x.Store.Hooks.useStore,S=C.PUT_COMPONENT_LIST,T=C.UPDATE_MODE,E=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}].map((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},{children:null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.map((function(e){var t=e||{},n=t.value,o=t.label,a=t.icon,i=k(),c={value:n,label:o,icon:a,id:i,key:i,componentKey:n,formItemProps:{name:i,label:o},colProps:{},rowProps:{},componentProps:{},layout:{frame:{translate:[0,0]}}};return["List1"].includes(n)&&(c.colProps={lg:24,md:24,sm:24,xl:24,xs:24,xxl:24},c.formItemProps.labelCol={span:24}),c}))})})),N=function(){var e=w(),t=e.setGlobal,n=e.mode;return Object(y.jsxs)("div",{className:"left-sidebar",children:[Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)(b.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0",enterButton:"\u641c\u7d22",onSearch:function(e){return console.log(e)}}),Object(y.jsx)("div",{className:"mode-switch",children:Object(y.jsx)(p.a.Item,{style:{marginBottom:0},label:"\u6a21\u5f0f\u5207\u6362",children:Object(y.jsx)(j.a,{checkedChildren:"\u8868\u5355\u8bbe\u8ba1",unCheckedChildren:"\u975e\u8868\u5355\u8bbe\u8ba1",checked:"form"===n,onChange:function(e){t({type:T,payload:{mode:e?"form":"page"}})}})})})]}),Object(y.jsx)("div",{className:"body",children:"form"!==n?Object(y.jsx)("div",{className:"p-10",children:Object(y.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})}):E.map((function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(u.a,{className:"title-btn",style:{paddingLeft:12},icon:Object(y.jsx)(v,{type:e.icon}),type:"text",disabled:!0,children:e.label}),Object(y.jsx)(d.a,{gutter:[6,6],children:e.children&&e.children.map((function(e){return Object(y.jsx)(f.a,{span:12,className:"left-sidebar-col",children:Object(y.jsx)(u.a,{block:!0,style:{backgroundColor:"#f8f8f8",fontSize:"12px"},type:"default",icon:Object(y.jsx)(v,{type:e.icon}),onClick:function(){var n,o=k(),a=Object(g.cloneDeep)(e);a.id=o,a.key=o,(null===(n=a.formItemProps)||void 0===n?void 0:n.name)&&(a.formItemProps.name=o),t({type:S,payload:a})},children:e.label})},e.value)}))})]},e.key)}))})]})},P=n(116),L=x.Store.Hooks.useStore,R=P.AntdMapping.Setting,I=function(){var e=L().mode;return Object(y.jsx)("div",{className:"right-sidebar",children:"form"===e?Object(y.jsx)(R,{}):Object(y.jsx)("div",{className:"p-10",children:Object(y.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},_=n(110),F=n(84),D=n(128),z=n.n(D),G=n(171);function M(){var e=50+(document.querySelector(".left-sidebar")?250:0)+60+(document.querySelector(".right-sidebar")?300:0)+50+14,t=document.querySelector(".viewport");t&&(t.style.width=.95*(window.innerWidth-e)+"px",t.style.height=.95*(window.innerHeight-74)+"px")}function A(e){return["TimePicker","TimePicker.RangePicker","DatePicker","DatePicker.RangePicker"].includes(e)}function B(e){return["Radio","Checkbox","Switch"].includes(e)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var K=n(80),H=["defaultValue","prefix","suffix"];function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=O[e];if(n&&t)return n||o.Fragment;if(n&&!t)return"<".concat(e," />")}return t?o.Fragment:null}var U=P.AntdMapping.Mapping.getComponent,Y={readOnly:!0,open:!1},W=function(e){var t=e.id,n=e.children,a=e.componentKey,i=e.formProps,c=void 0===i?{}:i,l=e.formItemProps,s=void 0===l?{}:l,u=e.componentProps,d=void 0===u?{}:u,f=e.rowProps,b=void 0===f?{}:f,j=e.form,m=e.className,v=e.style;(A(a)&&!K.isMoment(null===j||void 0===j?void 0:j.getFieldValue(s.name))||["Cascader"].includes(a))&&(null===j||void 0===j||j.setFieldsValue(Object(_.a)({},s.name,"")));d.defaultValue;var O=d.prefix,h=d.suffix,x=Object(F.a)(d,H);if(["Input"].includes(a)){var g=q(O,!0),k=q(h,!0);x.prefix=Object(y.jsx)(g,{}),x.suffix=Object(y.jsx)(k,{})}var C=c.labelCol,w=void 0===C?{}:C,S=c.wrapperCol,T=void 0===S?{}:S,E=s.labelCol,N=void 0===E?{}:E,P=s.wrapperCol,L=void 0===P?{}:P,R=Object(r.a)(Object(r.a)({},s),{},{labelCol:Object(r.a)(Object(r.a)({},w),N),wrapperCol:Object(r.a)(Object(r.a)({},T),L)});return function(e){return!["Col","Button","List1"].includes(e)}(a)?Object(y.jsx)(p.a.Item,Object(r.a)(Object(r.a)({},R),{},{style:v,className:m,valuePropName:B(a)?"checked":"value",children:o.cloneElement(U(a)||Object(y.jsx)(y.Fragment,{}),Object(r.a)(Object(r.a)({disabled:"Rate"===a},Y),x))})):o.cloneElement(U(a)||Object(y.jsx)(y.Fragment,{}),Object(r.a)({id:t,children:n,rowProps:b,style:v,design:!0,name:null===s||void 0===s?void 0:s.name},x))},X=n(132),J=n(221),Q=n(223),Z=n(209),$=n(172),ee=n(173),te=n(148),ne=n(133),oe=n(217),ae=n(60),ie=n(218),ce=n(93),re=n(70),le=n(215),se=n(210),ue=n(220),de=n(213),fe=n(229),be=["TimePicker"],pe=P.AntdMapping.List1,je=function(){function e(t){Object($.a)(this,e),this.genrate=void 0,this.genrate=t}return Object(ee.a)(e,[{key:"replace",value:function(e){var t=e||this.genrate.generate();return t.substring(t.indexOf("export default"),t.indexOf("</Form>")).replace("export default","")+"</Form>}"}},{key:"string2Component",value:function(){var e=Object(G.a)(z.a.mark((function e(){var t,n,o,a,i,c,r,l=this,s=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:[],n=s.length>1?s[1]:void 0,e.prev=2,i=this.replace(n),c=Object(fe.transform)(i,{presets:["react","es2015"]}).code,c=null===(o=c)||void 0===o?void 0:o.replace('"use strict";',"").trim(),c=null===(a=c)||void 0===a?void 0:a.replace("(function","return (function"),r=new Function("context","with(context){\n            ".concat(c,"\n        }")),e.abrupt("return",(function(){try{return r(l.getContext(t))}catch(e){console.log("error",e),te.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e instanceof Error?e.message:"".concat(e)})}}));case 11:e.prev=11,e.t0=e.catch(2),console.log("e",e.t0),te.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e.t0 instanceof Error?e.t0.message:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(e){ne.a.TimePicker;var t=Object(F.a)(ne.a,be),n=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({React:o,Form:p.a,Input:b.a},b.a),{},{InputNumber:oe.a,Select:ae.a},ae.a),{},{Cascader:ie.a,Radio:ce.a,Checkbox:re.a,Switch:j.a,Slider:le.a,TimePicker:se.a},se.a),{},{DatePicker:ne.a},t),{},{Rate:ue.a,Upload:de.a,Row:d.a,Col:f.a,Button:u.a},O),{},{List1:pe});return e.forEach((function(e){var t=e.componentKey,o=String(e.id).slice(0,4);n["".concat(t).concat(o)]=n.List1})),n}}]),e}(),me=n(233);function ve(e){return"\nimport * as React from 'react'\n".concat(function(){var t="Button, Form, Row, Col";return e.forEach((function(e){t+=", ".concat(e.componentKey)})),"import { ".concat(t," } from 'antd'")}(),"\nimport { DeleteOutlined, PlusOutlined, CopyOutlined } from '@ant-design/icons'\n\nexport interface IItem {\n  label: string\n  name?: string\n  field: string\n  componentKey: string\n  rules?: Record<string, any>[]\n}\n\ninterface IList1Props {\n  name?: string // \u8868\u5355\u6570\u636e\u5b57\u6bb5\u540d\n  fields?: IItem[] // \u6bcf\u884c\u5143\u7d20\n  form?: any // \u6bcf\u884c\u5143\u7d20\n}\n\n/**\n * list\u7ec4\u4ef6\n */\nexport default (props: IList1Props) => {\n  const { name = 'demo', fields = [], form } = props\n  const number = fields?.length || 0 // \u6bcf\u884c\u5143\u7d20\u4e2a\u6570\n  const operateCol = 3 // \u64cd\u4f5c\u6309\u94ae\u683c\u6570\n  const span = Math.floor((24 - operateCol) / number)\n  const colProps = {\n    lg: span,\n    md: span,\n    sm: span,\n    xl: span,\n    xs: span,\n    xxl: span,\n  }\n\n  const renderFormItems = (index: number, name: number, fieldKey: number) => {\n    const showLable = index === 0\n    return ").concat(function(){var t="";return e.forEach((function(e){t+="<Col {...colProps}>\n            <Form.Item\n              label={showLable && '".concat(e.label,"'}\n              labelCol={{ span: 24 }}\n              name={[name, '").concat(e.field,"']}\n              fieldKey={[fieldKey, '").concat(e.field,"']}\n              rules={").concat(e.rules||"[]","}\n            >\n              <").concat(e.componentKey," />\n            </Form.Item>\n          </Col>\n")})),"<React.Fragment key={fieldKey}>\n".concat(t,"</React.Fragment>")}(),"\n  }\n\n  useEffect(() => {\n    form.setFieldsValue({\n        [name]: [").concat(JSON.stringify(function(){var t={};return e.forEach((function(e){t[e.field]=void 0})),t}()),']\n    })\n  }, [])\n\n  return (\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(({ key, name: _name, fieldKey, ...restField }, index) => {\n              return (\n                <Row key={key} gutter={15}>\n                  {renderFormItems(index, _name, fieldKey)}\n                  <Col span={operateCol}>\n                    <Form.Item\n                      labelCol={index === 0 ? { span: 24 } : undefined}\n                      colon={false}\n                      label={index === 0 ? <div></div> : undefined}\n                    >\n                      <DeleteOutlined onClick={() => remove(_name)} />\n                      <CopyOutlined\n                        style={{ marginLeft: 8 }}\n                        onClick={() => {\n                          // \u83b7\u53d6\u5f53\u524d\u884c\u7684\u9ed8\u8ba4\u503c\n                          const defaultValue =\n                            form.getFieldsValue()?.[name]?.[index] || {}\n                          add(defaultValue)\n                        }}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              )\n            })}\n            <Row>\n              <Col span={Math.floor(span * number)}>\n                <Form.Item>\n                  <Button\n                    type="dashed"\n                    onClick={() => add()}\n                    block\n                    icon={<PlusOutlined />}\n                  >\n                    \u65b0\u589e\u4e00\u6761\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n')}var Oe,he=n(192),xe=(n(327),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(211),n(338),n(339),n(340),n(341),n(342),n(343),x.Store.Hooks.useStore),ge=X.a.TabPane,ye=function(){return Object(y.jsx)(m.EditOutlined,{style:{color:"#f1fa8c",marginRight:"5px"}})},ke=function(){return Object(y.jsx)(m.FileTextOutlined,{style:{color:"#a95812",marginRight:"5px"}})},Ce=Object(o.forwardRef)((function(e,t){var n,a=Object(o.useState)(""),i=Object(l.a)(a,2),c=i[0],r=i[1],s=Object(o.useState)(!1),d=Object(l.a)(s,2),f=d[0],b=d[1],p=Object(o.useState)("tsx"),j=Object(l.a)(p,2),v=j[0],O=j[1],h=Object(o.useState)(Object(y.jsx)(y.Fragment,{})),g=Object(l.a)(h,2),k=g[0],C=g[1],w=Object(o.useRef)(null),S=Object(o.useRef)(null),T=Object(o.useState)(""),E=Object(l.a)(T,2),N=E[0],P=E[1],L=xe(),R=L.componentList,I=L.target,_=null===R||void 0===R||null===(n=R.filter)||void 0===n?void 0:n.call(R,(function(e){return"List1"===e.componentKey})),F=(Object(o.useCallback)((function(e){r(e)}),[]),function(){b(!1),O("tsx")});return Object(o.useImperativeHandle)(t,(function(){return{tsxEditor:w.current,lessEditor:S.current,setTsxCode:r,open:function(){b(!0)},close:F,run:function(){!function(e){var t=new x.Generate.Generate(R,I);r(e||t.generate()),new je(t).string2Component(_,e).then((function(e){if("function"===typeof e){var t=e();C(Object(y.jsx)(t,{}))}}))}()}}}),[R,I]),Object(o.useEffect)((function(){var e=.3*window.screen.width;P(e)}),[]),Object(y.jsx)(J.a,{width:"100%",visible:f,destroyOnClose:!0,closable:!1,onClose:F,children:Object(y.jsx)("div",{className:"preview",children:Object(y.jsxs)(me.a,{split:"vertical",minSize:0,defaultSize:N,onDragFinished:function(e){P(e)},children:[Object(y.jsxs)(X.a,{tabBarGutter:5,activeKey:v,className:"code-container",onChange:function(e){O(e)},tabBarStyle:{height:"35px"},type:"card",tabBarExtraContent:Object(y.jsxs)(Q.b,{className:"extra-action-container",split:Object(y.jsx)(Z.a,{}),children:[Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.CloseOutlined,{}),className:"extra-action",type:"link",size:"small",onClick:F,children:"\u5173\u95ed"}),Object(y.jsx)("div",{})]}),children:[Object(y.jsx)(ge,{tab:Object(y.jsxs)("div",{children:["tsx"===v?Object(y.jsx)(ye,{}):Object(y.jsx)(ke,{}),Object(y.jsx)("span",{children:"index.tsx"})]}),children:Object(y.jsx)(he.Controlled,{value:c,className:"code-mirror-wrap",onBeforeChange:function(e,t,n){r(n)},options:{mode:"jsx",tabSize:2,theme:"material",lineNumbers:!0,lineWiseCopyCut:!0,smartIndent:!0,autofocus:!0,styleActiveLine:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]}})},"tsx"),_.length&&_.map((function(e){var t=e.componentProps,n=e.id,o=(t||{}).fields,a=void 0===o?[]:o;return Object(y.jsx)(ge,{tab:Object(y.jsxs)("div",{children:[v===n?Object(y.jsx)(ye,{}):Object(y.jsx)(ke,{}),Object(y.jsxs)("span",{children:["List1-",String(n).slice(0,4),".tsx"]})]}),children:Object(y.jsx)(he.Controlled,{value:ve(a),className:"code-mirror-wrap",onBeforeChange:function(e,t,n){},options:{mode:"jsx",theme:"material",lineNumbers:!0}})},n)}))]}),Object(y.jsx)("div",{className:"form",children:Object(y.jsx)("div",{className:"body",children:k})})]})})})})),we=n(231),Se=x.Store.Context,Te=x.Store.actionTypes,Ee=Te.SET_TARGET,Ne=Te.SET_MOVEABLE_OPTIONS,Pe=Te.UPDATE_COMPONENT_LIST_BY_TARGET,Le={frame:{translate:[0,0]}},Re=function(){var e=Object(o.useContext)(Se),t=e.target,n=e.moveableOptions,a=void 0===n?{}:n,i=e.setGlobal,c=a,r=c.target,l=c.elementGuidelines,s=c.frame,u=void 0===s?{translate:[0,0]}:s,d=c.bounds,f=c.verticalGuidelines,b=c.horizontalGuidelines,p=c.draggable,j=void 0===p||p,m=c.resizable,v=void 0===m||m,O=Object(o.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector(".viewport"),a=(null===o||void 0===o||null===(e=o.getBoundingClientRect)||void 0===e?void 0:e.call(o))||{},c=a.left,r=a.right,l=a.top;a.bottom;i({type:Ne,payload:{bounds:{left:Number(c)-t-50,right:Number(r)-n-52,top:l}}})}),[]);return Object(o.useEffect)((function(){O()}),[]),Object(o.useEffect)((function(){var e=t.layout;i({type:Ne,payload:void 0===e?{}:e})}),[t]),Object(y.jsx)(we.a,{target:r,elementGuidelines:l,verticalGuidelines:f,horizontalGuidelines:b,snappable:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,bounds:d,draggable:j,throttleDrag:0,startDragRotate:0,throttleDragRotate:0,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},resizable:v,keepRatio:!1,throttleResize:0,edge:!1,renderDirections:["nw","n","ne","w","e","sw","s","se"],onDragStart:function(e){e.set(u.translate)},onDrag:function(e){Le.frame.translate=e.beforeTranslate,e.target.style.transform="translate(".concat(e.beforeTranslate[0],"px, ").concat(e.beforeTranslate[1],"px)")},onDragEnd:function(e){e.target,e.isDrag;var t=e.clientX,n=e.clientY,o=Le.frame;i({type:Ee,payload:{layout:{frame:o,clientX:t,clientY:n}}}),i({type:Pe,payload:{data:{layout:{frame:o,clientX:t,clientY:n}}}})},onResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(u.translate)},onResize:function(e){var t=e.target,n=e.width,o=e.height,a=e.drag,i=a.beforeTranslate;Le.width=n,Le.height=o,Le.frame.translate=a.beforeTranslate,t.style.width="".concat(n,"px"),t.style.height="".concat(o,"px"),t.style.transform="translate(".concat(i[0],"px, ").concat(i[1],"px)")},onResizeEnd:function(e){if(e.lastEvent){var t=Le.frame,n=Le.width,o=Le.height;i({type:Ee,payload:{layout:{frame:t,width:n,height:o}}}),i({type:Pe,payload:{data:{layout:{frame:t,width:n,height:o}}}})}}})},Ie=n(232),_e=n(234),Fe=x.Store.Context,De=x.Store.actionTypes.SET_MOVEABLE_OPTIONS,ze=null,Ge=Object(o.forwardRef)((function(e,t){var n=e.type,i=a.a.useRef(),c=Object(o.useContext)(Fe).setGlobal;Object(o.useImperativeHandle)(t,(function(){return{guides:i}}),[]);var l=Object(o.useCallback)((function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e)}),[]),s=Object(o.useCallback)((function(e){var t,n,o=0,a=0;o+=e.deltaX,a+=e.deltaY,null===i||void 0===i||null===(t=i.scrollGuides)||void 0===t||t.call(i,a),null===i||void 0===i||null===(n=i.scroll)||void 0===n||n.call(i,o)}),[]);return Object(o.useEffect)((function(){var e,t,n,o;null===(e=i.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e);var a=document.querySelector(".container");return null===(n=ze=new MutationObserver((function(e){l()})))||void 0===n||null===(o=n.observe)||void 0===o||o.call(n,a,{attributes:!0,childList:!0,characterData:!0}),window.addEventListener("wheel",s),window.addEventListener("resize",l),function(){var e,t;null===(e=ze)||void 0===e||null===(t=e.disconnect)||void 0===t||t.call(e),ze=null,window.removeEventListener("wheel",s),window.removeEventListener("resize",l)}}),[]),Object(y.jsx)(_e.a,Object(r.a)(Object(r.a)({},e),{},{ref:i,onChangeGuides:function(e){var t=e.guides.map((function(e){return Number(e)+30.5}));"horizontal"===n&&c({type:De,payload:{horizontalGuidelines:t}}),"vertical"===n&&c({type:De,payload:{verticalGuidelines:t}})}}))})),Me=(n(344),new(function(){function e(){Object($.a)(this,e),this.callbacks=void 0,this.callbacks=[]}return Object(ee.a)(e,[{key:"addListener",value:function(e,t){if(this.callbacks.length){var n=!1;this.callbacks.forEach((function(o){o.eventName===e&&(n=!0,o.callbacks.push(t))})),n||this.callbacks.push({eventName:e,callbacks:[t]})}else this.callbacks=[{eventName:e,callbacks:[t]}]}},{key:"removeListener",value:function(e,t){this.callbacks.forEach((function(n){n.eventName===e&&(n.callbacks=n.callbacks.filter((function(e){return e!==t})))}))}},{key:"emit",value:function(e){this.callbacks.forEach((function(t){t.eventName===e&&t.callbacks.forEach((function(e){return e()}))}))}}]),e}())),Ae="SHOW_SETTING_PANL",Be="SCROLL_CENTER",Ve="INFINITEVIEWER_SCROLL",Ke=function(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),a=Object(o.useRef)(null),i=Object(o.useCallback)((function(){var e;null===(e=a.current)||void 0===e||e.scrollCenter()}),[]);return Object(o.useEffect)((function(){return M(),i(),window.addEventListener("resize",M),Me.addListener(Be,i),function(){Me.removeListener(Be,i),window.removeEventListener("resize",M)}}),[]),Object(y.jsxs)("div",{className:"infinite-viewer-container",children:[Object(y.jsx)("div",{className:"reset",onClick:function(){i()}}),Object(y.jsx)(Ge,{className:"guides horizontal",ref:t,type:"horizontal",height:30}),Object(y.jsx)(Ge,{className:"guides vertical",width:30,ref:n,type:"vertical"}),Object(y.jsx)(Ie.a,{className:"infinite-viewer",ref:a,useForceWheel:!0,onScroll:function(e){var o,a,i,c,r,l,s,u;Me.emit(Ve);var d=null===(o=t.current)||void 0===o||null===(a=o.guides)||void 0===a?void 0:a.current,f=null===(i=n.current)||void 0===i||null===(c=i.guides)||void 0===c?void 0:c.current;null===d||void 0===d||null===(r=d.scroll)||void 0===r||r.call(d,e.scrollLeft),null===d||void 0===d||null===(l=d.scrollGuides)||void 0===l||l.call(d,e.scrollTop),null===f||void 0===f||null===(s=f.scroll)||void 0===s||s.call(f,e.scrollTop),null===f||void 0===f||null===(u=f.scrollGuides)||void 0===u||u.call(f,e.scrollLeft)},onPinch:function(e){var o,i,c,r,l=Math.max(.1,e.zoom),s=null===(o=t.current)||void 0===o||null===(i=o.guides)||void 0===i?void 0:i.current,u=null===(c=n.current)||void 0===c||null===(r=c.guides)||void 0===r?void 0:r.current;s.zoom=l,u.zoom=l,a.current.zoom=l},children:Object(y.jsx)("div",{className:"viewport",onContextMenu:function(e){e.preventDefault()},children:e.children})})]})},He=(n(345),Object(o.forwardRef)((function(e,t){var n=e.children,a=Object(o.useState)(),c=Object(l.a)(a,2),r=c[0],s=c[1],u=Object(o.useState)(!1),d=Object(l.a)(u,2),f=d[0],b=d[1],p=Object(o.useRef)(null),j=Object(o.useCallback)((function(){b(!1)}),[]);return Object(o.useImperativeHandle)(t,(function(){return{hide:function(){b(!1)},show:function(e){b(!0);var t=e.clientX,n=e.clientY,o=p.current;o.style.left="".concat(t,"px"),o.style.top="".concat(n,"px")}}}),[]),Object(o.useEffect)((function(){return window.addEventListener("click",j),s(document.body),function(){window.removeEventListener("click",j)}}),[]),r?Object(i.createPortal)(Object(y.jsx)("div",{id:"context-menu",ref:p,className:f?"":"hide",children:n}),r):Object(y.jsx)(y.Fragment,{})}))),qe=(n(346),function(){return Object(y.jsx)("div",{className:"logo",children:Object(y.jsxs)("div",{className:"title",children:[Object(y.jsx)(m.LayoutTwoTone,{}),Object(y.jsx)("span",{children:"R Generator"}),Object(y.jsx)("a",{href:"https://github.com/r-generator/page",children:Object(y.jsx)("img",{alt:"GitHub Repo stars",src:"https://img.shields.io/github/stars/r-generator/page?style=flat-square"})})]})})}),Ue=n(216),Ye=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.options,i=void 0===a?[]:a;return Object(y.jsx)("div",{className:"menu-container",children:i.map((function(e,t){var a=e.icon,c=e.key,r=e.label,l=e.type,s=e.className;return Object(y.jsxs)(o.Fragment,{children:[Object(y.jsx)("div",{className:"menu-item",children:Object(y.jsxs)(Ue.a.Link,{onClick:function(){n(c,r)},className:"del"===l?"".concat(s," del"):s,children:[o.cloneElement(a,{className:"menu-item-icon"}),r]})}),t!==i.length-1&&Object(y.jsx)("hr",{})]},V())}))})},We=(n(212),n(230)),Xe=["colNum"],Je=["colNum"],Qe=["align","gutter","justify","wrap"],Ze=["colNum"],$e=x.Store.Utils,et=x.Store.actionTypes,tt=x.Store.Hooks,nt=et.COPY_COMPONENT_LIST,ot=et.DELETE_TARGET,at=et.DEL_COMPONENT_LIST,it=et.LEFT_REMOVE_COMPONENTS,ct=et.RIGHT_REMOVE_COMPONENTS,rt=et.SET_COMPONENT_LIST,lt=et.SET_MOVEABLE_OPTIONS,st=et.SET_TARGET_BY_COMPONENT_LIST,ut=tt.useStore;!function(e){e.copy="\u590d\u5236",e.setting="\u8bbe\u7f6e\u5c5e\u6027",e.del="\u5220\u9664",e.toLeft="\u5de6\u79fb",e.toRight="\u53f3\u79fb"}(Oe||(Oe={}));var dt=$e.refreshTarget,ft=[{key:"toTop",icon:Object(y.jsx)(m.VerticalAlignTopOutlined,{}),label:Oe.toLeft,type:"toTop"},{key:"topBottom",icon:Object(y.jsx)(m.VerticalAlignBottomOutlined,{}),label:Oe.toRight,type:"topBottom"},{key:"copy",icon:Object(y.jsx)(m.CopyOutlined,{}),label:Oe.copy},{key:"del",icon:Object(y.jsx)(m.DeleteOutlined,{}),label:Oe.del,type:"del"},{key:"setting",icon:Object(y.jsx)(m.SettingOutlined,{}),label:Oe.setting}],bt=Object(o.forwardRef)((function(e,t){var n=(ut().target||{}).rowProps,o=void 0===n?{}:n,a=(o.colNum,Object(F.a)(o,Xe));return Object(y.jsx)(d.a,Object(r.a)(Object(r.a)(Object(r.a)({},e),a),{},{ref:t}))}));function pt(e){var t=e.target,n=e.moveableOptions,a=e.componentList,i=void 0===a?[]:a,c=e.setGlobal,s=p.a.useForm(),u=Object(l.a)(s,1)[0],d=Object(o.useRef)(null),b=t||{},j=b.componentProps,m=b.formItemProps,v=b.formProps,O=void 0===v?{}:v,x=b.colProps,g=void 0===x?{}:x,k=b.rowProps,C=void 0===k?{}:k,w=(C.colNum,Object(F.a)(C,Je)),S=function(e,t){c({type:rt,payload:{newState:t,id:e}})},T=Object(o.useCallback)((function(){var e,t;null===(e=d.current)||void 0===e||null===(t=e.hide)||void 0===t||t.call(e)}),[]);return Object(o.useEffect)((function(){return Me.addListener(Ve,T),function(){Me.removeListener(Ve,T)}}),[]),Object(o.useEffect)((function(){(null===m||void 0===m?void 0:m.name)&&u.setFieldsValue(Object(_.a)({},m.name,null===j||void 0===j?void 0:j.defaultValue))}),[t.id]),Object(o.useEffect)((function(){var e={};i.forEach((function(t){var n=t.componentKey,o=t.formItemProps,a=t.componentProps,i=(o||{}).name,c=(a||{}).defaultValue;A(n)||(e[i]=c)})),u.setFieldsValue(e)}),[i,u]),Object(y.jsxs)(p.a,Object(r.a)(Object(r.a)({},O),{},{style:{height:"100%",position:"relative"},form:u,children:[Object(y.jsx)(We.ReactSortable,{sort:!0,animation:150,tag:bt,list:i,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",group:{name:"form-wrap",put:!0},setList:function(e){c({type:rt,payload:{newState:e,id:null===t||void 0===t?void 0:t.id}})},onChoose:function(e){var n=e.item.dataset.id;n!==t.id&&(c({type:st,payload:{id:n}}),S(n,i))},onUnchoose:function(e){e.item.classList.add("sortable-chosen")},children:i.map((function(e){var n=e.id,o=e.chosen,a=e.children,l=e.componentKey,s=e.formItemProps,b=e.componentProps,p=e.colProps,j=void 0===p?{}:p,m=e.layout,v=void 0===m?{}:m,x=v.frame,k=void 0===x?{translate:[0,0,0]}:x,T=v.height,E=v.width,N=k.translate,P={display:"inline-block",transform:"translate(".concat(N[0],"px, ").concat(N[1],"px)")};"number"===typeof E?P.width="".concat(E,"px"):"string"===typeof E&&(P.width=E),T&&(P.height="".concat(T,"px"));w.align,w.gutter,w.justify,w.wrap;var L=Object(F.a)(w,Qe),R=(j.colNum,Object(F.a)(j,Ze));return Object(y.jsx)(f.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},L),R)),{},{onContextMenu:function(e){var t,o;e.preventDefault(),c({type:st,payload:{id:n}}),S(n,i),null===(t=d.current)||void 0===t||null===(o=t.show)||void 0===o||o.call(t,e)},children:Object(y.jsx)("div",{"data-id":n,className:"".concat(h," ").concat(o?"drag-target-chosen":""),onClick:function(e){e.stopPropagation(),n!==t.id&&(c({type:st,payload:{id:n}}),S(n,i))},children:Object(y.jsx)(W,{id:n,form:u,children:a,colProps:g,rowProps:C,formProps:O,formItemProps:s,componentProps:b,componentKey:l},n)})}),n)}))}),Object(y.jsx)(He,{ref:d,children:Object(y.jsx)(Ye,{options:ft,onClick:function(e,o){if(o===Oe.del&&(c({type:at,payload:{id:t.id}}),c({type:ot}),c({type:lt,payload:{target:null}})),o===Oe.setting&&Me.emit(Ae),o===Oe.copy){var a=V();c({type:nt,payload:{id:t.id,newId:a}})}o===Oe.toLeft&&(c({type:it,payload:{id:t.id}}),dt(null===n||void 0===n?void 0:n.target,c)),o===Oe.toRight&&(c({type:ct,payload:{id:t.id}}),dt(null===n||void 0===n?void 0:n.target,c))}})})]}))}var jt=x.Store.Hooks.useStore,mt=function(){var e=jt(),t=e.target,n=e.moveableOptions,o=e.componentList,a=e.setGlobal;return Object(y.jsx)("div",{className:"form-design-area",children:0===(null===o||void 0===o?void 0:o.length)?Object(y.jsx)("div",{className:"not-found-info",children:"\u4ece\u5de6\u4fa7\u70b9\u9009\u7ec4\u4ef6\u8fdb\u884c\u8868\u5355\u8bbe\u8ba1"}):Object(y.jsx)(pt,{target:t,componentList:o,moveableOptions:n,setGlobal:a})})},vt=function(e){var t,n=e.type,o=e.handleType;return Object(y.jsxs)("div",{className:"left-action",children:[Object(y.jsx)(u.a,{type:"coms"===n?"primary":"text",ghost:"coms"!==n,icon:Object(y.jsx)(m.WindowsOutlined,{style:(t="coms",{color:n!==t?"#fff":"",fontSize:18})}),onClick:function(){return o("coms")}}),Object(y.jsx)(qe,{})]})},Ot=n(219);var ht=x.Store.actionTypes,xt=x.Store.Context,gt=ht.DELETE_ALL_COMPONENT_LIST_AND_TARGET,yt=ht.SET_MOVEABLE_OPTIONS,kt=function(e){var t=e.type,n=e.handleType,a=Object(o.useRef)(null),i=Object(o.useContext)(xt),c=i.target,r=i.componentList,l=i.setGlobal,s=function(e){return{color:t!==e?"#fff":"",fontSize:18}},d=Object(o.useCallback)((function(){n("setting")}),[]);return Object(o.useEffect)((function(){return Me.addListener(Ae,d),function(){Me.removeListener(Ae,d)}}),[]),Object(y.jsxs)("div",{className:"right-action",children:[Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.PlayCircleOutlined,{style:s("run")}),type:"run"===t?"primary":"text",onClick:function(){!function(){var e,t;null===(e=a.current)||void 0===e||e.run(),null===(t=a.current)||void 0===t||t.open()}()}}),Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.PicCenterOutlined,{style:s("center")}),type:"center"===t?"primary":"text",onClick:function(){Me.emit(Be)}}),Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.EyeOutlined,{style:s("preview")}),type:"preview"===t?"primary":"text",size:"middle",onClick:function(){!function(){var e=function(e,t){var n,o=null===(n=t.rowProps)||void 0===n?void 0:n.colNum,a={type:"object",properties:{}};return e.forEach((function(e){var t=e.formItemProps.name,n=e.componentKey.toLowerCase().replace(/^.*\./,"");a.properties[t]={type:"string",widget:n}})),{number:o,json:a}}(r,c);console.log(e)}()}}),Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.VerticalAlignBottomOutlined,{style:s("download")}),type:"download"===t?"primary":"text",size:"middle",onClick:function(){}}),Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.DeleteOutlined,{style:s("clean")}),type:"clean"===t?"primary":"text",danger:!0,onClick:function(){Ot.a.confirm({title:"\u63d0\u793a",icon:Object(y.jsx)(m.ExclamationCircleOutlined,{}),content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u7ec4\u4ef6\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){l({type:gt}),l({type:yt,payload:{target:null}})}})}}),Object(y.jsx)(u.a,{icon:Object(y.jsx)(m.SettingOutlined,{style:s("setting")}),type:"setting"===t?"primary":"text",onClick:function(){return n("setting")}}),Object(y.jsx)(Ce,{ref:a})]})},Ct=function(){return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"p-10",children:Object(y.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},wt=(n(349),x.Store.actionTypes,x.Store.Hooks.useStore),St=function(e){var t=wt().mode,n=Object(o.useState)(""),a=Object(l.a)(n,2),i=a[0],c=a[1],r=function(e){c(i===e?"":e)};return Object(o.useEffect)((function(){["coms","setting",""].includes(i)&&M()}),[i]),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(vt,{type:i,handleType:r}),"coms"===i&&Object(y.jsx)(N,{}),Object(y.jsx)("div",{className:"content",children:"form"===t?Object(y.jsx)(mt,{}):Object(y.jsxs)(Ke,{children:[Object(y.jsx)(Ct,{}),Object(y.jsx)(Re,{})]})}),"setting"===i&&Object(y.jsx)(I,{}),Object(y.jsx)(kt,{type:i,handleType:r})]})},Tt=(n(350),n(351),n(352),x.Store.Context),Et=x.Store.INITAL_STATE,Nt=x.Store.commonReducer,Pt=x.Store.Hooks.useLPReducer,Lt=function(){var e=Pt(Nt,Et,"STORE"),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(y.jsx)(Tt.Provider,{value:Object(r.a)(Object(r.a)({},n||Et),{},{setGlobal:o}),children:Object(y.jsx)(St,{})})};c.a.render(Object(y.jsx)(Lt,{}),document.getElementById("root"))},37:function(e,t){e.exports=icons},38:function(e,t){e.exports=ReactDOM}},[[353,1,2]]]);
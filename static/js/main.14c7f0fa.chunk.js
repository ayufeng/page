/*! For license information please see main.14c7f0fa.chunk.js.LICENSE.txt */
(this["webpackJsonp@r-generator/page"]=this["webpackJsonp@r-generator/page"]||[]).push([[0],[,function(e,t){e.exports=antd},,,,function(e,t){e.exports=React},function(e,t){e.exports=icons},function(e,t){e.exports=PropTypes},function(e,t){e.exports=_},,,,,,,,,,function(e,t){e.exports=ReactDOM},,,,,,,function(e,t,n){},function(e,t){e.exports=ReactDraggable},function(e,t){e.exports=monaco_react},,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,function(e,t){e.exports=Sortable},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),r=n(18),l=n.n(r),c=n(11);function a(e){return void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}function s(e,t,n,o){return new(n||(n=Promise))((function(i,r){function l(e){try{a(o.next(e))}catch(e){r(e)}}function c(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}a((o=o.apply(e,t||[])).next())}))}function d(e,t){var n,o,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,o=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){l.label=r[1];break}if(6===r[0]&&l.label<i[1]){l.label=i[1],i=r;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(r);break}i[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}var u=function(){function e(e,t,n){void 0===e&&(e="r-generator"),void 0===t&&(t=1),void 0===n&&(n="store"),this.db=null,this.databaseName=e,this.version=t,this.tableName=n,this.connections()}return e.prototype.connections=function(e,t,n){return void 0===e&&(e="r-generator"),void 0===t&&(t=1),void 0===n&&(n="store"),s(this,void 0,void 0,(function(){var o=this;return d(this,(function(i){return[2,new Promise((function(i,r){o.db&&i(o.db);var l=window.indexedDB.open(e,t);l.onerror=function(e){r("\u6570\u636e\u5e93\u6253\u5f00\u62a5\u9519")},l.onsuccess=function(r){o.db=l.result,o.databaseName=e,o.version=t,o.tableName=n,i(o.db)},l.onupgradeneeded=function(e){var t;o.db=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.result,o.db&&!o.db.objectStoreNames.contains(n)&&o.db.createObjectStore(n,{autoIncrement:!0})}}))]}))}))},e.prototype.add=function(e,t){return s(this,void 0,void 0,(function(){var n=this;return d(this,(function(o){switch(o.label){case 0:return[4,this.connections()];case 1:return o.sent(),[2,new Promise((function(o,i){if(!n.db)return i("\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0d\u5b58\u5728");var r=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).add(e,t);r.onsuccess=function(e){o(e)},r.onerror=function(e){i("\u6570\u636e\u5199\u5165\u5931\u8d25")}}))]}}))}))},e.prototype.read=function(e){return s(this,void 0,void 0,(function(){var t=this;return d(this,(function(n){switch(n.label){case 0:return[4,this.connections()];case 1:return n.sent(),[2,new Promise((function(n,o){if(!t.db)return o("\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0d\u5b58\u5728");var i=t.db.transaction([t.tableName]).objectStore(t.tableName).get(e);i.onerror=function(e){o("\u4e8b\u52a1\u5931\u8d25")},i.onsuccess=function(e){i.result?n(i.result):o("\u672a\u83b7\u5f97\u6570\u636e\u8bb0\u5f55")}}))]}}))}))},e.prototype.readAll=function(){return s(this,void 0,void 0,(function(){var e=this;return d(this,(function(t){switch(t.label){case 0:return[4,this.connections()];case 1:return t.sent(),[2,new Promise((function(t,n){if(!e.db)return n("\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0d\u5b58\u5728");var o=e.db.transaction(e.tableName).objectStore(e.tableName),i=[];o.openCursor().onsuccess=function(e){var n,o=null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.result;o?(i.push((null==o?void 0:o.value)||{}),o.continue()):t(i)}}))]}}))}))},e.prototype.update=function(e,t){return s(this,void 0,void 0,(function(){var n=this;return d(this,(function(o){switch(o.label){case 0:return[4,this.connections()];case 1:return o.sent(),[2,new Promise((function(o,i){if(!n.db)return i("\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0d\u5b58\u5728");var r=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(e,t);r.onsuccess=function(e){o("\u6570\u636e\u66f4\u65b0\u6210\u529f")},r.onerror=function(e){i("\u6570\u636e\u66f4\u65b0\u5931\u8d25")}}))]}}))}))},e.prototype.remove=function(e){return s(this,void 0,void 0,(function(){var t=this;return d(this,(function(n){switch(n.label){case 0:return[4,this.connections()];case 1:return n.sent(),[2,new Promise((function(n,o){if(!t.db)return o("\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0d\u5b58\u5728");t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e).onsuccess=function(e){n("\u6570\u636e\u5220\u9664\u6210\u529f")}}))]}}))}))},e}(),p=n(8),b={target:{id:a(),type:"",label:""},componentList:[],moveableOptions:{elClassName:null,frame:{translate:[0,0]}},mode:"assemble",actionType:"form-pool",layoutType:"flexible",commonProps:{layout:{row:{gutter:20,colNum:"3"},col:{}},form:{}},setGlobal:function(e){}},j=i.a.createContext(b),v=function(){return(v=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function f(e){return!!e&&!!e[te]}function h(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ne}(e)||Array.isArray(e)||!!e[ee]||!!e.constructor[ee]||w(e)||C(e))}function O(e,t,n){void 0===n&&(n=!1),0===x(e)?(n?Object.keys:oe)(e).forEach((function(o){n&&"symbol"==typeof o||t(o,e[o],e)})):e.forEach((function(n,o){return t(o,n,e)}))}function x(e){var t=e[te];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:w(e)?2:C(e)?3:0}function y(e,t){return 2===x(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function g(e,t,n){var o=x(e);2===o?e.set(t,n):3===o?(e.delete(t),e.add(n)):e[t]=n}function w(e){return X&&e instanceof Map}function C(e){return $&&e instanceof Set}function N(e){return e.o||e.t}function T(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ie(e);delete t[te];for(var n=oe(t),o=0;o<n.length;o++){var i=n[o],r=t[i];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[i]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function I(e,t){return void 0===t&&(t=!1),k(e)||f(e)||!h(e)||(x(e)>1&&(e.set=e.add=e.clear=e.delete=E),Object.freeze(e),t&&O(e,(function(e,t){return I(t,!0)}),!0)),e}function E(){m(2)}function k(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function P(e){var t=re[e];return t||m(18,e),t}function F(){return Y}function S(e,t){t&&(P("Patches"),e.u=[],e.s=[],e.v=t)}function L(e){R(e),e.p.forEach(_),e.p=null}function R(e){e===Y&&(Y=e.l)}function A(e){return Y={p:[],l:Y,h:e,m:!0,_:0}}function _(e){var t=e[te];0===t.i||1===t.i?t.j():t.O=!0}function D(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||P("ES5").S(t,e,o),o?(n[te].P&&(L(t),m(4)),h(e)&&(e=M(t,e),t.l||G(t,e)),t.u&&P("Patches").M(n[te],e,t.u,t.s)):e=M(t,n,[]),L(t),t.u&&t.v(t.u,t.s),e!==Z?e:void 0}function M(e,t,n){if(k(t))return t;var o=t[te];if(!o)return O(t,(function(i,r){return B(e,o,t,i,r,n)}),!0),t;if(o.A!==e)return t;if(!o.P)return G(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=4===o.i||5===o.i?o.o=T(o.k):o.o;O(3===o.i?new Set(i):i,(function(t,r){return B(e,o,i,t,r,n)})),G(e,i,!1),n&&e.u&&P("Patches").R(o,n,e.u,e.s)}return o.o}function B(e,t,n,o,i,r){if(f(i)){var l=M(e,i,r&&t&&3!==t.i&&!y(t.D,o)?r.concat(o):void 0);if(g(n,o,l),!f(l))return;e.m=!1}if(h(i)&&!k(i)){if(!e.h.F&&e._<1)return;M(e,i),t&&t.A.l||G(e,i)}}function G(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&I(t,n)}function V(e,t){var n=e[te];return(n?N(n):e)[t]}function z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function U(e){e.o||(e.o=T(e.t))}function q(e,t,n){var o=w(t)?P("MapSet").N(t,n):C(t)?P("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),o={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=o,r=le;n&&(i=[o],r=ce);var l=Proxy.revocable(i,r),c=l.revoke,a=l.proxy;return o.k=a,o.j=c,a}(t,n):P("ES5").J(t,n);return(n?n.A:F()).p.push(o),o}function H(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return T(e)}var W,Y,J="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,$="undefined"!=typeof Set,Q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Z=J?Symbol.for("immer-nothing"):((W={})["immer-nothing"]=!0,W),ee=J?Symbol.for("immer-draftable"):"__$immer_draftable",te=J?Symbol.for("immer-state"):"__$immer_state",ne=""+Object.prototype.constructor,oe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ie=Object.getOwnPropertyDescriptors||function(e){var t={};return oe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},re={},le={get:function(e,t){if(t===te)return e;var n=N(e);if(!y(n,t))return function(e,t,n){var o,i=z(t,n);return i?"value"in i?i.value:null===(o=i.get)||void 0===o?void 0:o.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!h(o)?o:o===V(e.t,t)?(U(e),e.o[t]=q(e.A.h,o,e)):o},has:function(e,t){return t in N(e)},ownKeys:function(e){return Reflect.ownKeys(N(e))},set:function(e,t,n){var o=z(N(e),t);if(null==o?void 0:o.set)return o.set.call(e.k,n),!0;if(!e.P){var i=V(N(e),t),r=null==i?void 0:i[te];if(r&&r.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||y(e.t,t)))return!0;U(e),K(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==V(e.t,t)||t in e.t?(e.D[t]=!1,U(e),K(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=N(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty:function(){m(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){m(12)}},ce={};O(le,(function(e,t){ce[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ce.deleteProperty=function(e,t){return le.deleteProperty.call(this,e[0],t)},ce.set=function(e,t,n){return le.set.call(this,e[0],t,n,e[0])};var ae=new(function(){function e(e){var t=this;this.g=Q,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var r=t;return function(e){var t=this;void 0===e&&(e=i);for(var o=arguments.length,l=Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return r.produce(e,(function(e){var o;return(o=n).call.apply(o,[t,e].concat(l))}))}}var l;if("function"!=typeof n&&m(6),void 0!==o&&"function"!=typeof o&&m(7),h(e)){var c=A(t),a=q(t,e,void 0),s=!0;try{l=n(a),s=!1}finally{s?L(c):R(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return S(c,o),D(e,c)}),(function(e){throw L(c),e})):(S(c,o),D(l,c))}if(!e||"object"!=typeof e){if((l=n(e))===Z)return;return void 0===l&&(l=e),t.F&&I(l,!0),l}m(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var o=arguments.length,i=Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){o=e,i=t})),o,i];var o,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){h(e)||m(8),f(e)&&(e=function(e){return f(e)||m(22,e),function e(t){if(!h(t))return t;var n,o=t[te],i=x(t);if(o){if(!o.P&&(o.i<4||!P("ES5").K(o)))return o.t;o.I=!0,n=H(t,i),o.I=!1}else n=H(t,i);return O(n,(function(t,i){o&&function(e,t){return 2===x(e)?e.get(t):e[t]}(o.t,t)===i||g(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=A(this),n=q(this,e,void 0);return n[te].C=!0,R(t),n},t.finishDraft=function(e,t){var n=(e&&e[te]).A;return S(n,t),D(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Q&&m(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}var i=P("Patches").$;return f(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),se=ae.produce;ae.produceWithPatches.bind(ae),ae.setAutoFreeze.bind(ae),ae.setUseProxies.bind(ae),ae.applyPatches.bind(ae),ae.createDraft.bind(ae),ae.finishDraft.bind(ae);var de="SET_TARGET",ue="SET_TARGET_BY_COMPONENT_LIST",pe="SET_COMPONENT_LIST",be="UPDATE_COMPONENT_LIST_BY_TARGET",je="SET_MOVEABLE_OPTIONS",ve="UPDATE_ACTION_TYPE",me="SET_GLOBAL",fe=se((function(e,t){var n,o=v(v(v(v(v({},function(e,t){var n;return(n={}).DELETE_TARGET=function(){e.target=b.target},n.SET_TARGET_BY_COMPONENT_LIST=function(){!function n(o){for(var i,r,l=0;l<o.length;l++){var c=o[l];if((null===(i=null==c?void 0:c.children)||void 0===i?void 0:i.length)&&n(null==c?void 0:c.children),(null==c?void 0:c.id)===(null===(r=t.payload)||void 0===r?void 0:r.id)){e.target=c;break}}}(e.componentList)},n.SET_TARGET=function(){var n=Object(p.merge)(Object(p.cloneDeep)(e.target),Object(p.cloneDeep)(t.payload));e.target=n},n.DELETE_TARGET=function(){Object.keys(e.target).forEach((function(e){}))},n.SET_MOVEABLE_OPTIONS=function(){e.moveableOptions=Object(p.merge)(e.moveableOptions,Object(p.cloneDeep)(t.payload))},n}(e,t)),function(e,t){var n;return(n={}).DELETE_ALL_COMPONENT_LIST_AND_TARGET=function(){e.componentList=[]},n.PUT_COMPONENT_LIST=function(){for(var n,o,i,r=0;r<(null===(n=e.componentList)||void 0===n?void 0:n.length);r++)if(e.componentList[r].id===(null===(o=t.payload)||void 0===o?void 0:o.id))return;null===(i=e.componentList)||void 0===i||i.push(t.payload)},n.SET_COMPONENT_LIST=function(){for(var n=Object(p.cloneDeep)(t.payload)||{},o=n.newState,i=void 0===o?[]:o,r=n.id,l=0;l<(null==i?void 0:i.length);l++){var c=i[l];c.id===r?c.chosen=!0:c.chosen=!1}e.componentList=i},n.UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN=function(){var n,o=t.payload||{},i=o.id,r=o.children,l=Object(p.cloneDeep)(void 0===r?[]:r);null===(n=null==e?void 0:e.componentList)||void 0===n||n.forEach((function(e,t){e.id===i&&(e.children=l)}))},n.DEL_COMPONENT_LIST=function(){!function n(o){for(var i,r,l=0;l<(null==o?void 0:o.length);l++)if((null===(i=o[l])||void 0===i?void 0:i.children)&&n(e.componentList[l].children),o[l].id===(null===(r=t.payload)||void 0===r?void 0:r.id)){o.splice(l,1);break}}(null==e?void 0:e.componentList)},n.COPY_COMPONENT_LIST=function(){var n,o={},i=(null==t?void 0:t.payload)||{},r=i.id,l=i.newId,c=void 0===l?a():l;null===(n=e.componentList)||void 0===n||n.forEach((function(t){t.id===r&&(t.chosen=!1,(o=Object(p.cloneDeep)(t)).chosen=!0,o.id=c,o.key=c,o.formItemProps.name=c,e.componentList.push(o),e.target=Object(p.merge)(e.target,o))}))},n.INSERT_COMPONENT_LIST=function(){var n=t.payload,o=n.index,i=n.data;e.componentList.splice(o,0,i)},n.UPDATE_COMPONENT_LIST_BY_TARGET=function(){(t.payload||{}).data;!function e(t){null==t||t.forEach((function(t){(null==t?void 0:t.children)&&e(t.children)}))}(null==e?void 0:e.componentList)},n.UPDATE_COMPONENT_LIST_AND_TARGET=function(){var n,o=t.payload||{};o.componentKey,o.newComponentProps;var i=null===(n=null==e?void 0:e.componentList)||void 0===n?void 0:n.map((function(e){return e}));e.componentList=i},n.RESET_COMPONENT_LAYOUT=function(){e.componentList.forEach((function(e,t){e.layout={}}))},n.SET_COMPONENT_LAYOUT=function(){var n=t.payload||{},o=n.colNum,i=n.gutter;e.componentList.forEach((function(e,t){var n={frame:{translate:[0,0,0]}};if(o>1&&(n.width="calc(100% / "+o+")",i>0)){var r=(o-1)*i/o;if(n.width="calc(100%/"+o+" - "+(Object(p.isInteger)(r)?r:r.toFixed(2))+"px)",0!==t&&t%o!=0){var l=t%o;n.frame.translate[0]=n.frame.translate[0]+i*l}}e.layout=n}))},n.LEFT_REMOVE_COMPONENTS=function(){var n=(t.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===n})),i=e.componentList[o],r=o-1;if(r>0){var l=e.componentList[r];e.componentList[r]=i,e.componentList[o]=l}},n.RIGHT_REMOVE_COMPONENTS=function(){var n=(t.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===n})),i=e.componentList[o],r=o+1;if(r<e.componentList.length){var l=e.componentList[r];e.componentList[r]=i,e.componentList[o]=l}},n}(e,t)),function(e,t){var n;return(n={}).UPDATE_MODE=function(){var n;e.mode=null===(n=t.payload)||void 0===n?void 0:n.mode},n}(e,t)),function(e,t){var n;return(n={}).UPDATE_ACTION_TYPE=function(){var n;e.actionType=null===(n=t.payload)||void 0===n?void 0:n.actionType},n}(e,t)),((n={}).SET_GLOBAL=function(){Object.keys(e).forEach((function(n){var o,i;e[n]&&void 0!==(null===(o=t.payload)||void 0===o?void 0:o[n])&&(e[n]=null===(i=t.payload)||void 0===i?void 0:i[n])}))},n));"function"==typeof o[t.type]&&o[t.type]()}));function he(e,t){requestAnimationFrame((function(){t({type:"SET_MOVEABLE_OPTIONS",payload:{target:null}}),t({type:"SET_MOVEABLE_OPTIONS",payload:{target:e}})}))}function Oe(){return Object(o.useContext)(j)}var xe=new u,ye=!0;var ge=n(0),we=n(1),Ce=n(6),Ne=n(26),Te=n.n(Ne),Ie=function(){return(Ie=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ee(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}var ke={size:"small",labelAlign:"left",labelCol:{span:8},wrapperCol:{span:24},colon:!1},Pe=Object.entries(Ce).filter((function(e){var t=(e||[])[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(t)})),Fe=function(e){return Object(ge.jsx)(we.Collapse,Ie({},e,{className:"site-collapse-custom-collapse",expandIcon:function(e){var t=e.isActive;return Object(ge.jsx)(Ce.CaretRightOutlined,{rotate:t?90:0},void 0)}},{children:e.children}),void 0)};Fe.Panel=function(e){return Object(ge.jsx)(we.Collapse.Panel,Ie({},e,{className:"site-collapse-custom-panel"},{children:e.children}),void 0)};var Se=function(e){var t=e.text,n=e.extra;return Object(ge.jsxs)(we.Row,Ie({justify:"space-between",style:{padding:"0 10px"}},{children:[Object(ge.jsx)(we.Col,{children:Object(ge.jsx)(we.Typography.Title,Ie({level:5},{children:Object(ge.jsx)(we.Typography.Text,Ie({type:"secondary"},{children:t}),void 0)}),void 0)},void 0),Object(ge.jsx)(we.Col,{children:n},void 0)]}),void 0)},Le={Input:we.Input,InputNumber:we.InputNumber,Select:we.Select,Cascader:we.Cascader,Radio:we.Radio,Checkbox:we.Checkbox,Switch:we.Switch,Slider:we.Slider,TimePicker:we.TimePicker,DatePicker:we.DatePicker,Rate:we.Rate,Upload:we.Upload},Re=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",children:[{label:"\u5355\u884c\u6587\u672c",type:"form/item",props:{label:"\u5355\u884c\u6587\u672c"},id:a(),children:[{label:"\u5355\u884c\u6587\u672c",type:"input",id:a()}]},{label:"\u591a\u884c\u6587\u672c",type:"form/item",id:a(),props:{label:"\u591a\u884c\u6587\u672c"},children:[{label:"\u591a\u884c\u6587\u672c",type:"input/text-area",id:"input/text-area"}]},{label:"\u5bc6\u7801",type:"form/item",props:{label:"\u5bc6\u7801"},id:a(),children:[{label:"\u5bc6\u7801",type:"input/password",id:"input/password"}]},{label:"\u8ba1\u6570\u5668",type:"form/item",id:a(),props:{label:"\u8ba1\u6570\u5668"},children:[{label:"\u8ba1\u6570\u5668",type:"input-number",id:"input-number"}]}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",children:[{label:"\u4e0b\u62c9\u9009\u62e9",type:"form/item",props:{label:"\u4e0b\u62c9\u9009\u62e9"},id:a(),children:[{label:"\u4e0b\u62c9\u9009\u62e9",type:"select",id:"select"}]},{label:"\u7ea7\u8054\u9009\u62e9",type:"form/item",id:a(),props:{label:"\u7ea7\u8054\u9009\u62e9"},children:[{label:"\u7ea7\u8054\u9009\u62e9",type:"cascader",id:"cascader"}]},{label:"\u5355\u9009\u6846\u7ec4",type:"form/item",id:a(),props:{label:"\u5355\u9009\u6846\u7ec4"},children:[{label:"\u5355\u9009\u6846\u7ec4",type:"radio",id:"radio"}]},{label:"\u591a\u9009\u6846\u7ec4",type:"form/item",id:a(),props:{label:"\u591a\u9009\u6846\u7ec4"},children:[{label:"\u591a\u9009\u6846\u7ec4",type:"checkbox",id:"checkbox"}]},{label:"\u5f00\u5173",type:"form/item",props:{label:"\u5f00\u5173"},id:a(),children:[{label:"\u5f00\u5173",type:"switch",id:"switch"}]},{label:"\u6ed1\u5757",type:"form/item",props:{label:"\u6ed1\u5757"},id:a(),children:[{label:"\u6ed1\u5757",type:"slider",id:"slider"}]},{label:"\u65f6\u95f4\u9009\u62e9",type:"form/item",id:a(),props:{label:"\u65f6\u95f4\u9009\u62e9"},children:[{label:"\u65f6\u95f4\u9009\u62e9",type:"time-picker",id:"time-picker",props:{value:""}}]},{label:"\u65f6\u95f4\u8303\u56f4",type:"form/item",id:a(),props:{label:"\u65f6\u95f4\u8303\u56f4"},children:[{label:"\u65f6\u95f4\u8303\u56f4",type:"time-picker/range-picker",id:"time-picker/range-picker",props:{value:[]}}]},{label:"\u65e5\u671f\u9009\u62e9",type:"form/item",id:a(),props:{label:"\u65e5\u671f\u9009\u62e9"},children:[{label:"\u65e5\u671f\u9009\u62e9",type:"date-picker",id:"date-picker",props:{value:""}}]},{label:"\u65e5\u671f\u8303\u56f4",type:"form/item",props:{label:"\u65e5\u671f\u8303\u56f4"},id:a(),children:[{label:"\u65e5\u671f\u8303\u56f4",type:"date-picker/range-picker",id:"date-picker/range-picker",props:{value:[]}}]},{label:"\u8bc4\u5206",type:"form/item",props:{label:"\u8bc4\u5206"},id:a(),children:[{label:"\u8bc4\u5206",type:"rate",id:"rate"}]},{label:"\u4e0a\u4f20",type:"form/item",props:{label:"\u4e0a\u4f20"},id:a(),children:[{label:"\u4e0a\u4f20",type:"upload",id:"upload"}]}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",children:[{label:"\u5217\u88681",type:"form/item",id:a(),props:{label:"\u5217\u88681"},children:[{label:"\u5217\u88681",type:"list1",id:"list1"}]}]}],Ae=[];Re.forEach((function(e){Array.isArray(e.children)&&Ae.concat(e.children)}));Array.from(function e(t,n){return void 0===n&&(n=new Set),t.forEach((function(t){n.add(t.type),t.children&&e(t.children,n)})),n}(Ae)),Object(Ce.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_n04nm328pmp.js"});var _e=Object(o.forwardRef)((function(e,t){var n=e.onOk,r=Object(o.useState)(!1),l=r[0],c=r[1],a=Object(o.useState)(Pe),s=a[0],d=a[1];return Object(o.useImperativeHandle)(t,(function(){return{show:function(){c(!0)},hide:function(){c(!1)}}}),[]),Object(ge.jsx)(we.Modal,Ie({width:"80%",title:Object(ge.jsxs)("div",Ie({className:"modal-title"},{children:[Object(ge.jsx)("span",{children:"Ant Design Icon \u56fe\u6807"},void 0),Object(ge.jsx)(we.Input,{className:"search",onInput:function(e){var t=e.target.value,n=Pe.filter((function(e){var n,o=(e||[])[0];return-1!==(null===(n=null==o?void 0:o.toLowerCase())||void 0===n?void 0:n.indexOf(null==t?void 0:t.toLowerCase()))}));d(n)},placeholder:"\u5728\u6b64\u641c\u7d22\u56fe\u6807\uff0c\u70b9\u51fb\u56fe\u6807\u53ef\u9009\u4e2d",addonAfter:Object(ge.jsx)(we.Button,{type:"link",size:"small",icon:Object(ge.jsx)(Ce.SearchOutlined,{},void 0)},void 0)},void 0)]}),void 0),visible:l,footer:null,onCancel:function(){c(!1)}},{children:Object(ge.jsx)(we.Row,Ie({gutter:[16,16]},{children:null==s?void 0:s.map((function(e){var t=e||[],o=t[0],r=t[1];return Object(ge.jsxs)(we.Col,Ie({className:"icon-col",span:3,onClick:function(){var e,t;e=o,t=r,c(!1),n&&n(e,Object(ge.jsx)(t,{},void 0))}},{children:[Object(ge.jsx)("div",Ie({className:"icon-item"},{children:"function"!=typeof r?i.a.cloneElement(Object(ge.jsx)(r,{},void 0)):Object(ge.jsx)(ge.Fragment,{},void 0)}),void 0),Object(ge.jsx)("div",{children:o},void 0)]}),o)}))}),void 0)}),void 0)})),De=function(e){var t=e.tooltipTitle,n=e.text,o=Ee(e,["tooltipTitle","text"]);return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(we.Checkbox,Ie({},o,{children:Object(ge.jsx)(we.Tooltip,Ie({title:t},{children:n}),void 0)}),void 0)},void 0)},Me=function(e){var t=e.children,n=e.onChange,i=Object(o.useState)(!1),r=i[0],l=i[1],c=Object(o.useRef)(null),a=function(e){var t=e.target.value;null==n||n(t),l(!1)};return Object(ge.jsx)("div",Ie({onClick:function(){l(!0),requestAnimationFrame((function(){var e,t;null===(t=null===(e=c.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}))}},{children:r?Object(ge.jsx)(we.Input,{ref:c,defaultValue:t,onPressEnter:a,onBlur:a},void 0):Object(ge.jsx)("div",Ie({className:"editable-cell"},{children:t}),void 0)}),void 0)};function Be(e,t,n,o){void 0===t&&(t=[]);var i=!1,r=function e(o,r){void 0===r&&(r=[]);for(var l=0;l<r.length;l++){var c=r[l];if(c.key===o)return i=!0,null==n||n(c,l,r,t),r;Array.isArray(c.children)&&e(o,c.children)}return r}(e,t);return i||null==o||o(),r}var Ge=function(e){var t=e.dataSource,n=void 0===t?[]:t,i=e.onChange,r=Object(o.useState)([]),l=r[0],c=r[1],s=Object(o.useState)([]),d=s[0],u=s[1],b=function(e,t,n){var o=Be(e,Object(p.cloneDeep)(l),(function(e){e[n]=t}));c(o)};return Object(o.useEffect)((function(){c(n)}),[]),Object(o.useEffect)((function(){null==i||i(Object(p.cloneDeep)(l),c)}),[l]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",Ie({className:"tree-header"},{children:[Object(ge.jsxs)("span",Ie({className:"tree-header-item"},{children:[Object(ge.jsx)("span",{children:"\u9009\u9879\u5185\u5bb9"},void 0),Object(ge.jsx)("span",{children:"label"},void 0)]}),void 0),Object(ge.jsxs)("span",Ie({className:"tree-header-item"},{children:[Object(ge.jsx)("span",{children:"\u9009\u9879\u503c"},void 0),Object(ge.jsx)("span",{children:"value"},void 0)]}),void 0),Object(ge.jsx)("span",Ie({className:"tree-header-item"},{children:"\u64cd\u4f5c"}),void 0)]}),void 0),Object(ge.jsx)(we.Tree,Ie({className:"draggable-tree",selectedKeys:d,draggable:!0,blockNode:!0,height:233,showIcon:!0,onDragEnter:function(e){},onDrop:function(e){var t,n=e.node.key,o=e.dragNode.key,i=e.node.pos.split("-"),r=e.dropPosition-Number(i[i.length-1]),a=function e(t,n,o){for(var i=0;i<t.length;i++){if(t[i].key===n)return o(t[i],i,t);t[i].children&&e(t[i].children,n,o)}},s=Object(p.cloneDeep)(l);if(a(s,o,(function(e,n,o){o.splice(n,1),t=e})),e.dropToGap)if((e.node.props.children||[]).length>0&&e.node.props.expanded&&1===r)a(s,n,(function(e){e.children=e.children||[],e.children.unshift(t)}));else{var d=[],u=0;a(s,n,(function(e,t,n){d=n,u=t})),-1===r?d.splice(u,0,t):d.splice(u+1,0,t)}else a(s,n,(function(e){e.children=e.children||[],e.children.unshift(t)}));c(s)},onSelect:function(e){u(e)}},{children:function e(t){return t.map((function(t){return Object(ge.jsx)(we.Tree.TreeNode,Ie({className:"draggable-tree-node",title:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",Ie({className:"draggable-tree-node-item"},{children:Object(ge.jsx)(Me,Ie({className:"draggable-tree-node-item-editable",onChange:function(e){b(t.key,e,"label")}},{children:t.label}),void 0)}),void 0),Object(ge.jsx)("span",Ie({className:"draggable-tree-node-item"},{children:Object(ge.jsx)(Me,Ie({className:"draggable-tree-node-item-editable",onChange:function(e){b(t.key,e,"value")}},{children:t.value}),void 0)}),void 0),Object(ge.jsx)("span",Ie({className:"draggable-tree-node-item draggable-tree-node-item-action"},{children:Object(ge.jsx)(we.Button,Ie({type:"link",className:"btn",onClick:function(){!function(e){var t=Be(e,Object(p.cloneDeep)(l),(function(e,t,n){n.splice(t,1)}));c(t)}(t.key)}},{children:"\u5220\u9664"}),void 0)}),void 0)]},void 0),switcherIcon:function(e){var n,o=e.expanded;return(null===(n=t.children)||void 0===n?void 0:n.length)?Object(ge.jsx)(o?Ce.MinusSquareOutlined:Ce.PlusSquareOutlined,{},void 0):null}},{children:Array.isArray(t.children)&&e(t.children)}),t.key)}))}(l)}),void 0),Object(ge.jsx)(we.Space,Ie({style:{marginTop:10},split:Object(ge.jsx)(we.Divider,{type:"vertical"},void 0)},{children:Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){var e=a();!function(e){if(null==d?void 0:d.length)(n=d[0],o=Object(p.cloneDeep)(l),void 0===o&&(o=[]),new Promise((function(e,t){Be(n,o,(function(t,n,o,i){return e({item:t,i:n,target:o,data:i})}),t)}))).then((function(t){var n=t.item;t.i,t.target;var o=t.data;(n.children||(n.children=[])).push(e),c(Object(p.cloneDeep)(o))})).catch((function(t){var n=Object(p.cloneDeep)(l);null==n||n.push(e),c(Object(p.cloneDeep)(n))}));else{var t=Object(p.cloneDeep)(l);null==t||t.push(e),c(t)}var n,o}({label:"\u65b0\u7684\u9009\u9879",value:e,key:e})}},{children:"\u6dfb\u52a0\u4e00\u9879"}),void 0)}),void 0)]},void 0)},Ve={reqUrl:"/react-visual-editor/options.mock.json",reqMethod:"GET"},ze=[{key:"key1",label:"\u9009\u98791",value:"\u503c1"},{label:"\u5206\u7ec41",children:[{key:"key3",label:"\u5206\u7ec4\u4e0b\u7684\u9009\u98792",value:"\u503c2"}],key:"key2",value:"key2"}],Ke=Object(o.forwardRef)((function(e,t){var n,i,r=e.onOk,l=Object(o.useState)(!1),c=l[0],a=l[1],s=Object(o.useState)(!1),d=s[0],u=s[1];Object(o.useState)((n=Ve.reqUrl,i=Ve.reqMethod,"\n/**\n * \u8bf7\u4e0d\u8981\u4fee\u6539\u65b9\u6cd5\u4f53\u4ee5\u5916\u7684\u5185\u5bb9\n */\nfunction getData(){\n    return fetch('"+n+"', {method: "+i+"}).then(res => {\n    return res.json()\n}).then(res => {\n    return res\n    // TODO \u81ea\u5b9a\u4e49\u8fd4\u56de\u6570\u636e\n})}"))[0];var b=Object(o.useState)(!1),j=b[0],v=b[1],m=Object(o.useState)("\u53ef\u89c6\u5316\u914d\u7f6e"),f=m[0],h=m[1],O=Object(o.useState)({left:0,top:0,bottom:0,right:0}),x=O[0],y=O[1],g=Object(o.useState)(ze),w=g[0],C=g[1],N=Object(o.useRef)(null),T=we.Form.useForm()[0],I=function(){a(!0)},E=function(){a(!1)};return Object(o.useImperativeHandle)(t,(function(){return{showModal:I,hideModal:E,setdataSource:C}}),[]),Object(ge.jsxs)(we.Modal,Ie({className:"option-set-model",title:Object(ge.jsxs)("div",Ie({style:{cursor:"move",display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:34},onMouseOver:function(){d&&u(!1)},onMouseOut:function(){u(!0)},onFocus:function(){},onBlur:function(){}},{children:[Object(ge.jsxs)("span",{children:["\u914d\u7f6e\u6570\u636e",Object(ge.jsx)(we.Button,Ie({type:"link",onClick:function(){v(!j)}},{children:j?"\u5207\u6362\u56fa\u5b9a\u914d\u7f6e":"\u5207\u6362\u52a8\u6001\u914d\u7f6e"}),void 0)]},void 0),!j&&Object(ge.jsxs)(we.Radio.Group,Ie({size:"small",style:{lineHeight:0},value:f,onChange:function(e){h(e.target.value)}},{children:[Object(ge.jsx)(we.Radio.Button,Ie({value:"\u53ef\u89c6\u5316\u914d\u7f6e"},{children:"\u53ef\u89c6\u5316\u914d\u7f6e"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"\u4ee3\u7801\u914d\u7f6e"},{children:"\u4ee3\u7801\u914d\u7f6e"}),void 0)]}),void 0)]}),void 0),onCancel:E,visible:c,okText:"\u786e\u5b9a",modalRender:function(e){return Object(ge.jsx)(Te.a,Ie({disabled:d,bounds:x,onStart:function(e,t){return function(e,t){var n,o,i=null===(n=null===window||void 0===window?void 0:window.document)||void 0===n?void 0:n.documentElement,r=i.clientWidth,l=i.clientHeight,c=(null===(o=null==N?void 0:N.current)||void 0===o?void 0:o.getBoundingClientRect())||{},a=c.left,s=c.right,d=c.top,u=c.bottom;y({left:-a+(null==t?void 0:t.x),right:r-(s-(null==t?void 0:t.x)),top:-d+(null==t?void 0:t.y),bottom:l-(u-(null==t?void 0:t.y))})}(0,t)}},{children:Object(ge.jsx)("div",Ie({ref:N},{children:e}),void 0)}),void 0)},footer:Object(ge.jsx)(we.Button,Ie({type:"primary",size:"middle",onClick:function(){a(!1),j?"function"==typeof r&&r([]):"function"==typeof r&&r(Object(p.cloneDeep)(w))}},{children:"\u786e\u5b9a"}),void 0)},{children:[j&&Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(we.Form,Ie({form:T,onValuesChange:function(e,t){t.reqUrl,t.reqMethod},initialValues:Ve},{children:[Object(ge.jsx)(we.Form.Item,Ie({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u5730\u5740",name:"reqUrl"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u65b9\u6cd5",name:"reqMethod"},{children:Object(ge.jsxs)(we.Select,{children:[Object(ge.jsx)(we.Select.Option,Ie({value:"POST"},{children:"POST"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"GET"},{children:"GET"}),void 0)]},void 0)}),void 0)]}),void 0)},void 0),!j&&("\u53ef\u89c6\u5316\u914d\u7f6e"===f?Object(ge.jsx)("div",Ie({style:{display:"\u53ef\u89c6\u5316\u914d\u7f6e"===f?"block":"none"},onMouseEnter:function(){u(!0)}},{children:Object(ge.jsx)(Ge,{dataSource:w,onChange:function(e){C(e)}},void 0)}),void 0):null)]}),void 0)}));function Ue(){var e=Oe(),t=e.target,n=e.moveableOptions,i=e.setGlobal,r=e.commonProps,l=we.Form.useForm()[0],c=Object(o.useCallback)(Object(p.debounce)((function(e,o){var r=o.wrapperCol,l=o.labelCol,c=Ee(o,["wrapperCol","labelCol"]);(Object(p.isNumber)(r)||Object(p.isNumber)(l))&&he(null==n?void 0:n.target,i);var a={span:r},s={span:l};c.wrapperCol=a,c.labelCol=s,i({type:de,payload:{id:t.id,formProps:c}})}),200),[t.id]);return Object(o.useEffect)((function(){!function(){var e=null==r?void 0:r.form,t=e.wrapperCol,n=e.labelCol,o=Ee(e,["wrapperCol","labelCol"]),i=null==t?void 0:t.span,c=null==n?void 0:n.span;o.wrapperCol=i,o.labelCol=c,l.resetFields(),l.setFieldsValue(o)}()}),[t.id]),Object(ge.jsxs)(we.Form,Ie({},ke,{initialValues:{size:"middle",labelAlign:"right"},form:l,onValuesChange:c},{children:[Object(ge.jsx)(Se,{text:"\u8868\u5355"},void 0),Object(ge.jsxs)(Fe,Ie({defaultActiveKey:["\u8868\u5355\u9879"]},{children:[Object(ge.jsxs)(Fe.Panel,Ie({header:"\u8868\u5355"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u8868\u5355\u540d",name:"name"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6\uff0c\u8bbe\u7f6e span offset \u503c\uff0c\u5982 {span: 3, offset: 12} \u6216 sm: {span: 3, offset: 12}\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 labelCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"labelCol"},{children:Object(ge.jsx)(we.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c labelCol\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 wrapperCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"wrapperCol"},{children:Object(ge.jsx)(we.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u8868\u5355\u5c3a\u5bf8",name:"size"},{children:Object(ge.jsxs)(we.Radio.Group,Ie({style:{width:"100%"}},{children:[Object(ge.jsx)(we.Radio.Button,Ie({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:Object(ge.jsxs)(we.Radio.Group,Ie({style:{width:"100%"}},{children:[Object(ge.jsx)(we.Radio.Button,Ie({value:"left",style:{width:"50%",textAlign:"center"}},{children:"\u5de6\u5bf9\u9f50"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"right",style:{width:"50%",textAlign:"center"}},{children:"\u53f3\u5bf9\u9f50"}),void 0)]}),void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"disabled"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false",text:"\u7981\u7528\u8868\u5355"},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",name:"showbtn",valuePropName:"checked"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u663e\u793a\u8868\u5355\u6309\u94ae",text:"\u8868\u5355\u6309\u94ae"},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",name:"bordered",valuePropName:"checked"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u663e\u793a\u672a\u9009\u4e2d\u7ec4\u4ef6\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),"\u8868\u5355"),Object(ge.jsxs)(Fe.Panel,Ie({header:"\u8868\u5355\u9879"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u5b57\u6bb5\u540d",name:"name"},{children:Object(ge.jsx)(we.Input,{onPressEnter:function(e){}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6807\u9898",name:"label"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c \u6807\u7b7e\u5e03\u5c40\u3002",name:"wrapperCol"},{children:Object(ge.jsx)(we.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6",name:"labelCol"},{children:Object(ge.jsx)(we.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:Object(ge.jsxs)(we.Radio.Group,{children:[Object(ge.jsx)(we.Radio.Button,Ie({value:"left"},{children:"\u5de6\u5bf9\u9f50"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"right"},{children:"\u53f3\u5bf9\u9f50"}),void 0)]},void 0)}),void 0)]}),"\u8868\u5355\u9879")]}),void 0)]}),void 0)}var qe=we.Select.Option,He=we.Select.OptGroup;function We(e){return["TimePicker.RangePicker","DatePicker.RangePicker"].includes(e)}var Ye=Object(o.memo)((function(){var e=we.Form.useForm()[0],t=Oe(),n=t.target,i=t.moveableOptions,r=t.setGlobal,l=n||{},c=l.id,a=l.componentProps,s=void 0===a?{}:a;return Object(o.useEffect)((function(){!function(){var t,o,i,r,l=s||{},c=l.style,a=void 0===c?{}:c,d=l.placeholder,u=Ee(l,["style","placeholder"]),p=null===(o=null===(t=null==a?void 0:a.width)||void 0===t?void 0:t.replace("%",""))||void 0===o?void 0:o.replace(/null|undefined/,"");Array.isArray(d)&&(i=d[0],r=d[1]),e.resetFields(),e.setFieldsValue(Ie(Ie({},u),{componentKey:n.componentKey,componentWidth:p,placeholder:d,placeholder1:i,placeholder2:r}))}()}),[null==n?void 0:n.id]),Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(we.Form,Ie({},ke,{initialValues:{size:"middle",bordered:!0},form:e,onValuesChange:function(e,t){e.componentWidth,e.placeholder,e.placeholder1,e.placeholder2;var o=t.componentKey,l=t.placeholder,a=t.componentWidth,s=Ee(t,["componentKey","placeholder","componentWidth"]),d=l;We(null==n?void 0:n.componentKey)&&(d=[t.placeholder1,t.placeholder2]);var u={width:a};"number"==typeof a&&(u.width+="%"),r({type:be,payload:{data:{componentKey:o,value:o,componentProps:Ie({placeholder:d,style:u},s)}}}),r({type:de,payload:{id:c,componentKey:o,value:o,componentProps:Ie({placeholder:d,style:u},s)}}),he(null==i?void 0:i.target,r)}},{children:[Object(ge.jsx)(Se,{text:"\u901a\u7528"},void 0),Object(ge.jsx)(Fe,Ie({defaultActiveKey:["\u901a\u7528"]},{children:Object(ge.jsxs)(Fe.Panel,Ie({header:"\u901a\u7528"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"",name:"componentKey"},{children:Object(ge.jsx)(we.Select,{children:Re.map((function(e){return Object(ge.jsx)(He,Ie({label:e.label},{children:Array.isArray(e.children)&&e.children.map((function(e){return Object(ge.jsx)(qe,Ie({value:e.value},{children:e.label}),e.id)}))}),(void 0===t&&(t=5),Number(Math.random().toString().substr(3,t)+Date.now()).toString(36)));var t}))},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u63a7\u4ef6\u5bbd\u5ea6",name:"componentWidth",tooltip:"\u8bf7\u8f93\u5165\u767e\u5206\u6bd4",className:"mb-0"},{children:Object(ge.jsx)(we.InputNumber,{min:0,max:100},void 0)}),void 0),We(null==n?void 0:n.componentKey)?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u5360\u4f4d\u7b261",name:"placeholder1"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u5360\u4f4d\u7b262",name:"placeholder2"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0)]},void 0):Object(ge.jsx)(we.Form.Item,Ie({label:"\u5360\u4f4d\u7b26",name:"placeholder"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u5927\u5c0f",name:"size"},{children:Object(ge.jsxs)(we.Radio.Group,Ie({style:{width:"100%"}},{children:[Object(ge.jsx)(we.Radio.Button,Ie({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),Object(ge.jsx)(we.Radio.Button,Ie({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"bordered"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"disabled"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u7981\u7528",text:"\u662f\u5426\u7981\u7528"},void 0)}),void 0)]}),"\u901a\u7528")}),void 0)]}),void 0)},void 0)}));function Je(){var e,t=we.Form.useForm()[0],n=Oe(),i=n.target,r=n.moveableOptions,l=n.setGlobal,c=n.layoutType,a=n.commonProps,s=Object(o.useState)("\u7cbe\u7b80\u6a21\u5f0f"),d=s[0],u=s[1],b=Object(o.useCallback)(Object(p.debounce)((function(e,t){var n=t;n.gutter||(n.gutter=0),"\u7cbe\u7b80\u6a21\u5f0f"===d&&(n=Object(p.merge)(t,function(e,t){void 0===t&&(t=24),isNaN(Number(e))&&(e=1);var n=Math.floor(Number(t/e));return{xs:n,sm:n,md:n,lg:n,xl:n,xxl:n}}(t.colNum)),l({type:"RESET_COMPONENT_LAYOUT"}));var o=n.align,i=n.colNum,c=n.gutter,s=n.justify,u=n.wrap,b=Ee(n,["align","colNum","gutter","justify","wrap"]);l({type:me,payload:{commonProps:Ie(Ie({},a),{layout:{row:{align:o,gutter:c,justify:s,wrap:u,colNum:i},col:b}})}}),he(r.target,l)}),200),[a,d]);return Object(o.useEffect)((function(){var e;t.resetFields(),t.setFieldsValue(null===(e=null==a?void 0:a.layout)||void 0===e?void 0:e.row)}),[null===(e=null==a?void 0:a.layout)||void 0===e?void 0:e.row]),Object(ge.jsxs)(we.Form,Ie({},ke,{form:t,initialValues:{align:"top",gutter:0,justify:"start",wrap:!0},onValuesChange:b},{children:[Object(ge.jsx)(Se,{text:"\u5e03\u5c40",extra:Object(ge.jsxs)(we.Space,{children:[Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){l({type:me,payload:{layoutType:"flexible"===c?"mobility":"flexible"}})}},{children:Object(ge.jsx)(we.Switch,{checkedChildren:"\u5f39\u6027\u5e03\u5c40",unCheckedChildren:"\u6d41\u52a8\u5e03\u5c40",checked:"flexible"===c},void 0)}),void 0),"flexible"===c&&Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){u("\u7cbe\u7b80\u6a21\u5f0f"===d?"\u4e13\u4e1a\u6a21\u5f0f":"\u7cbe\u7b80\u6a21\u5f0f")}},{children:Object(ge.jsx)(we.Switch,{checkedChildren:"\u7cbe\u7b80\u6a21\u5f0f",unCheckedChildren:"\u4e13\u4e1a\u6a21\u5f0f",checked:"\u7cbe\u7b80\u6a21\u5f0f"===d},void 0)}),void 0)]},void 0)},void 0),Object(ge.jsxs)(Fe,Ie({defaultActiveKey:["flexible"===c?"\u5f39\u6027\u5e03\u5c40":"\u6d41\u52a8\u5e03\u5c40"]},{children:["flexible"===c&&Object(ge.jsxs)(Fe.Panel,Ie({header:Object(ge.jsx)(we.Form.Item,{label:"\u5f39\u6027\u5e03\u5c40",tooltip:"\u5728\u6b64\u8bbe\u7f6e\u7684\u5185\u5bb9\u5c06\u5e94\u7528\u4e8e\u5168\u90e8\u63a7\u4ef6",className:"mb-0 w-100"},void 0)},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u5782\u76f4\u5bf9\u9f50",name:"align"},{children:Object(ge.jsxs)(we.Select,{children:[Object(ge.jsx)(we.Select.Option,Ie({value:"top"},{children:"\u9760\u4e0a"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"middle"},{children:"\u5c45\u4e2d"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"bottom"},{children:"\u9760\u4e0b"}),void 0)]},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6c34\u5e73\u6392\u5217",name:"justify"},{children:Object(ge.jsxs)(we.Select,{children:[Object(ge.jsx)(we.Select.Option,Ie({value:"start"},{children:"\u6c34\u5e73\u9760\u5de6\u5206\u5e03"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"middle"},{children:"\u6c34\u5e73\u9760\u53f3\u5206\u5e03"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"center"},{children:"\u6c34\u5e73\u5c45\u4e2d\u5206\u5e03"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"space-around"},{children:"\u6c34\u5e73\u5e73\u5747\u5206\u5e03"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"space-between"},{children:"\u6c34\u5e73\u4e24\u4fa7\u9876\u683c\u5206\u5e03"}),void 0)]},void 0)}),void 0),"\u7cbe\u7b80\u6a21\u5f0f"===d&&Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(we.Form.Item,Ie({label:"\u5217\u6570",name:"colNum"},{children:Object(ge.jsxs)(we.Select,{children:[Object(ge.jsx)(we.Select.Option,Ie({value:"1"},{children:"\u4e00\u5217"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"2"},{children:"\u4e8c\u5217"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"3"},{children:"\u4e09\u5217"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:"4"},{children:"\u56db\u5217"}),void 0)]},void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===d&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17},name:"span"},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6805\u683c\u95f4\u9694",name:"gutter",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:100},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",name:"wrap",valuePropName:"checked"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u81ea\u52a8\u6362\u884c",text:"\u81ea\u52a8\u6362\u884c"},void 0)}),void 0)]}),"\u5f39\u6027\u5e03\u5c40"),"mobility"===c&&Object(ge.jsx)(Fe.Panel,Ie({header:Object(ge.jsx)(we.Form.Item,{label:"\u6d41\u52a8\u5e03\u5c40",tooltip:"\u5728\u6b64\u8bbe\u7f6e\u7684\u5185\u5bb9\u5c06\u5e94\u7528\u4e8e\u5168\u90e8\u63a7\u4ef6",className:"mb-0 w-100"},void 0)},{children:Object(ge.jsx)(we.Empty,{description:"\u6682\u65f6\u6ca1\u6709\u9700\u8981\u8bbe\u7f6e\u7684\u5185\u5bb9"},void 0)}),"\u6d41\u52a8\u5e03\u5c40"),Object(ge.jsxs)(Fe.Panel,Ie({header:"\u4e13\u4e1a\u6a21\u5f0f"===d?Object(ge.jsx)(we.Form.Item,Ie({label:"\u6805\u683c\u9879",tooltip:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:16},name:"span",className:"mb-0"},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0):"\u6805\u683c\u9879"},{children:["\u7cbe\u7b80\u6a21\u5f0f"===d&&Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(we.Form.Item,Ie({label:"\u5360\u6574\u884c",name:"span"},{children:Object(ge.jsxs)(we.Select,Ie({allowClear:!0,onClear:function(){var e={span:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null};t.setFieldsValue(e),l({type:be,payload:{id:i.id,data:{colProps:e}}}),l({type:de,payload:{id:i.id,colProps:e}})}},{children:[Object(ge.jsx)(we.Select.Option,Ie({value:6},{children:"\u56db\u5206\u4e4b\u4e00"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:8},{children:"\u4e09\u5206\u4e4b\u4e00"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:12},{children:"\u4e00\u534a"}),void 0),Object(ge.jsx)(we.Select.Option,Ie({value:24},{children:"\u5360\u6ee1"}),void 0)]}),void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===d&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(we.Form.Item,Ie({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:Object(ge.jsx)(we.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0)]}),"\u6805\u683c\u9879")]}),void 0)]}),void 0)}var Xe=we.Select.Option,$e=we.Select.OptGroup,Qe=function(e){var t;return e.fields=null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.filter((function(e){return e.field}))},Ze=Object(o.memo)((function(){var e=we.Form.useForm()[0],t=Oe(),n=t.target,r=t.setGlobal,l=function(e){r({type:de,payload:{id:null==n?void 0:n.id,componentProps:e}}),r({type:be,payload:{id:null==n?void 0:n.id,data:{componentProps:e}}})},c=function(t){var n=t.index,o=t.name,i=t.fieldKey,r=t.remove,c=t.add,d=e.getFieldsValue(),u=d.fields||[],p=u[n]||{},b=function(t,o){u[n][t]=o,e.setFieldsValue({fields:u}),l(d)},j=Object(ge.jsx)(we.Popover,Ie({trigger:"click",placement:"topLeft",getPopupContainer:function(){return document.querySelector(".form-properties")||document.body},content:Object(ge.jsxs)("div",{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u540d\u79f0",wrapperCol:{span:16},style:{marginBottom:5}},{children:Object(ge.jsx)(we.Input,{defaultValue:p.label,onChange:function(e){var t=e.target.value;b("label",t)}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u5b57\u6bb5\u540d",wrapperCol:{span:16},style:{marginBottom:5}},{children:Object(ge.jsx)(we.Input,{defaultValue:p.field,onChange:function(e){var t=e.target.value;b("field",t)}},void 0)}),void 0)]},void 0),title:Object(ge.jsxs)(we.Row,Ie({justify:"space-between"},{children:[Object(ge.jsx)(we.Col,{children:"\u7f16\u8f91\u63a7\u4ef6\u5c5e\u6027"},void 0),Object(ge.jsx)(we.Col,{children:Object(ge.jsxs)(we.Space,{children:[Object(ge.jsx)(we.Button,{type:"primary",disabled:s(),icon:Object(ge.jsx)(Ce.CopyOutlined,{onClick:function(){var t,o,i=(null===(o=null===(t=e.getFieldsValue())||void 0===t?void 0:t.fields)||void 0===o?void 0:o[n])||{};c(i)}},void 0)},void 0),Object(ge.jsx)(we.Button,{type:"primary",danger:!0,icon:Object(ge.jsx)(Ce.DeleteOutlined,{onClick:function(){return r(o)}},void 0)},void 0)]},void 0)},void 0)]}),void 0)},{children:p.label||"\u65e0\u6807\u9898"}),void 0);return Object(ge.jsx)(we.Form.Item,Ie({tooltip:"\u70b9\u51fb\u6807\u7b7e\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027",label:j,labelCol:{span:10},wrapperCol:{span:14},name:[o,"componentKey"],fieldKey:[i,"componentKey"]},{children:Object(ge.jsx)(we.Select,{children:Re.map((function(e){return Object(ge.jsx)($e,Ie({label:e.label},{children:Array.isArray(e.children)&&e.children.filter((function(e){return"List1"!==e.value})).map((function(e){return Object(ge.jsx)(Xe,Ie({value:e.value},{children:e.label}),e.key)}))}),a())}))},void 0)}),void 0)},s=function(){var t;return 4===(null===(t=Qe(e.getFieldsValue()))||void 0===t?void 0:t.length)};return Object(o.useEffect)((function(){var t;e.setFieldsValue({fields:(null===(t=null==n?void 0:n.componentProps)||void 0===t?void 0:t.fields)||[]})}),[null==n?void 0:n.id]),Object(ge.jsx)(we.Form,Ie({},ke,{form:e,onValuesChange:function(e,t){t.fields=Qe(t),l(t)}},{children:Object(ge.jsx)(Fe,Ie({defaultActiveKey:["\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"]},{children:Object(ge.jsx)(Fe.Panel,Ie({header:"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"},{children:Object(ge.jsx)(we.Form.List,Ie({name:"fields",prefixCls:"111"},{children:function(e,t){var n=t.add,o=t.remove;return Object(ge.jsxs)(ge.Fragment,{children:[e.map((function(e,t){var r=e.name,l=e.fieldKey;return Object(ge.jsxs)(i.a.Fragment,{children:[Object(ge.jsx)(we.Form.Item,Ie({hidden:!0,name:[r,"label"],fieldKey:[l,"label"]},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({hidden:!0,name:[r,"field"],fieldKey:[l,"field"]},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),c({index:t,name:r,fieldKey:l,remove:o,add:n})]},l)})),Object(ge.jsx)(we.Form.Item,{children:Object(ge.jsx)(we.Button,Ie({type:"dashed",onClick:function(){n({label:"\u6807\u7b7e\u540d",field:a(),componentKey:"Input"})},block:!0,icon:Object(ge.jsx)(Ce.PlusOutlined,{},void 0),disabled:s()},{children:s()?"\u6700\u591a\u6dfb\u52a04\u9879":"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)]},void 0)}}),void 0)}),"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20")}),void 0)}),void 0)})),et=we.DatePicker.RangePicker;function tt(e){return Object(ge.jsx)(we.DatePicker,Ie({},e),void 0)}tt.RangePicker=function(e){return Object(ge.jsx)(et,Ie({},e),void 0)};var nt=we.TimePicker.RangePicker;function ot(e){return Object(ge.jsx)(we.TimePicker,Ie({},e),void 0)}ot.RangePicker=function(e){return Object(ge.jsx)(nt,Ie({},e),void 0)};var it=function(e,t,n){void 0===n&&(n={}),null!=e&&void 0!==e||(e=Object(ge.jsx)(ge.Fragment,{},void 0)),null!=t&&void 0!==t||(t=Object(ge.jsx)(ge.Fragment,{},void 0)),this.Component=i.a.createElement(e,n),this.Properties=i.a.createElement(t)},rt=new Map;function lt(e){var t;return rt.has(e)&&(null===(t=rt.get(e))||void 0===t?void 0:t.Component)||Object(ge.jsx)(ge.Fragment,{},void 0)}function ct(e){var t;return rt.has(e)&&(null===(t=rt.get(e))||void 0===t?void 0:t.Properties)||Object(ge.jsx)(ge.Fragment,{},void 0)}function at(){var e=Oe(),t=e.componentList,n=e.target;return t.length>0&&(null==n?void 0:n.id)?Object(ge.jsxs)(ge.Fragment,{children:[function(){var e,t,o="";if("form/item"===n.type&&(o=(null===(t=null===(e=null==n?void 0:n.children)||void 0===e?void 0:e[0])||void 0===t?void 0:t.type)||""),rt.has(o))return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Se,{text:"\u63a7\u4ef6"},void 0),i.a.cloneElement(ct(o))]},void 0)}(),Object(ge.jsx)(Ue,{},void 0),Object(ge.jsx)(Je,{},void 0),Object(ge.jsx)(Ye,{},void 0)]},void 0):Object(ge.jsx)(we.Empty,{image:we.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u672a\u9009\u4e2d\u63a7\u4ef6"},void 0)}function st(){var e=we.Form.useForm()[0],t=Oe(),n=t.moveableOptions,i=t.setGlobal,r=Object(o.useCallback)(Object(p.debounce)((function(e,t){var o=t.width,r=t.height,l=document.querySelector(".viewport")||{};l.style.width=o+"px",l.style.height=r+"px",he(null==n?void 0:n.target,i)}),500),[]);return Object(o.useEffect)((function(){var t=(document.querySelector(".viewport")||{}).style||{},n=t.width,o=t.height;e.setFieldsValue({width:parseInt(n),height:parseInt(o)})}),[]),Object(ge.jsxs)(we.Form,Ie({},ke,{form:e,onValuesChange:r},{children:[Object(ge.jsx)(Se,{text:"\u5c3a\u5bf8"},void 0),Object(ge.jsx)(Fe,Ie({defaultActiveKey:["\u89c6\u7a97\u5927\u5c0f"]},{children:Object(ge.jsxs)(Fe.Panel,Ie({header:"\u89c6\u7a97\u5927\u5c0f"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u5bbd\u5ea6",name:"width"},{children:Object(ge.jsx)(we.InputNumber,{style:{width:"100%"}},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u9ad8\u5ea6",name:"height"},{children:Object(ge.jsx)(we.InputNumber,{style:{width:"100%"}},void 0)}),void 0)]}),"\u89c6\u7a97\u5927\u5c0f")}),void 0)]}),void 0)}rt.set("input",new it(we.Input,(function(){var e=we.Form.useForm()[0],t=Object(o.useRef)(null),n=Oe(),i=n.target,r=n.setGlobal,l=i||{},c=l.id,a=l.componentProps,s=void 0===a?{}:a,d=Object(o.useState)("prefix"),u=d[0],b=d[1],j=Object(o.useCallback)(Object(p.debounce)((function(e,t){r({type:de,payload:{id:c,componentProps:t}}),r({type:be,payload:{id:c,data:{componentProps:t}}})}),100),[i]),v=function(t){var n,o,i;r({type:de,payload:{id:c,componentProps:(n={},n[u]=t,n)}}),r({type:be,payload:{id:c,data:{componentProps:(o={},o[u]=t,o)}}}),e.setFieldsValue(((i={})[u]=t,i))};return Object(o.useEffect)((function(){e.resetFields(),e.setFieldsValue(s)}),[null==i?void 0:i.id]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(_e,{ref:t,onOk:function(e){v(e)}},void 0),Object(ge.jsx)(we.Form,Ie({},ke,{initialValues:{bordered:!0,disabled:!1,size:"middle"},form:e,onValuesChange:j},{children:Object(ge.jsx)(Fe,Ie({defaultActiveKey:["\u8f93\u5165\u6846\u5c5e\u6027"]},{children:Object(ge.jsxs)(Fe.Panel,Ie({header:"\u8f93\u5165\u6846\u5c5e\u6027"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u524d\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u524d\u7f6e\u6807\u7b7e",name:"addonBefore"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u540e\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u540e\u7f6e\u6807\u7b7e",name:"addonAfter"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u524d\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u524d\u7f00\u56fe\u6807\u7684 input",name:"prefix"},{children:Object(ge.jsx)(we.Input,{readOnly:!0,addonBefore:Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){var e;null===(e=t.current)||void 0===e||e.show(),b("prefix")}},{children:Object(ge.jsx)(Ce.SelectOutlined,{},void 0)}),void 0),addonAfter:Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){b("prefix"),v(null)}},{children:Object(ge.jsx)(Ce.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u540e\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u540e\u7f00\u56fe\u6807\u7684 input",name:"suffix"},{children:Object(ge.jsx)(we.Input,{readOnly:!0,addonBefore:Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){var e;null===(e=t.current)||void 0===e||e.show(),b("suffix")}},{children:Object(ge.jsx)(Ce.SelectOutlined,{},void 0)}),void 0),addonAfter:Object(ge.jsx)(we.Typography.Link,Ie({onClick:function(){b("suffix"),v(null)}},{children:Object(ge.jsx)(Ce.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:Object(ge.jsx)(we.InputNumber,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"allowClear"},{children:Object(ge.jsx)(we.Checkbox,{children:Object(ge.jsx)(we.Tooltip,Ie({title:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9"},{children:"\u652f\u6301\u6e05\u9664"}),void 0)},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"disabled"},{children:Object(ge.jsx)(we.Checkbox,{children:Object(ge.jsx)(we.Tooltip,Ie({title:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false"},{children:"\u7981\u7528"}),void 0)},void 0)}),void 0)]}),"\u8f93\u5165\u6846\u5c5e\u6027")}),void 0)}),void 0)]},void 0)}))),rt.set("input/text-area",new it(we.Input.TextArea,(function(){var e=we.Form.useForm()[0],t=Oe(),n=t.target,i=t.setGlobal,r=n||{},l=r.id,c=r.componentProps,a=void 0===c?{}:c;return Object(o.useEffect)((function(){e.resetFields(),e.setFieldsValue(a)}),[null==n?void 0:n.id]),Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(we.Form,Ie({},ke,{form:e,onValuesChange:function(e,t){i({type:de,payload:{id:l,componentProps:{defaultValue:null==t?void 0:t.defaultValue}}}),i({type:be,payload:{id:l,data:{componentProps:t}}})}},{children:Object(ge.jsxs)(Fe,Ie({defaultActiveKey:["\u57fa\u672c"]},{children:[Object(ge.jsxs)(Fe.Panel,Ie({header:"\u57fa\u672c"},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:Object(ge.jsx)(we.Input,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:Object(ge.jsx)(we.InputNumber,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"showCount"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u5c55\u793a\u5b57\u6570",text:"\u5c55\u793a\u5b57\u6570"},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"allowClear"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9",text:"\u652f\u6301\u6e05\u9664"},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"bordered"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),void 0),Object(ge.jsxs)(Fe.Panel,Ie({header:Object(ge.jsx)(we.Form.Item,Ie({label:"",valuePropName:"checked",name:"autoSize",className:"mb-0"},{children:Object(ge.jsx)(De,{tooltipTitle:"\u81ea\u9002\u5e94\u5185\u5bb9\u9ad8\u5ea6\uff0c\u53ef\u8bbe\u7f6e\u4e3a true | false \u6216\u5bf9\u8c61\uff1a{ minRows: 2, maxRows: 6 }",text:"\u81ea\u9002\u5e94\u9ad8"},void 0)}),void 0)},{children:[Object(ge.jsx)(we.Form.Item,Ie({label:"\u6700\u5c0f\u884c\u6570",name:"autoSize.minRows"},{children:Object(ge.jsx)(we.InputNumber,{},void 0)}),void 0),Object(ge.jsx)(we.Form.Item,Ie({label:"\u6700\u5927\u884c\u6570",name:"autoSize.maxRows"},{children:Object(ge.jsx)(we.InputNumber,{},void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)},void 0)}))),rt.set("input/password",new it(we.Input.Password,(function(){return Object(ge.jsx)(we.Form,Ie({},ke,{onValuesChange:function(e,t){}}),void 0)}))),rt.set("input-number",new it(we.InputNumber,null)),rt.set("editor",new it(null,(function(){return Object(ge.jsx)(we.Form,Ie({},ke,{onValuesChange:function(e,t){}}),void 0)}))),rt.set("select",new it(we.Select,(function(){var e,t=Oe(),n=t.target,i=t.setGlobal,r=Object(o.useRef)(null),l=we.Form.useForm()[0],c=n||{},a=c.id,s=c.componentProps,d=void 0===s?{}:s;return Object(o.useEffect)((function(){l.setFieldsValue({options:d.options})}),[d.id]),Object(ge.jsxs)(we.Form,Ie({},ke,{form:l},{children:[Object(ge.jsx)(Fe,Ie({defaultActiveKey:["\u4e0b\u62c9\u5217\u8868"]},{children:Object(ge.jsx)(Fe.Panel,Ie({header:"\u4e0b\u62c9\u5217\u8868"},{children:Object(ge.jsx)(we.Form.Item,Ie({label:"\u5217\u8868\u5185\u9009\u9879",name:"options",shouldUpdate:!0},{children:Object(ge.jsx)(we.Button,Ie({type:"dashed",block:!0,onClick:function(){var e,t,n=l.getFieldValue("options");n&&(null===(e=r.current)||void 0===e||e.setdataSource(n)),null===(t=r.current)||void 0===t||t.showModal()}},{children:(null===(e=l.getFieldValue("options"))||void 0===e?void 0:e.length)?"\u5df2\u914d\u7f6e":"\u914d\u7f6e\u6570\u636e"}),void 0)}),void 0)}),"\u4e0b\u62c9\u5217\u8868")}),void 0),Object(ge.jsx)(Ke,{ref:r,onOk:function(e){l.setFieldsValue({options:e}),i({type:de,payload:{id:a,componentProps:{options:e}}}),i({type:be,payload:{id:a,data:{componentProps:{options:e}}}})}},void 0)]}),void 0)}))),rt.set("cascader",new it((function(e){return Object(ge.jsx)(we.Cascader,Ie({},e),void 0)}),null)),rt.set("radio",new it(we.Radio,null)),rt.set("checkbox",new it(we.Checkbox,null)),rt.set("switch",new it(we.Switch,null)),rt.set("slider",new it(we.Slider,null)),rt.set("time-picker",new it(ot,null)),rt.set("time-picker/range-picker",new it(ot.RangePicker,null)),rt.set("date-picker",new it(tt,null)),rt.set("date-picker/range-picker",new it(tt.RangePicker,null)),rt.set("rate",new it(we.Rate,null)),rt.set("button",new it(we.Button,(function(){return Object(ge.jsx)(we.Form,Ie({},ke,{onValuesChange:function(e,t){}}),void 0)}))),rt.set("list1",new it((function(e){var t=e.name,n=void 0===t?"demo":t,i=e.fields,r=void 0===i?[]:i,l=e.design,c=e.form,a=we.Form.useForm()[0];c=l?a:c;var s=(null==r?void 0:r.length)||0,d=Math.floor(21/s),u={lg:d,md:d,sm:d,xl:d,xs:d,xxl:d},b=function(e,t,n){return r.map((function(o){return Object(ge.jsx)(we.Col,Ie({},u,{children:Object(ge.jsx)(we.Form.Item,Ie({label:0===e?o.label:void 0,labelCol:{span:24},name:[t,o.field],fieldKey:[n,o.field],rules:o.rules},{children:(i=o.componentKey,i?(r=Object(p.get)(Le,i)?Object(p.get)(Le,i):Object(ge.jsx)(ge.Fragment,{},void 0),Object(ge.jsx)(r,{},void 0)):Object(ge.jsx)(ge.Fragment,{},void 0))}),void 0)}),n);var i,r}))};Object(o.useEffect)((function(){var e;c.setFieldsValue(((e={})[n]=[{}],e))}),[]);var j=Object(ge.jsx)(we.Form.List,Ie({name:n},{children:function(e,t){var o=t.add,i=t.remove;return Object(ge.jsxs)(ge.Fragment,{children:[e.map((function(e,t){var l=e.key,a=e.name,s=e.fieldKey;return r.length?Object(ge.jsxs)(we.Row,Ie({gutter:15},{children:[b(t,a,s),Object(ge.jsx)(we.Col,Ie({span:3},{children:Object(ge.jsxs)(we.Form.Item,Ie({labelCol:0===t?{span:24}:void 0,colon:!1,label:0===t?Object(ge.jsx)("div",{},void 0):void 0},{children:[Object(ge.jsx)(Ce.DeleteOutlined,{onClick:function(){return i(a)}},void 0),Object(ge.jsx)(Ce.CopyOutlined,{style:{marginLeft:8},onClick:function(){var e,i,r=(null===(i=null===(e=c.getFieldsValue())||void 0===e?void 0:e[n])||void 0===i?void 0:i[t])||{};o(r)}},void 0)]}),void 0)}),void 0)]}),l):Object(ge.jsx)(we.Empty,{image:we.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u8bf7\u5728\u5c5e\u6027\u9762\u677f\u4e2d\u8bbe\u7f6e\u5b57\u6bb5"},l)})),r.length?Object(ge.jsx)(we.Row,{children:Object(ge.jsx)(we.Col,Ie({span:Math.floor(d*s)},{children:Object(ge.jsx)(we.Form.Item,{children:Object(ge.jsx)(we.Button,Ie({type:"dashed",onClick:function(){return o()},block:!0,icon:Object(ge.jsx)(Ce.PlusOutlined,{},void 0)},{children:"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)}),void 0)},void 0):null]},void 0)}}),void 0);return l?Object(ge.jsx)(we.Form,Ie({form:c},{children:j}),void 0):j}),Ze)),rt.set("upload",new it(Object(ge.jsx)(we.Upload,{children:Object(ge.jsx)(we.Button,Ie({icon:Object(ge.jsx)(Ce.UploadOutlined,{},void 0)},{children:"Click to Upload"}),void 0)},void 0),(function(){return Object(ge.jsx)(we.Form,Ie({},ke,{onValuesChange:function(e,t){}}),void 0)}))),rt.set("form/item",new it(we.Form.Item,null));var dt=we.Tabs.TabPane;function ut(){var e={position:"relative",overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 46px)",paddingTop:16};return Object(ge.jsxs)(we.Tabs,Ie({className:"setting",defaultActiveKey:"1",centered:!0},{children:[Object(ge.jsx)(dt,Ie({tab:"\u5c5e\u6027\u8bbe\u7f6e"},{children:Object(ge.jsx)("div",Ie({style:e},{children:Object(ge.jsx)(at,{},void 0)}),void 0)}),"1"),Object(ge.jsx)(dt,Ie({tab:"\u753b\u5e03\u8bbe\u7f6e"},{children:Object(ge.jsx)("div",Ie({style:e},{children:Object(ge.jsx)(st,{},void 0)}),void 0)}),"3")]}),void 0)}var pt=n(10),bt=n(34);function jt(e,t){return void 0===t&&(t=new Set),e.forEach((function(e){t.add(e.type),e.children&&jt(e.children,t)})),t}var vt=function(){function e(e){this.code="",this.state=e,this.componentList=e.componentList,this.commonProps=e.commonProps,this.target=e.target}return e.prototype.getAllType=function(e,t){return void 0===t&&(t=new Set),jt(e,t)},e.prototype.replaceFirstUpperCase=function(e){return e.toLocaleUpperCase().replace("-","")},e.prototype.getComponentName=function(e){var t=this;return-1!==e.indexOf("/")?e.split("/").map((function(e){return e.replace(/-([a-z]{1})/,t.replaceFirstUpperCase).replace(/^([a-z]{1})/,t.replaceFirstUpperCase)})):e.replace(/-([a-z]{1})/,this.replaceFirstUpperCase).replace(/^([a-z]{1})/,this.replaceFirstUpperCase)},e.prototype.getDependency=function(){var e=this,t=this.state.layoutType,n=this.getAllType(this.componentList),o=Array.from(n).map((function(t){if("string"==typeof t){var n=e.getComponentName(t);return Array.isArray(n)?n[0]:n}return""}));return"flexible"===t&&(o.push("Row"),o.push("Col")),o.push("Form"),{react:{default:"React",names:[]},antd:{default:null,names:Array.from(new Set(o))}}},e.prototype.parseProp=function(e,t,n){var o;if(void 0===n&&(n=""),!t)return"";if(void 0===t)return"";if(["{}","null"].includes(t))return"";try{null!==(n=JSON.parse(t))&&["object","number"].includes(typeof n)?n=" "+e+"={"+t+"}":"boolean"==typeof n?n=!0===n?" "+e:" "+e+"={"+t+"}":"string"==typeof n&&(n=-1!==(null==t?void 0:t.indexOf("<"))?" "+e+"={"+(null===(o=null==t?void 0:t.replace)||void 0===o?void 0:o.call(t,/"/g,""))+"}":" "+e+"="+t)}catch(e){n=""}return n},e.prototype.generateProps=function(e,t){var n=this;return void 0===t&&(t=""),Object.keys(e).forEach((function(o){var i=JSON.stringify(e[o]);t+=""+n.parseProp(o,i)})),t},e.prototype.generateImport=function(){var e=this.getDependency();return Object.entries(e).map((function(e){var t,n,o=e[0],i=e[1],r="";return i.default?(r=""+i.default,(null===(t=i.names)||void 0===t?void 0:t.length)&&(r+=",{"+i.names+"}")):(null===(n=i.names)||void 0===n?void 0:n.length)&&(r+="{"+i.names+"}"),"import "+r+" from '"+o+"'"})).join("\n")},e.prototype.generateComponent=function(e,t){var n=this;void 0===e&&(e=this.componentList),void 0===t&&(t=!1);var o=this.state.layoutType,i=this.commonProps.layout,r=i;t||(r=Object(p.cloneDeep)(i),Reflect.deleteProperty((null==r?void 0:r.row)||{},"colNum"));var l=e.map((function(e,i){var r=n.getComponentName(e.type);Array.isArray(r)&&(r=r[0]+"."+r[1]);var l=n.generateProps(e.props||{}),c=["<"+r+l+">","</"+r+">"];return Array.isArray(e.children)?c.splice(1,0,n.generateComponent(e.children,!0)):c=["<"+r+l+" />"],"flexible"!==o||t||(c.splice(0,0,"<Col {...layoutConfig.col}>"),c.push("</Col>")),c.join("\n")}));return"flexible"!==o||t||(l.splice(0,0,"<Row {...layoutConfig.row}>"),l.push("</Row>")),t||(l.splice(0,0,"return <Form>"),l.push("</Form>"),l.splice(0,0,"export default function Index() {"),l.splice(0,0,"const layoutConfig = "+JSON.stringify(r)),l.push("}")),l.join("\n")},e.prototype.run=function(){return this.code=[this.generateImport(),"",this.generateComponent()].join("\n"),this.code},e}(),mt=(function(){function e(e){this.generate=e}e.prototype.getSourceMap=function(){},e.prototype.addEsModule=function(){}}(),n(27)),ft=n.n(mt),ht=(n(39),n(2));var Ot=we.Tabs.TabPane,xt=function(){return Object(ht.jsx)(Ce.EditOutlined,{style:{color:"#f1fa8c",marginRight:"5px"}})},yt=function(){return Object(ht.jsx)(Ce.FileTextOutlined,{style:{color:"#a95812",marginRight:"5px"}})},gt="index.tsx",wt=Object(o.forwardRef)((function(e,t){var n,i=Object(o.useState)(""),r=Object(pt.a)(i,2),l=r[0],c=r[1],a=Object(o.useState)(!1),s=Object(pt.a)(a,2),d=s[0],u=s[1],p=Object(o.useState)(gt),b=Object(pt.a)(p,2),j=b[0],v=b[1],m=Object(o.useState)(Object(ht.jsx)(ht.Fragment,{})),f=Object(pt.a)(m,2),h=f[0],O=(f[1],Object(o.useState)("")),x=Object(pt.a)(O,2),y=x[0],g=x[1],w=Oe(),C=w.componentList,N=w.target,T=null===C||void 0===C||null===(n=C.filter)||void 0===n?void 0:n.call(C,(function(e){return"List1"===e.componentKey})),I={"index.tsx":{name:"index.tsx",language:"typescript",value:l}};null===T||void 0===T||T.forEach((function(e){var t,n,o="List1".concat(String(e.id).slice(0,4),".tsx");I[o]={name:o,language:"typescript",value:(n=null===e||void 0===e||null===(t=e.componentProps)||void 0===t?void 0:t.fields,"\nimport * as React from 'react'\n".concat(function(){var e="Button, Form, Row, Col";return n.forEach((function(t){e+=", ".concat(t.componentKey)})),"import { ".concat(e," } from 'antd'")}(),"\nimport { DeleteOutlined, PlusOutlined, CopyOutlined } from '@ant-design/icons'\n\nexport interface IItem {\n  label: string\n  name?: string\n  field: string\n  componentKey: string\n  rules?: Record<string, any>[]\n}\n\ninterface IList1Props {\n  name?: string // \u8868\u5355\u6570\u636e\u5b57\u6bb5\u540d\n  fields?: IItem[] // \u6bcf\u884c\u5143\u7d20\n  form?: any // \u6bcf\u884c\u5143\u7d20\n}\n\n/**\n * list\u7ec4\u4ef6\n */\nexport default (props: IList1Props) => {\n  const { name = 'demo', fields = [], form } = props\n  const number = fields?.length || 0 // \u6bcf\u884c\u5143\u7d20\u4e2a\u6570\n  const operateCol = 3 // \u64cd\u4f5c\u6309\u94ae\u683c\u6570\n  const span = Math.floor((24 - operateCol) / number)\n  const colProps = {\n    lg: span,\n    md: span,\n    sm: span,\n    xl: span,\n    xs: span,\n    xxl: span,\n  }\n\n  const renderFormItems = (index: number, name: number, fieldKey: number) => {\n    const showLable = index === 0\n    return ").concat(function(){var e="";return n.forEach((function(t){e+="<Col {...colProps}>\n            <Form.Item\n              label={showLable && '".concat(t.label,"'}\n              labelCol={{ span: 24 }}\n              name={[name, '").concat(t.field,"']}\n              fieldKey={[fieldKey, '").concat(t.field,"']}\n              rules={").concat(t.rules||"[]","}\n            >\n              <").concat(t.componentKey," />\n            </Form.Item>\n          </Col>\n")})),"<React.Fragment key={fieldKey}>\n".concat(e,"</React.Fragment>")}(),"\n  }\n\n  useEffect(() => {\n    form.setFieldsValue({\n        [name]: [").concat(JSON.stringify(function(){var e={};return n.forEach((function(t){e[t.field]=void 0})),e}()),']\n    })\n  }, [])\n\n  return (\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(({ key, name: _name, fieldKey, ...restField }, index) => {\n              return (\n                <Row key={key} gutter={15}>\n                  {renderFormItems(index, _name, fieldKey)}\n                  <Col span={operateCol}>\n                    <Form.Item\n                      labelCol={index === 0 ? { span: 24 } : undefined}\n                      colon={false}\n                      label={index === 0 ? <div></div> : undefined}\n                    >\n                      <DeleteOutlined onClick={() => remove(_name)} />\n                      <CopyOutlined\n                        style={{ marginLeft: 8 }}\n                        onClick={() => {\n                          // \u83b7\u53d6\u5f53\u524d\u884c\u7684\u9ed8\u8ba4\u503c\n                          const defaultValue =\n                            form.getFieldsValue()?.[name]?.[index] || {}\n                          add(defaultValue)\n                        }}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              )\n            })}\n            <Row>\n              <Col span={Math.floor(span * number)}>\n                <Form.Item>\n                  <Button\n                    type="dashed"\n                    onClick={() => add()}\n                    block\n                    icon={<PlusOutlined />}\n                  >\n                    \u65b0\u589e\u4e00\u6761\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n'))}}));var E=I[j]||{},k=function(){u(!1),v(gt)};return Object(o.useImperativeHandle)(t,(function(){return{setIndexCode:c,open:function(){u(!0)},close:k,run:function(){!function(e){var t=new vt(w);c(e||t.run())}()}}}),[C,N]),Object(o.useEffect)((function(){var e=.3*window.screen.width;g(e)}),[]),Object(ht.jsx)(we.Drawer,{width:"100%",visible:d,destroyOnClose:!0,closable:!1,onClose:k,children:Object(ht.jsx)("div",{className:"preview",children:Object(ht.jsxs)(bt.a,{split:"vertical",minSize:0,defaultSize:y,onDragFinished:function(e){g(e)},children:[Object(ht.jsxs)("div",{className:"code-container",children:[Object(ht.jsx)(we.Tabs,{tabBarGutter:5,activeKey:j,onChange:function(e){v(e)},tabBarStyle:{height:"35px"},type:"card",tabBarExtraContent:Object(ht.jsxs)(we.Space,{className:"extra-action-container",split:Object(ht.jsx)(we.Divider,{}),children:[Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.CloseOutlined,{}),className:"extra-action",type:"link",size:"small",onClick:k,children:"\u5173\u95ed"}),Object(ht.jsx)("div",{})]}),children:Object.keys(I).map((function(e){var t=I[e];return Object(ht.jsx)(Ot,{tab:Object(ht.jsxs)("div",{children:[j===t.name?Object(ht.jsx)(xt,{}):Object(ht.jsx)(yt,{}),Object(ht.jsx)("span",{children:t.name})]})},t.name)}))}),Object(ht.jsx)(ft.a,{height:"calc(100vh - 35px)",theme:"vs-dark",path:E.name,language:E.language,value:E.value,onMount:function(e,t){!function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({target:e.languages.typescript.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:e.languages.typescript.ModuleResolutionKind.NodeJs,module:e.languages.typescript.ModuleKind.CommonJS,noEmit:!0,esModuleInterop:!0,jsx:e.languages.typescript.JsxEmit.React,reactNamespace:"React",allowJs:!0,typeRoots:["node_modules/@types"]}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1});var t=[{name:"react",url:"https://cdn.jsdelivr.net/npm/@types/react@17.0.2/index.d.ts"},{name:"antd",url:"https://cdn.jsdelivr.net/npm/antd@4.14.0/lib/index.d.ts"},{name:"@ant-design/icons",url:"https://cdn.jsdelivr.net/npm/@ant-design/icons@4.6.2/lib/index.d.ts"}];Promise.all(t.map((function(e){var t=e.url;return fetch(t).then((function(e){return e.text()}))}))).then((function(n){t.forEach((function(t,o){var i=t.name,r=i.startsWith("@")?i.slice(1).replace("/","__"):i;e.languages.typescript.typescriptDefaults.addExtraLib(n[o],"file:///node_modules/@types/".concat(r,"/index.d.ts"))}))}))}(t),Object.keys(I).forEach((function(e){var n=I[e];"index.tsx"===e||t.editor.getModel(t.Uri.parse(n.name))||t.editor.createModel(n.value,n.language,t.Uri.parse(n.name))})),setTimeout((function(){var t;null===e||void 0===e||null===(t=e.getAction("editor.action.formatDocument"))||void 0===t||t.run()}),300)}})]}),Object(ht.jsx)("div",{className:"form",children:Object(ht.jsx)("div",{className:"body",children:h})})]})})})})),Ct=(n(42),function(){return Object(ht.jsx)("div",{className:"logo",children:Object(ht.jsxs)("div",{className:"title",children:[Object(ht.jsx)(Ce.LayoutTwoTone,{}),Object(ht.jsx)("span",{children:"R Generator"}),Object(ht.jsx)("a",{href:"https://github.com/r-generator/page",children:Object(ht.jsx)("img",{alt:"GitHub Repo stars",src:"https://img.shields.io/github/stars/r-generator/page?style=flat-square"})})]})})}),Nt=n(31),Tt={frame:{translate:[0,0]}},It=function(){var e=Oe(),t=e.target,n=e.moveableOptions,i=void 0===n?{}:n,r=e.setGlobal,l=i,c=l.target,a=l.elementGuidelines,s=l.frame,d=void 0===s?{translate:[0,0]}:s,u=l.bounds,p=l.verticalGuidelines,b=l.horizontalGuidelines,j=l.draggable,v=void 0===j||j,m=l.resizable,f=void 0===m||m,h=Object(o.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector(".viewport"),i=(null===o||void 0===o||null===(e=o.getBoundingClientRect)||void 0===e?void 0:e.call(o))||{},l=i.left,c=i.right,a=i.top;i.bottom;r({type:je,payload:{bounds:{left:Number(l)-t-50,right:Number(c)-n-52,top:a}}})}),[]);return Object(o.useEffect)((function(){h()}),[]),Object(o.useEffect)((function(){var e=t.layout;r({type:je,payload:void 0===e?{}:e})}),[t]),Object(ht.jsx)(Nt.a,{target:c,elementGuidelines:a,verticalGuidelines:p,horizontalGuidelines:b,snappable:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,bounds:u,draggable:v,throttleDrag:0,startDragRotate:0,throttleDragRotate:0,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},resizable:f,keepRatio:!1,throttleResize:0,edge:!1,renderDirections:["nw","n","ne","w","e","sw","s","se"],onDragStart:function(e){e.set(d.translate)},onDrag:function(e){Tt.frame.translate=e.beforeTranslate,e.target.style.transform="translate(".concat(e.beforeTranslate[0],"px, ").concat(e.beforeTranslate[1],"px)")},onDragEnd:function(e){e.target,e.isDrag;var t=e.clientX,n=e.clientY,o=Tt.frame;r({type:de,payload:{layout:{frame:o,clientX:t,clientY:n}}}),r({type:be,payload:{data:{layout:{frame:o,clientX:t,clientY:n}}}})},onResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(d.translate)},onResize:function(e){var t=e.target,n=e.width,o=e.height,i=e.drag,r=i.beforeTranslate;Tt.width=n,Tt.height=o,Tt.frame.translate=i.beforeTranslate,t.style.width="".concat(n,"px"),t.style.height="".concat(o,"px"),t.style.transform="translate(".concat(r[0],"px, ").concat(r[1],"px)")},onResizeEnd:function(e){if(e.lastEvent){var t=Tt.frame,n=Tt.width,o=Tt.height;r({type:de,payload:{layout:{frame:t,width:n,height:o}}}),r({type:be,payload:{data:{layout:{frame:t,width:n,height:o}}}})}}})},Et=n(33),kt=n(35),Pt=null,Ft=Object(o.forwardRef)((function(e,t){var n=e.type,r=i.a.useRef(),l=Oe().setGlobal;Object(o.useImperativeHandle)(t,(function(){return{guides:r}}),[]);var a=Object(o.useCallback)((function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e)}),[]),s=Object(o.useCallback)((function(e){var t,n,o=0,i=0;o+=e.deltaX,i+=e.deltaY,null===r||void 0===r||null===(t=r.scrollGuides)||void 0===t||t.call(r,i),null===r||void 0===r||null===(n=r.scroll)||void 0===n||n.call(r,o)}),[]);return Object(o.useEffect)((function(){var e,t,n,o;null===(e=r.current)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e);var i=document.querySelector(".container");return null===(n=Pt=new MutationObserver((function(e){a()})))||void 0===n||null===(o=n.observe)||void 0===o||o.call(n,i,{attributes:!0,childList:!0,characterData:!0}),window.addEventListener("wheel",s),window.addEventListener("resize",a),function(){var e,t;null===(e=Pt)||void 0===e||null===(t=e.disconnect)||void 0===t||t.call(e),Pt=null,window.removeEventListener("wheel",s),window.removeEventListener("resize",a)}}),[]),Object(ht.jsx)(kt.a,Object(c.a)(Object(c.a)({},e),{},{ref:r,onChangeGuides:function(e){var t=e.guides.map((function(e){return Number(e)+30.5}));"horizontal"===n&&l({type:je,payload:{horizontalGuidelines:t}}),"vertical"===n&&l({type:je,payload:{verticalGuidelines:t}})}}))})),St=(n(43),n(28)),Lt=n(29),Rt=new(function(){function e(){Object(St.a)(this,e),this.callbacks=void 0,this.callbacks=[]}return Object(Lt.a)(e,[{key:"addListener",value:function(e,t){if(this.callbacks.length){var n=!1;this.callbacks.forEach((function(o){o.eventName===e&&(n=!0,o.callbacks.push(t))})),n||this.callbacks.push({eventName:e,callbacks:[t]})}else this.callbacks=[{eventName:e,callbacks:[t]}]}},{key:"removeListener",value:function(e,t){this.callbacks.forEach((function(n){n.eventName===e&&(n.callbacks=n.callbacks.filter((function(e){return e!==t})))}))}},{key:"emit",value:function(e){this.callbacks.forEach((function(t){t.eventName===e&&t.callbacks.forEach((function(e){return e()}))}))}}]),e}()),At="SHOW_SETTING_PANL",_t="SCROLL_CENTER",Dt="INFINITEVIEWER_SCROLL",Mt=(n(24),n(30),"drag-target");function Bt(){var e=50+(document.querySelector(".left-sidebar")?250:0)+60+(document.querySelector(".right-sidebar")?300:0)+50+14,t=document.querySelector(".viewport");t&&(t.style.width=.95*(window.innerWidth-e)+"px",t.style.height=.95*(window.innerHeight-74)+"px")}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var Vt=function(e){var t=Object(o.useRef)(),n=Object(o.useRef)(),i=Object(o.useRef)(null),r=Object(o.useCallback)((function(){var e;null===(e=i.current)||void 0===e||e.scrollCenter()}),[]);return Object(o.useEffect)((function(){return Bt(),r(),window.addEventListener("resize",Bt),Rt.addListener(_t,r),function(){Rt.removeListener(_t,r),window.removeEventListener("resize",Bt)}}),[]),Object(ht.jsxs)("div",{className:"infinite-viewer-container",children:[Object(ht.jsx)("div",{className:"reset",onClick:function(){r()}}),Object(ht.jsx)(Ft,{className:"guides horizontal",ref:t,type:"horizontal",height:30}),Object(ht.jsx)(Ft,{className:"guides vertical",width:30,ref:n,type:"vertical"}),Object(ht.jsx)(Et.a,{className:"infinite-viewer",ref:i,useForceWheel:!0,onScroll:function(e){var o,i,r,l,c,a,s,d;Rt.emit(Dt);var u=null===(o=t.current)||void 0===o||null===(i=o.guides)||void 0===i?void 0:i.current,p=null===(r=n.current)||void 0===r||null===(l=r.guides)||void 0===l?void 0:l.current;null===u||void 0===u||null===(c=u.scroll)||void 0===c||c.call(u,e.scrollLeft),null===u||void 0===u||null===(a=u.scrollGuides)||void 0===a||a.call(u,e.scrollTop),null===p||void 0===p||null===(s=p.scroll)||void 0===s||s.call(p,e.scrollTop),null===p||void 0===p||null===(d=p.scrollGuides)||void 0===d||d.call(p,e.scrollLeft)},onPinch:function(e){var o,r,l,c,a=Math.max(.1,e.zoom),s=null===(o=t.current)||void 0===o||null===(r=o.guides)||void 0===r?void 0:r.current,d=null===(l=n.current)||void 0===l||null===(c=l.guides)||void 0===c?void 0:c.current;s.zoom=a,d.zoom=a,i.current.zoom=a},children:Object(ht.jsx)("div",{className:"viewport",onContextMenu:function(e){e.preventDefault()},children:e.children})})]})},zt=(n(45),Object(o.forwardRef)((function(e,t){var n=e.children,i=Object(o.useState)(),l=Object(pt.a)(i,2),c=l[0],a=l[1],s=Object(o.useState)(!1),d=Object(pt.a)(s,2),u=d[0],p=d[1],b=Object(o.useRef)(null),j=Object(o.useCallback)((function(){p(!1)}),[]);return Object(o.useImperativeHandle)(t,(function(){return{hide:function(){p(!1)},show:function(e){p(!0);var t=e.clientX,n=e.clientY,o=b.current;o.style.left="".concat(t,"px"),o.style.top="".concat(n,"px")}}}),[]),Object(o.useEffect)((function(){return window.addEventListener("click",j),a(document.body),function(){window.removeEventListener("click",j)}}),[]),c?Object(r.createPortal)(Object(ht.jsx)("div",{id:"context-menu",ref:b,className:u?"":"hide",children:n}),c):Object(ht.jsx)(ht.Fragment,{})}))),Kt=n(23),Ut=(n(49),Object(o.forwardRef)((function(e,t){return Object(ht.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{ref:t,className:"component-list"}))})));function qt(e){var t=e.pools,n=e.title,i=Object(o.useState)(t),r=Object(pt.a)(i,2),l=r[0],c=r[1],s=Oe(),d=s.setGlobal;if("draw"===s.mode)return Object(ht.jsx)("div",{className:"render-pool isdraw",children:Object(ht.jsx)(we.Empty,{description:"\u5f53\u524d\u4e3a\u81ea\u7531\u7ed8\u5236\u6a21\u5f0f\uff0c\u8bf7\u5207\u6362\u4e3a\u9875\u9762\u7ec4\u88c5\u6a21\u5f0f..."})});if(!l.length)return Object(ht.jsx)("div",{className:"render-pool empty",children:Object(ht.jsx)(we.Empty,{description:"\u6570\u636e\u4e3a\u7a7a"})});var u=function(e){return Array.isArray(e.children)&&e.children.length?Object(ht.jsx)(Kt.ReactSortable,{group:{name:"AssembleArea",pull:"clone",put:!1,revertClone:!0},sort:!1,tag:Ut,list:e.children,setList:function(e){},animation:200,delayOnTouchOnly:!0,children:e.children.map((function(e){return e.id=a(),Object(ht.jsx)("div",{className:"component-item",onClick:function(){return function(e,t){var n;n=a();var o=Object(p.cloneDeep)(e);o.id=n,o.key=n,t({type:"PUT_COMPONENT_LIST",payload:o})}(e,d)},children:Object(ht.jsxs)("div",{className:"drag-target",children:[Object(ht.jsx)("div",{className:"component-image"}),Object(ht.jsx)("div",{className:"component-name",children:e.label})]})},e.id)}))}):Object(ht.jsx)("div",{children:Object(ht.jsx)(we.Empty,{description:"\u6570\u636e\u4e3a\u7a7a"})})};return Object(ht.jsxs)("div",{className:"render-pool",children:[Object(ht.jsx)(we.Input.Search,{placeholder:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0",enterButton:"\u641c\u7d22",onSearch:function(e){var n=Object(p.cloneDeep)(t).map((function(t){return Array.isArray(t.children)&&(t.children=t.children.filter((function(t){return-1!==t.label.indexOf(e)}))),t}));c(n)}}),Object(ht.jsx)(we.Typography.Title,{level:4,style:{marginTop:"0.5em"},children:Object(ht.jsx)(we.Typography.Text,{type:"secondary",children:n})}),l.map((function(e){return Object(ht.jsxs)("div",{children:[Object(ht.jsx)(we.Typography.Title,{level:5,style:{marginTop:"0.5em"},children:Object(ht.jsx)(we.Typography.Text,{type:"secondary",children:e.label})}),u(e)]},a())}))]})}function Ht(){return Object(ht.jsx)(qt,{title:"\u8868\u5355\u7ec4\u4ef6",pools:Re})}function Wt(){return Object(ht.jsx)(qt,{title:"\u57fa\u7840\u7ec4\u4ef6",pools:[]})}function Yt(){return Object(ht.jsx)(qt,{title:"\u56fe\u8868\u7ec4\u4ef6",pools:[]})}function Jt(){var e=Object(o.useState)([]),t=Object(pt.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){(new u).readAll().then((function(e){i(e)}))}),[]),Object(ht.jsx)(we.List,{header:Object(ht.jsxs)(we.Typography.Title,{level:5,style:{marginTop:0,marginBottom:0},children:[Object(ht.jsx)(Ce.HistoryOutlined,{style:{marginRight:5}}),"History"]}),dataSource:n,renderItem:function(e){return Object(ht.jsx)(we.List.Item,{children:e.id})}})}var Xt=function(){var e=Oe().actionType;return["form-pool","base-pool","chart-pool","history"].includes(e)?Object(ht.jsx)("div",{className:"left-sidebar",children:Object(ht.jsx)("div",{className:"body",children:"form-pool"===e?Object(ht.jsx)(Ht,{}):"base-pool"===e?Object(ht.jsx)(Wt,{}):"chart-pool"===e?Object(ht.jsx)(Yt,{}):"history"===e?Object(ht.jsx)(Jt,{}):Object(ht.jsx)(ht.Fragment,{})})}):null},$t=function(e){var t=e.type,n=Oe().mode;if("setting"!==t)return null;return Object(ht.jsx)("div",{className:"right-sidebar",children:"assemble"===n?Object(ht.jsx)(ut,{}):Object(ht.jsx)("div",{className:"pt-60",children:Object(ht.jsx)(we.Empty,{description:"\u81ea\u7531\u7ed8\u5236\u6a21\u5f0f\uff0c\u656c\u8bf7\u671f\u5f85..."})})})};function Qt(e){var t=e.handleBtnType,n=e.handleColor,i=e.handleType,r=e.type,l=Oe(),c=l.setGlobal,a=l.mode,s=Object(o.useState)(!1),d=Object(pt.a)(s,2),u=d[0],p=d[1];return Object(o.useEffect)((function(){"swtich"!==r&&p(!1)}),[r]),Object(ht.jsx)(we.Popover,{placement:"rightTop",content:Object(ht.jsx)(we.Form.Item,{style:{marginBottom:0},label:"\u6a21\u5f0f",children:Object(ht.jsx)(we.Switch,{checkedChildren:"\u9875\u9762\u7ec4\u88c5\u6a21\u5f0f",unCheckedChildren:"\u81ea\u7531\u7ed8\u5236\u6a21\u5f0f",checked:"assemble"===a,onChange:function(e){c({type:"UPDATE_MODE",payload:{mode:e?"assemble":"draw"}})}})}),title:Object(ht.jsxs)(we.Row,{justify:"space-between",children:[Object(ht.jsx)(we.Col,{children:"\u6a21\u5f0f\u5207\u6362"}),Object(ht.jsx)(we.Col,{children:Object(ht.jsx)(Ce.CloseOutlined,{style:{cursor:"pointer"},onClick:function(){p(!1)}})})]}),trigger:"click",visible:u,onVisibleChange:function(e){p(!0)},children:Object(ht.jsx)(we.Button,{type:t("swtich",r),icon:Object(ht.jsx)(Ce.SwapOutlined,{style:n("swtich",r)}),onClick:function(){i("swtich")}})})}var Zt=function(e,t){return{color:t!==e?"#fff":"",fontSize:18}},en=function(e,t){return t===e?"primary":"text"},tn=function(e){return"draw"===e},nn=function(e){var t=e.type,n=e.handleType,o=Oe().mode;return Object(ht.jsxs)("div",{className:"left-action",children:[Object(ht.jsxs)("div",{className:"action",children:[Object(ht.jsx)(we.Button,{disabled:tn(o),type:en("base-pool",t),icon:Object(ht.jsx)(Ce.WindowsOutlined,{style:Zt("base-pool",t)}),onClick:function(){return n("base-pool")}}),Object(ht.jsx)(we.Button,{disabled:tn(o),type:en("form-pool",t),icon:Object(ht.jsx)(Ce.FormOutlined,{style:Zt("form-pool",t)}),onClick:function(){return n("form-pool")}}),Object(ht.jsx)(we.Button,{disabled:tn(o),type:en("chart-pool",t),icon:Object(ht.jsx)(Ce.LineChartOutlined,{style:Zt("chart-pool",t)}),onClick:function(){return n("chart-pool")}}),Object(ht.jsx)(Qt,{type:t,handleBtnType:en,handleColor:Zt,handleType:n}),Object(ht.jsx)(we.Button,{type:en("history",t),icon:Object(ht.jsx)(Ce.HistoryOutlined,{style:Zt("history",t)}),onClick:function(){return n("history")}})]}),Object(ht.jsx)(Ct,{})]})};var on=function(e){var t=e.type,n=e.handleType,i=Object(o.useRef)(null),r=Oe(),l=r.target,c=r.componentList,a=r.setGlobal,s=Object(o.useCallback)((function(){n("setting")}),[]);return Object(o.useEffect)((function(){return Rt.addListener(At,s),function(){Rt.removeListener(At,s)}}),[]),Object(ht.jsxs)("div",{className:"right-action",children:[Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.CodeOutlined,{style:Zt("run",t)}),type:en("run",t),onClick:function(){!function(){var e,t;null===(e=i.current)||void 0===e||e.run(),null===(t=i.current)||void 0===t||t.open()}()}}),Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.PicCenterOutlined,{style:Zt("center",t)}),type:en("center",t),onClick:function(){Rt.emit(_t)}}),Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.EyeOutlined,{style:Zt("preview",t)}),type:en("preview",t),size:"middle",onClick:function(){!function(){var e=function(e,t){var n,o=null===(n=t.rowProps)||void 0===n?void 0:n.colNum,i={type:"object",properties:{}};return e.forEach((function(e){var t=e.formItemProps.name,n=e.componentKey.toLowerCase().replace(/^.*\./,"");i.properties[t]={type:"string",widget:n}})),{number:o,json:i}}(c,l);console.log(e)}()}}),Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.VerticalAlignBottomOutlined,{style:Zt("download",t)}),type:en("download",t),size:"middle",onClick:function(){}}),Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.DeleteOutlined,{style:Zt("clean",t)}),type:en("clean",t),danger:!0,onClick:function(){we.Modal.confirm({title:"\u63d0\u793a",icon:Object(ht.jsx)(Ce.ExclamationCircleOutlined,{}),content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u7ec4\u4ef6\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){a({type:"DELETE_ALL_COMPONENT_LIST_AND_TARGET"}),a({type:je,payload:{target:null}})}})}}),Object(ht.jsx)(we.Button,{icon:Object(ht.jsx)(Ce.SettingOutlined,{style:Zt("setting",t)}),type:en("setting",t),onClick:function(){return n("setting")}}),Object(ht.jsx)(wt,{ref:i})]})},rn=n(19),ln=n(32);function cn(e){var t=e.children,n=e.type,i=e.componentProps,r=function e(t){if(Array.isArray(t)&&t.length)return t.map((function(t){var n={};return function(e){return["time-picker","time-picker/range-picker","date-picker","date-picker/range-picker","cascader"].includes(e)}(t.type)&&(n.disabled=!0),o.cloneElement(lt(t.type),Object(c.a)(Object(c.a)({},t.props),n),e(t.children))}))};return o.cloneElement.apply(o,[lt(n),i].concat(Object(ln.a)(function(e){var t=r(e);return Array.isArray(t)?t:[]}(t))))}Object(Ce.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_n04nm328pmp.js"});var an,sn=function(e){var t=e.onClick,n=void 0===t?function(){}:t,i=e.options,r=void 0===i?[]:i;return Object(ht.jsx)("div",{className:"menu-container",children:r.map((function(e,t){var i=e.icon,l=e.key,c=e.label,a=e.type,s=e.className;return Object(ht.jsxs)(o.Fragment,{children:[Object(ht.jsx)("div",{className:"menu-item",children:Object(ht.jsxs)(we.Typography.Link,{onClick:function(){n(l,c)},className:"del"===a?"".concat(s," del"):s,children:[o.cloneElement(i,{className:"menu-item-icon"}),c]})}),t!==r.length-1&&Object(ht.jsx)("hr",{})]},Gt())}))})};n(25);!function(e){e.copy="\u590d\u5236",e.setting="\u8bbe\u7f6e\u5c5e\u6027",e.del="\u5220\u9664",e.toLeft="\u5de6\u79fb",e.toRight="\u53f3\u79fb"}(an||(an={}));var dn=[{key:"toTop",icon:Object(ht.jsx)(Ce.VerticalAlignTopOutlined,{}),label:an.toLeft,type:"toTop"},{key:"topBottom",icon:Object(ht.jsx)(Ce.VerticalAlignBottomOutlined,{}),label:an.toRight,type:"topBottom"},{key:"copy",icon:Object(ht.jsx)(Ce.CopyOutlined,{}),label:an.copy},{key:"del",icon:Object(ht.jsx)(Ce.DeleteOutlined,{}),label:an.del,type:"del"},{key:"setting",icon:Object(ht.jsx)(Ce.SettingOutlined,{}),label:an.setting}],un=Object(o.forwardRef)((function(e,t){var n=(Oe().target||{}).layout,o=void 0===n?{}:n;return Object(ht.jsx)(we.Row,Object(c.a)(Object(c.a)(Object(c.a)({},e),o.row),{},{ref:t}))}));function pn(){var e=Oe(),t=e.target,n=e.moveableOptions,i=e.componentList,r=e.setGlobal,l=e.layoutType,a=e.commonProps,s=we.Form.useForm(),d=Object(pt.a)(s,1)[0],u=Object(o.useRef)(null),p=(a||{}).layout,b=void 0===p?{}:p,j=function(e,t){r({type:pe,payload:{newState:t,id:e}})},v=Object(o.useCallback)((function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.hide)||void 0===t||t.call(e)}),[]);Object(o.useEffect)((function(){return Rt.addListener(Dt,v),function(){Rt.removeListener(Dt,v)}}),[]),Object(o.useEffect)((function(){var e,t,n,o,i,r;(null===a||void 0===a||null===(e=a.form)||void 0===e||null===(t=e.formItem)||void 0===t?void 0:t.name)&&d.setFieldsValue(Object(rn.a)({},null===a||void 0===a||null===(n=a.form)||void 0===n||null===(o=n.formItem)||void 0===o?void 0:o.name,null===a||void 0===a||null===(i=a.form)||void 0===i||null===(r=i.formItem)||void 0===r?void 0:r.defaultValue))}),[a]);var m=function(e){var n=e.id,o=e.chosen,a=(e.props,function(e){var t,o;e.preventDefault(),r({type:ue,payload:{id:n}}),j(n,i),null===(t=u.current)||void 0===t||null===(o=t.show)||void 0===o||o.call(t,e)}),s=Object(ht.jsx)("div",{"data-id":n,className:"".concat(Mt," ").concat(o?"drag-target-chosen":""),onContextMenu:"mobility"===l?a:function(){},onClick:function(e){var o,l;e.stopPropagation(),null===(o=u.current)||void 0===o||null===(l=o.hide)||void 0===l||l.call(o),n!==t.id&&(r({type:ue,payload:{id:n}}),j(n,i))},children:Object(ht.jsx)(cn,{children:e.children,componentProps:e.props,type:e.type})},n);return"flexible"===l?Object(ht.jsx)(we.Col,Object(c.a)(Object(c.a)({onContextMenu:a},b.col||{}),{},{children:s}),n):s};return Object(ht.jsxs)(we.Form,{style:{height:"100%",position:"relative"},form:d,children:[Object(ht.jsx)(Kt.ReactSortable,{sort:!0,animation:150,tag:un,list:i,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",group:{name:"AssembleArea",put:!0},setList:function(e){r({type:pe,payload:{newState:e,id:null===t||void 0===t?void 0:t.id}})},onChoose:function(e){var n=e.item.dataset.id;n!==t.id&&(r({type:ue,payload:{id:n}}),j(n,i))},onUnchoose:function(e){e.item.classList.add("sortable-chosen")},children:function(e){return e.map((function(e){return m(e)}))}(i)}),Object(ht.jsx)(zt,{ref:u,children:Object(ht.jsx)(sn,{options:dn,onClick:function(e,o){if(o===an.del&&(r({type:"DEL_COMPONENT_LIST",payload:{id:t.id}}),r({type:"DELETE_TARGET"}),r({type:je,payload:{target:null}})),o===an.setting&&Rt.emit(At),o===an.copy){var i=Gt();r({type:"COPY_COMPONENT_LIST",payload:{id:t.id,newId:i}})}o===an.toLeft&&(r({type:"LEFT_REMOVE_COMPONENTS",payload:{id:t.id}}),he(null===n||void 0===n?void 0:n.target,r)),o===an.toRight&&(r({type:"RIGHT_REMOVE_COMPONENTS",payload:{id:t.id}}),he(null===n||void 0===n?void 0:n.target,r))}})})]})}var bn=function(){var e=Oe(),t=e.componentList,n="form-pool"===e.actionType?"\u8868\u5355":"\u9875\u9762";return Object(ht.jsx)("div",{className:"assemble-area",children:0===(null===t||void 0===t?void 0:t.length)?Object(ht.jsxs)("div",{className:"not-found-info",children:["\u4ece\u5de6\u4fa7\u70b9\u9009\u6216\u62d6\u62fd\u7ec4\u4ef6\u8fdb\u884c",Object(ht.jsx)("span",{style:{fontWeight:"bold"},children:n}),"\u8bbe\u8ba1"]}):Object(ht.jsx)(pn,{})})};function jn(){return Object(ht.jsx)("div",{children:Object(ht.jsx)("div",{className:"pt-60",children:Object(ht.jsx)(we.Empty,{description:"\u81ea\u7531\u7ed8\u5236\u6a21\u5f0f\uff0c\u656c\u8bf7\u671f\u5f85..."})})})}n(50);var vn=function(){var e=Oe(),t=e.mode,n=e.setGlobal,i=e.actionType,r=function(e){n(i===e&&"swtich"!==i?{type:ve,payload:{actionType:""}}:{type:ve,payload:{actionType:e}})};return Object(o.useEffect)((function(){["form-pool","setting","","switch","history"].includes(i)&&Bt()}),[i]),Object(ht.jsxs)("div",{className:"container",children:[Object(ht.jsx)(nn,{type:i,handleType:r}),Object(ht.jsx)(Xt,{}),Object(ht.jsx)("div",{className:"content",children:"assemble"===t?Object(ht.jsx)(bn,{}):Object(ht.jsxs)(Vt,{children:[Object(ht.jsx)(jn,{}),Object(ht.jsx)(It,{})]})}),Object(ht.jsx)($t,{type:i}),Object(ht.jsx)(on,{type:i,handleType:r})]})},mn=(n(51),n(52),function(){var e=function(e,t){var n=Object(o.useReducer)(e,t),i=n[0],r=n[1];i.setGlobal;var l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(i,["setGlobal"]),c=Object(p.cloneDeep)(l);return Object(o.useEffect)((function(){if(!ye){var e=function(e){return void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}();c.id=e,xe.add(c,e),window.localStorage.setItem("CURRENT_ID",e)}}),[JSON.stringify(c)]),Object(o.useEffect)((function(){xe.readAll().then((function(e){var t=window.localStorage.getItem("CURRENT_ID");e.forEach((function(e){t!==e.id||r({type:"SET_GLOBAL",payload:e})}))})).finally((function(){ye=!1}))}),[]),{commonState:i,dispatch:r}}(fe,b),t=e.commonState,n=e.dispatch;return Object(ht.jsx)(j.Provider,{value:Object(c.a)(Object(c.a)({},t),{},{setGlobal:n}),children:Object(ht.jsx)(vn,{})})});l.a.render(Object(ht.jsx)(mn,{}),document.getElementById("root"))}],[[53,1,2]]]);
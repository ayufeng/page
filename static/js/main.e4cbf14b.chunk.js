/*! For license information please see main.e4cbf14b.chunk.js.LICENSE.txt */
(this["webpackJsonp@r-generator/page"]=this["webpackJsonp@r-generator/page"]||[]).push([[0],[,,,function(e,n){e.exports=React},function(e,n){e.exports=antd},function(e,n){e.exports=PropTypes},,function(e,n,t){!function(e,n,t,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var r=i(n),a=l(o),c=function(){return(c=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function s(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}var d="SET_TARGET",u="DELETE_TARGET",p="SET_TARGET_BY_COMPONENT_LIST",m="SET_COMPONENT_LIST",v="PUT_COMPONENT_LIST",f="DEL_COMPONENT_LIST",h="COPY_COMPONENT_LIST",j="INSERT_COMPONENT_LIST",x="UPDATE_COMPONENT_LIST_BY_TARGET",b="UPDATE_COMPONENT_LIST_AND_TARGET",y="DELETE_ALL_COMPONENT_LIST_AND_TARGET",g="UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN",O="SET_MOVEABLE_OPTIONS",T="RESET_COMPONENT_LAYOUT",C="SET_COMPONENT_LAYOUT",E="LEFT_REMOVE_COMPONENTS",P="RIGHT_REMOVE_COMPONENTS",S="UPDATE_MODE",N=Object.freeze({__proto__:null,SET_TARGET:d,DELETE_TARGET:u,SET_TARGET_BY_COMPONENT_LIST:p,SET_COMPONENT_LIST:m,PUT_COMPONENT_LIST:v,DEL_COMPONENT_LIST:f,COPY_COMPONENT_LIST:h,INSERT_COMPONENT_LIST:j,UPDATE_COMPONENT_LIST_BY_TARGET:x,UPDATE_COMPONENT_LIST_AND_TARGET:b,DELETE_ALL_COMPONENT_LIST_AND_TARGET:y,UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN:g,SET_MOVEABLE_OPTIONS:O,RESET_COMPONENT_LAYOUT:T,SET_COMPONENT_LAYOUT:C,SET_SHOULD_UPDATE:"SET_SHOULD_UPDATE",LEFT_REMOVE_COMPONENTS:E,RIGHT_REMOVE_COMPONENTS:P,UPDATE_MODE:S}),k={target:{id:"",componentKey:"",formProps:{},formItemProps:{},componentProps:{},colProps:{},rowProps:{},layout:{frame:{translate:[0,0]}}},componentList:[],moveableOptions:{elClassName:null,frame:{translate:[0,0]}},mode:"form",setGlobal:function(e){e.type,e.payload}},I=a.createContext(k),w=function(e){var n=e.targetObj,t=e.childKeys,o=e.value,i=e.parentKey;t.forEach((function(e){var t;(null===(t=null==n?void 0:n[i])||void 0===t?void 0:t[e])&&(n[i][e]=o)}))};function _(e){return void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var F=Object.freeze({__proto__:null,shortid:_}),L=r.default((function(e,n){var o=c(c(c({},function(e,n){var o;return(o={}).DELETE_TARGET=function(){e.target=k.target},o.SET_TARGET_BY_COMPONENT_LIST=function(){!function t(o){for(var i,l,r,a,c=0;c<o.length;c++){var s=o[c];if((null===(i=null==s?void 0:s.children)||void 0===i?void 0:i.length)&&t(null==s?void 0:s.children),(null==s?void 0:s.id)===(null===(l=n.payload)||void 0===l?void 0:l.id)){s.rowProps=null===(r=e.target)||void 0===r?void 0:r.rowProps,s.formProps=null===(a=e.target)||void 0===a?void 0:a.formProps,e.target=s;break}}}(e.componentList)},o.SET_TARGET=function(){var o,i,l,r,a;w({targetObj:e.target,childKeys:["options","fields"],newValue:n.payload,value:[],parentKey:"componentProps"}),null===(null===(l=null===(i=null===(o=n.payload)||void 0===o?void 0:o.componentProps)||void 0===i?void 0:i.style)||void 0===l?void 0:l.width)&&(null===(a=null===(r=e.target)||void 0===r?void 0:r.componentProps)||void 0===a?void 0:a.style)&&(n.payload.componentProps.style=null,e.target.componentProps.style=null);var c=t.merge(t.cloneDeep(e.target),t.cloneDeep(n.payload));e.target=c},o.DELETE_TARGET=function(){Object.keys(e.target).forEach((function(n){["rowProps","formProps"].includes(n)||(e.target[n]=null)})),e.target.id="null",e.target.componentKey=""},o.SET_MOVEABLE_OPTIONS=function(){e.moveableOptions=t.merge(e.moveableOptions,t.cloneDeep(n.payload))},o}(e,n)),function(e,n){var o;return(o={}).DELETE_ALL_COMPONENT_LIST_AND_TARGET=function(){e.componentList=[],e.target={id:"",componentKey:"",formItemProps:{},componentProps:{},colProps:{},rowProps:{}}},o.PUT_COMPONENT_LIST=function(){for(var t,o,i,l=0;l<(null===(t=e.componentList)||void 0===t?void 0:t.length);l++)if(e.componentList[l].id===(null===(o=n.payload)||void 0===o?void 0:o.id))return;null===(i=e.componentList)||void 0===i||i.push(n.payload)},o.SET_COMPONENT_LIST=function(){for(var o=t.cloneDeep(n.payload)||{},i=o.newState,l=void 0===i?[]:i,r=o.id,a=0;a<(null==l?void 0:l.length);a++){var c=l[a];c.id===r?c.chosen=!0:c.chosen=!1}e.componentList=l},o.UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN=function(){var o,i=n.payload||{},l=i.id,r=i.children,a=void 0===r?[]:r,c=t.cloneDeep(a);null===(o=null==e?void 0:e.componentList)||void 0===o||o.forEach((function(e,n){e.id===l&&(e.children=c)}))},o.DEL_COMPONENT_LIST=function(){!function t(o){for(var i,l,r=0;r<(null==o?void 0:o.length);r++)if((null===(i=o[r])||void 0===i?void 0:i.children)&&t(e.componentList[r].children),o[r].id===(null===(l=n.payload)||void 0===l?void 0:l.id)){o.splice(r,1);break}}(null==e?void 0:e.componentList)},o.COPY_COMPONENT_LIST=function(){var o,i={},l=(null==n?void 0:n.payload)||{},r=l.id,a=l.newId,c=void 0===a?_():a;null===(o=e.componentList)||void 0===o||o.forEach((function(n){n.id===r&&(n.chosen=!1,(i=t.cloneDeep(n)).chosen=!0,i.id=c,i.key=c,i.formItemProps.name=c,e.componentList.push(i),e.target=t.merge(e.target,i))}))},o.INSERT_COMPONENT_LIST=function(){var t=n.payload,o=t.index,i=t.data;e.componentList.splice(o,0,i)},o.UPDATE_COMPONENT_LIST_BY_TARGET=function(){var o=(n.payload||{}).data,i=void 0===o?{}:o;!function n(o){null==o||o.forEach((function(o){var l,r,a,c;o.id===(null===(l=e.target)||void 0===l?void 0:l.id)&&(w({childKeys:["options","fields"],targetObj:o,newValue:i,value:[],parentKey:"componentProps"}),null===(null===(a=null===(r=i.componentProps)||void 0===r?void 0:r.style)||void 0===a?void 0:a.width)&&(null===(c=null==o?void 0:o.componentProps)||void 0===c?void 0:c.style)&&(i.componentProps.style=null,o.componentProps.style=null),o=t.merge(o,i)),(null==o?void 0:o.children)&&n(o.children)}))}(null==e?void 0:e.componentList)},o.UPDATE_COMPONENT_LIST_AND_TARGET=function(){var t,o=n.payload||{},i=o.componentKey,l=o.newComponentProps,r=null===(t=null==e?void 0:e.componentList)||void 0===t?void 0:t.map((function(n){var t;return n.id===(null===(t=e.target)||void 0===t?void 0:t.id)&&(n.componentKey=i,n.componentProps=c(c({},n.componentProps),l)),n}));e.target.componentKey=i,e.target.componentProps=l,e.componentList=r},o.RESET_COMPONENT_LAYOUT=function(){e.componentList.forEach((function(e,n){e.layout={}}))},o.SET_COMPONENT_LAYOUT=function(){var o=n.payload||{},i=o.colNum,l=o.gutter;e.componentList.forEach((function(e,n){var o={frame:{translate:[0,0,0]}};if(i>1&&(o.width="calc(100% / "+i+")",l>0)){var r=(i-1)*l/i;if(o.width="calc(100%/"+i+" - "+(t.isInteger(r)?r:r.toFixed(2))+"px)",0!==n&&n%i!=0){var a=n%i;o.frame.translate[0]=o.frame.translate[0]+l*a}}e.layout=o}))},o.LEFT_REMOVE_COMPONENTS=function(){var t=(n.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===t})),i=e.componentList[o],l=o-1;if(l>0){var r=e.componentList[l];e.componentList[l]=i,e.componentList[o]=r}},o.RIGHT_REMOVE_COMPONENTS=function(){var t=(n.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===t})),i=e.componentList[o],l=o+1;if(l<e.componentList.length){var r=e.componentList[l];e.componentList[l]=i,e.componentList[o]=r}},o}(e,n)),function(e,n){var t;return(t={}).UPDATE_MODE=function(){var t;e.mode=null===(t=n.payload)||void 0===t?void 0:t.mode},t}(e,n));"function"==typeof o[n.type]&&o[n.type]()})),R=Object.freeze({__proto__:null,refreshTarget:function(e,n){requestAnimationFrame((function(){n({type:O,payload:{target:null}}),n({type:O,payload:{target:e}})}))}}),A=Object.freeze({__proto__:null,useStore:function(){return o.useContext(I)},useLPReducer:function(e,n,i,l,r){void 0===r&&(r=["moveableOptions"]);var a=o.useReducer(e,n,(function(e){var n;try{var t=localStorage.getItem(i);"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return void 0!==n?n:void 0!==l?l(e):e})),c=t.cloneDeep(a[0]);return r.forEach((function(e){delete c[e]})),o.useEffect((function(){localStorage.setItem(i,JSON.stringify(c))}),[i,a,c]),a}}),D=Object.freeze({__proto__:null,commonReducer:L,actionTypes:N,INITAL_STATE:k,Context:I,Utils:R,Hooks:A}),M=function(){function e(e,n){this.componentList=e,this.target=n}return e.prototype.generate=function(){return""+this.generateImport()+this.generateXml()},e.prototype.generateXml=function(){var e=this,n=this.target,t=n.rowProps,o=void 0===t?{}:t,i=n.formProps,l=void 0===i?{}:i;o.colNum;var r=o.gutter,a=o.align,c=o.justify,d=o.wrap,u=s(o,["colNum","gutter","align","justify","wrap"]);l.labelAlign,l.size;var p=s(l,["labelAlign","size"]),m="colProps",v="formItemProps",f=this.generateProps({gutter:r,align:a,justify:c,wrap:d}),h="",j={};this.componentList.forEach((function(n,t){var o,i,l;(null===(o=n.componentProps)||void 0===o?void 0:o.defaultValue)&&(null===(i=n.formItemProps)||void 0===i?void 0:i.name)&&(j[n.formItemProps.name]=null===(l=n.componentProps)||void 0===l?void 0:l.defaultValue),h+=e.createFormItem(n,t,m,v)}));var x=Object.keys(j).length?" initialValues={"+JSON.stringify(j)+"}":"";return"\n    export default () => {\n      const colProps = "+JSON.stringify(u)+"\n      const formItemProps = "+JSON.stringify(p)+"\n      const [form] = Form.useForm()\n      const onFinish = (values) => {\n        console.log('Received values of form:', values)\n      }\n  \n      return <Form"+x+" form={form} onFinish={onFinish}>\n          <Row"+f+">\n            "+h+'\n            <Col span={24}>\n              <Form.Item>\n                <Button type="primary" htmlType="submit">\n                  \u63d0\u4ea4\n                </Button>\n              </Form.Item>\n            </Col>\n          </Row>\n      </Form>\n    }\n    '},e.prototype.generateProps=function(e,n){var t=this;return void 0===n&&(n=""),Object.keys(e).forEach((function(o){var i=JSON.stringify(e[o]);n+=""+t.parseProp(o,i)})),n},e.prototype.createFormItem=function(e,n,t,o){var i=e.formItemProps,l=e.componentProps,r=e.componentKey,a=e.colProps,d=void 0===a?{}:a,u=i.labelCol,p=i.wrapperCol;d.colNum;var m=s(d,["colNum"]),v=this.generateProps(c({},m)),f=this.generateProps(c(c({},i),{labelCol:u,wrapperCol:p})),h=this.generateComProps(l,r),j="";return"List1"===e.componentKey?"<Col {..."+t+"}"+v+">\n              <"+(j=""+e.componentKey+String(e.id).slice(0,4))+" {..."+o+"} form={form}"+f+h+" />\n            </Col>"+(this.componentList.length-1===n?"":"\n"):(j=null==r?void 0:r.replace(/^.*\./,""),"<Col {..."+t+"}"+v+">\n              <Form.Item {..."+o+"}"+f+">\n                "+("Upload"===r?"<"+j+h+">\n      <Button icon={<UploadOutlined />}>Click to Upload</Button>\n    </"+j+">":"<"+j+h+" />")+"\n              </Form.Item>\n            </Col>"+(this.componentList.length-1===n?"":"\n"))},e.prototype.generateComProps=function(e,n,t){var o=this;void 0===t&&(t=""),e.defaultValue;var i=e.prefix,l=e.suffix,r=s(e,["defaultValue","prefix","suffix"]);return["Input"].includes(n)&&(r.prefix="<"+i+" />",r.suffix="<"+l+" />"),Object.keys(r).forEach((function(e){var n=JSON.stringify(r[e]);t+=""+o.parseProp(e,n)})),t},e.prototype.parseProp=function(e,n,t){var o;if(void 0===t&&(t=""),!n)return"";if(void 0===n)return"";if(["{}","null"].includes(n))return"";try{null!==(t=JSON.parse(n))&&["object","number"].includes(typeof t)?t=" "+e+"={"+n+"}":"boolean"==typeof t?t=!0===t?" "+e:" "+e+"={"+n+"}":"string"==typeof t&&(t=-1!==(null==n?void 0:n.indexOf("<"))?" "+e+"={"+(null===(o=null==n?void 0:n.replace)||void 0===o?void 0:o.call(n,/"/g,""))+"}":" "+e+"="+n)}catch(e){t=""}return t},e.prototype.getAllAntdComponentKey=function(e,n){return void 0===n&&(n=new Set),e.forEach((function(e){["List1"].includes(e.componentKey)||n.add(e.componentKey)})),n.add("Form"),n.add("Row"),n.add("Col"),n.add("Button"),Array.from(n)},e.prototype.getAllIcon=function(e,n){return void 0===n&&(n=new Set),e.forEach((function(e){var t=e.componentProps,o=void 0===t?{}:t,i=o.prefix,l=o.suffix;i&&n.add(i),l&&n.add(l)})),Array.from(n)},e.prototype.generateImport=function(){var e=this.getAllAntdComponentKey(this.componentList),n=this.getAllIcon(this.componentList),t={},o="import {"+Array.from(new Set(e.map((function(e){var n=e.split("."),o=n[0],i=n[1];return i&&(t[o]?t[o].push(i):t[o]=[i]),o}))))+"} from 'antd'\n",i="";this.componentList.filter((function(e){return"List1"===e.componentKey})).forEach((function(e){var n=e.id.toString().slice(0,4);i+="import List1"+n+" from './List1-"+n+"'\n"}));var l="";Object.keys(t).forEach((function(e){var n=t[e];n.length&&(l+="const {"+n+"} = "+e+"\n")}));var r="import {"+n+'} from "@ant-design/icons";\n',a='import React from "react"\n'+o;return n.length&&(a+=r),i&&(a+=i),l&&(a+="\n"+l),a},e}(),V=Object.freeze({__proto__:null,Generate:M});e.Generate=V,e.Store=D,e.Utils=F,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(36),t(20),t(3))},,function(e,n){e.exports=icons},,,,,,,,function(e,n,t){!function(e,n,t,o,i,l,r,a){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var d=c(o),u=s(i),p=c(a),m=function(){return(m=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function v(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}var f={size:"small",labelAlign:"left",labelCol:{span:8},wrapperCol:{span:24},colon:!1},h=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}],j=Object.entries(u).filter((function(e){var n=(e||[])[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)})),x=function(e){return n.jsx(t.Collapse,m({},e,{className:"site-collapse-custom-collapse",expandIcon:function(e){var t=e.isActive;return n.jsx(i.CaretRightOutlined,{rotate:t?90:0},void 0)}},{children:e.children}),void 0)};x.Panel=function(e){return n.jsx(t.Collapse.Panel,m({},e,{className:"site-collapse-custom-panel"},{children:e.children}),void 0)};var b=function(e){var o=e.text,i=e.extra;return n.jsxs(t.Row,m({justify:"space-between",style:{padding:"0 10px"}},{children:[n.jsx(t.Col,{children:n.jsx(t.Typography.Title,m({level:5},{children:n.jsx(t.Typography.Text,m({type:"secondary"},{children:o}),void 0)}),void 0)},void 0),n.jsx(t.Col,{children:i},void 0)]}),void 0)},y={Input:t.Input,InputNumber:t.InputNumber,Select:t.Select,Cascader:t.Cascader,Radio:t.Radio,Checkbox:t.Checkbox,Switch:t.Switch,Slider:t.Slider,TimePicker:t.TimePicker,DatePicker:t.DatePicker,Rate:t.Rate,Upload:t.Upload};function g(e){var t;return e?(t=r.get(y,e)?r.get(y,e):n.jsx(n.Fragment,{},void 0),n.jsx(t,{},void 0)):n.jsx(n.Fragment,{},void 0)}var O=function(e){var l=e.name,r=void 0===l?"demo":l,a=e.fields,c=void 0===a?[]:a,s=e.design,d=e.form,u=t.Form.useForm()[0];d=s?u:d;var p=(null==c?void 0:c.length)||0,v=Math.floor(21/p),f={lg:v,md:v,sm:v,xl:v,xs:v,xxl:v},h=function(e,o,i){return c.map((function(l){return n.jsx(t.Col,m({},f,{children:n.jsx(t.Form.Item,m({label:0===e?l.label:void 0,labelCol:{span:24},name:[o,l.field],fieldKey:[i,l.field],rules:l.rules},{children:g(l.componentKey)}),void 0)}),i)}))};o.useEffect((function(){var e;d.setFieldsValue(((e={})[r]=[{}],e))}),[]);var j=n.jsx(t.Form.List,m({name:r},{children:function(e,o){var l=o.add,a=o.remove;return n.jsxs(n.Fragment,{children:[e.map((function(e,o){var s=e.key,u=e.name,p=e.fieldKey;return c.length?n.jsxs(t.Row,m({gutter:15},{children:[h(o,u,p),n.jsx(t.Col,m({span:3},{children:n.jsxs(t.Form.Item,m({labelCol:0===o?{span:24}:void 0,colon:!1,label:0===o?n.jsx("div",{},void 0):void 0},{children:[n.jsx(i.DeleteOutlined,{onClick:function(){return a(u)}},void 0),n.jsx(i.CopyOutlined,{style:{marginLeft:8},onClick:function(){var e,n,t=(null===(n=null===(e=d.getFieldsValue())||void 0===e?void 0:e[r])||void 0===n?void 0:n[o])||{};l(t)}},void 0)]}),void 0)}),void 0)]}),s):n.jsx(t.Empty,{image:t.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u8bf7\u5728\u5c5e\u6027\u9762\u677f\u4e2d\u8bbe\u7f6e\u5b57\u6bb5"},s)})),c.length?n.jsx(t.Row,{children:n.jsx(t.Col,m({span:Math.floor(v*p)},{children:n.jsx(t.Form.Item,{children:n.jsx(t.Button,m({type:"dashed",onClick:function(){return l()},block:!0,icon:n.jsx(i.PlusOutlined,{},void 0)},{children:"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)}),void 0)},void 0):null]},void 0)}}),void 0);return s?n.jsx(t.Form,m({form:d},{children:j}),void 0):j},T=o.forwardRef((function(e,l){var r=e.onOk,a=o.useState(!1),c=a[0],s=a[1],u=o.useState(j),p=u[0],v=u[1];return o.useImperativeHandle(l,(function(){return{show:function(){s(!0)},hide:function(){s(!1)}}}),[]),n.jsx(t.Modal,m({width:"80%",title:n.jsxs("div",m({className:"modal-title"},{children:[n.jsx("span",{children:"Ant Design Icon \u56fe\u6807"},void 0),n.jsx(t.Input,{className:"search",onInput:function(e){var n=e.target.value,t=j.filter((function(e){var t,o=(e||[])[0];return-1!==(null===(t=null==o?void 0:o.toLowerCase())||void 0===t?void 0:t.indexOf(null==n?void 0:n.toLowerCase()))}));v(t)},placeholder:"\u5728\u6b64\u641c\u7d22\u56fe\u6807\uff0c\u70b9\u51fb\u56fe\u6807\u53ef\u9009\u4e2d",addonAfter:n.jsx(t.Button,{type:"link",size:"small",icon:n.jsx(i.SearchOutlined,{},void 0)},void 0)},void 0)]}),void 0),visible:c,footer:null,onCancel:function(){s(!1)}},{children:n.jsx(t.Row,m({gutter:[16,16]},{children:null==p?void 0:p.map((function(e){var o=e||[],i=o[0],l=o[1];return n.jsxs(t.Col,m({className:"icon-col",span:3,onClick:function(){!function(e,t){s(!1),r&&r(e,n.jsx(t,{},void 0))}(i,l)}},{children:[n.jsx("div",m({className:"icon-item"},{children:"function"!=typeof l?d.default.cloneElement(n.jsx(l,{},void 0)):n.jsx(n.Fragment,{},void 0)}),void 0),n.jsx("div",{children:i},void 0)]}),i)}))}),void 0)}),void 0)})),C=function(e){var o=e.tooltipTitle,i=e.text,l=v(e,["tooltipTitle","text"]);return n.jsx(n.Fragment,{children:n.jsx(t.Checkbox,m({},l,{children:n.jsx(t.Tooltip,m({title:o},{children:i}),void 0)}),void 0)},void 0)},E=function(e){var i=e.children,l=e.onChange,r=o.useState(!1),a=r[0],c=r[1],s=o.useRef(null),d=function(e){var n=e.target.value;null==l||l(n),c(!1)};return n.jsx("div",m({onClick:function(){c(!0),requestAnimationFrame((function(){var e,n;null===(n=null===(e=s.current)||void 0===e?void 0:e.focus)||void 0===n||n.call(e)}))}},{children:a?n.jsx(t.Input,{ref:s,defaultValue:i,onPressEnter:d,onBlur:d},void 0):n.jsx("div",m({className:"editable-cell"},{children:i}),void 0)}),void 0)},P=l.Utils.shortid;function S(e,n,t,o){void 0===n&&(n=[]);var i=!1,l=function e(o,l){void 0===l&&(l=[]);for(var r=0;r<l.length;r++){var a=l[r];if(a.key===o)return i=!0,null==t||t(a,r,l,n),l;Array.isArray(a.children)&&e(o,a.children)}return l}(e,n);return i||null==o||o(),l}var N=function(e){var l=e.dataSource,a=void 0===l?[]:l,c=e.onChange,s=o.useState([]),d=s[0],u=s[1],p=o.useState([]),v=p[0],f=p[1],h=function(e){if(null==v?void 0:v.length)(t=v[0],o=r.cloneDeep(d),void 0===o&&(o=[]),new Promise((function(e,n){S(t,o,(function(n,t,o,i){return e({item:n,i:t,target:o,data:i})}),n)}))).then((function(n){var t=n.item;n.i,n.target;var o=n.data;(t.children||(t.children=[])).push(e),u(r.cloneDeep(o))})).catch((function(n){var t=r.cloneDeep(d);null==t||t.push(e),u(r.cloneDeep(t))}));else{var n=r.cloneDeep(d);null==n||n.push(e),u(n)}var t,o},j=function(e){var n=S(e,r.cloneDeep(d),(function(e,n,t){t.splice(n,1)}));u(n)},x=function(e,n,t){var o=S(e,r.cloneDeep(d),(function(e){e[t]=n}));u(o)},b=function e(o){return o.map((function(o){return n.jsx(t.Tree.TreeNode,m({className:"draggable-tree-node",title:n.jsxs(n.Fragment,{children:[n.jsx("span",m({className:"draggable-tree-node-item"},{children:n.jsx(E,m({className:"draggable-tree-node-item-editable",onChange:function(e){x(o.key,e,"label")}},{children:o.label}),void 0)}),void 0),n.jsx("span",m({className:"draggable-tree-node-item"},{children:n.jsx(E,m({className:"draggable-tree-node-item-editable",onChange:function(e){x(o.key,e,"value")}},{children:o.value}),void 0)}),void 0),n.jsx("span",m({className:"draggable-tree-node-item draggable-tree-node-item-action"},{children:n.jsx(t.Button,m({type:"link",className:"btn",onClick:function(){j(o.key)}},{children:"\u5220\u9664"}),void 0)}),void 0)]},void 0),switcherIcon:function(e){var t,l=e.expanded;return(null===(t=o.children)||void 0===t?void 0:t.length)?l?n.jsx(i.MinusSquareOutlined,{},void 0):n.jsx(i.PlusSquareOutlined,{},void 0):null}},{children:Array.isArray(o.children)&&e(o.children)}),o.key)}))};return o.useEffect((function(){u(a)}),[]),o.useEffect((function(){null==c||c(r.cloneDeep(d),u)}),[d]),n.jsxs(n.Fragment,{children:[n.jsxs("div",m({className:"tree-header"},{children:[n.jsxs("span",m({className:"tree-header-item"},{children:[n.jsx("span",{children:"\u9009\u9879\u5185\u5bb9"},void 0),n.jsx("span",{children:"label"},void 0)]}),void 0),n.jsxs("span",m({className:"tree-header-item"},{children:[n.jsx("span",{children:"\u9009\u9879\u503c"},void 0),n.jsx("span",{children:"value"},void 0)]}),void 0),n.jsx("span",m({className:"tree-header-item"},{children:"\u64cd\u4f5c"}),void 0)]}),void 0),n.jsx(t.Tree,m({className:"draggable-tree",selectedKeys:v,draggable:!0,blockNode:!0,height:233,showIcon:!0,onDragEnter:function(e){},onDrop:function(e){var n,t=e.node.key,o=e.dragNode.key,i=e.node.pos.split("-"),l=e.dropPosition-Number(i[i.length-1]),a=function e(n,t,o){for(var i=0;i<n.length;i++){if(n[i].key===t)return o(n[i],i,n);n[i].children&&e(n[i].children,t,o)}},c=r.cloneDeep(d);if(a(c,o,(function(e,t,o){o.splice(t,1),n=e})),e.dropToGap)if((e.node.props.children||[]).length>0&&e.node.props.expanded&&1===l)a(c,t,(function(e){e.children=e.children||[],e.children.unshift(n)}));else{var s=[],p=0;a(c,t,(function(e,n,t){s=t,p=n})),-1===l?s.splice(p,0,n):s.splice(p+1,0,n)}else a(c,t,(function(e){e.children=e.children||[],e.children.unshift(n)}));u(c)},onSelect:function(e){f(e)}},{children:b(d)}),void 0),n.jsx(t.Space,m({style:{marginTop:10},split:n.jsx(t.Divider,{type:"vertical"},void 0)},{children:n.jsx(t.Typography.Link,m({onClick:function(){var e=P();h({label:"\u65b0\u7684\u9009\u9879",value:e,key:e})}},{children:"\u6dfb\u52a0\u4e00\u9879"}),void 0)}),void 0)]},void 0)},k={reqUrl:"/react-visual-editor/options.mock.json",reqMethod:"GET"},I=[{key:"key1",label:"\u9009\u98791",value:"\u503c1"},{label:"\u5206\u7ec41",children:[{key:"key3",label:"\u5206\u7ec4\u4e0b\u7684\u9009\u98792",value:"\u503c2"}],key:"key2",value:"key2"}],w=o.forwardRef((function(e,i){var l,a,c=e.onOk,s=o.useState(!1),d=s[0],u=s[1],v=o.useState(!1),f=v[0],h=v[1];o.useState((l=k.reqUrl,a=k.reqMethod,"\n/**\n * \u8bf7\u4e0d\u8981\u4fee\u6539\u65b9\u6cd5\u4f53\u4ee5\u5916\u7684\u5185\u5bb9\n */\nfunction getData(){\n    return fetch('"+l+"', {method: "+a+"}).then(res => {\n    return res.json()\n}).then(res => {\n    return res\n    // TODO \u81ea\u5b9a\u4e49\u8fd4\u56de\u6570\u636e\n})}"))[0];var j=o.useState(!1),x=j[0],b=j[1],y=o.useState("\u53ef\u89c6\u5316\u914d\u7f6e"),g=y[0],O=y[1],T=o.useState({left:0,top:0,bottom:0,right:0}),C=T[0],E=T[1],P=o.useState(I),S=P[0],w=P[1],_=o.useRef(null),F=t.Form.useForm()[0],L=function(){u(!0)},R=function(){u(!1)};return o.useImperativeHandle(i,(function(){return{showModal:L,hideModal:R,setdataSource:w}}),[]),n.jsxs(t.Modal,m({title:n.jsxs("div",m({style:{cursor:"move",display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:34},onMouseOver:function(){f&&h(!1)},onMouseOut:function(){h(!0)},onFocus:function(){},onBlur:function(){}},{children:[n.jsxs("span",{children:["\u914d\u7f6e\u6570\u636e",n.jsx(t.Button,m({type:"link",onClick:function(){b(!x)}},{children:x?"\u5207\u6362\u56fa\u5b9a\u914d\u7f6e":"\u5207\u6362\u52a8\u6001\u914d\u7f6e"}),void 0)]},void 0),!x&&n.jsxs(t.Radio.Group,m({size:"small",style:{lineHeight:0},value:g,onChange:function(e){O(e.target.value)}},{children:[n.jsx(t.Radio.Button,m({value:"\u53ef\u89c6\u5316\u914d\u7f6e"},{children:"\u53ef\u89c6\u5316\u914d\u7f6e"}),void 0),n.jsx(t.Radio.Button,m({value:"\u4ee3\u7801\u914d\u7f6e"},{children:"\u4ee3\u7801\u914d\u7f6e"}),void 0)]}),void 0)]}),void 0),onCancel:R,visible:d,okText:"\u786e\u5b9a",modalRender:function(e){return n.jsx(p.default,m({disabled:f,bounds:C,onStart:function(e,n){return function(e,n){var t,o,i=null===(t=null===window||void 0===window?void 0:window.document)||void 0===t?void 0:t.documentElement,l=i.clientWidth,r=i.clientHeight,a=(null===(o=null==_?void 0:_.current)||void 0===o?void 0:o.getBoundingClientRect())||{},c=a.left,s=a.right,d=a.top,u=a.bottom;E({left:-c+(null==n?void 0:n.x),right:l-(s-(null==n?void 0:n.x)),top:-d+(null==n?void 0:n.y),bottom:r-(u-(null==n?void 0:n.y))})}(0,n)}},{children:n.jsx("div",m({ref:_},{children:e}),void 0)}),void 0)},footer:n.jsx(t.Button,m({type:"primary",size:"middle",onClick:function(){u(!1),x?"function"==typeof c&&c([]):"function"==typeof c&&c(r.cloneDeep(S))}},{children:"\u786e\u5b9a"}),void 0)},{children:[x&&n.jsx(n.Fragment,{children:n.jsxs(t.Form,m({form:F,onValuesChange:function(e,n){n.reqUrl,n.reqMethod},initialValues:k},{children:[n.jsx(t.Form.Item,m({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u5730\u5740",name:"reqUrl"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u65b9\u6cd5",name:"reqMethod"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,m({value:"POST"},{children:"POST"}),void 0),n.jsx(t.Select.Option,m({value:"GET"},{children:"GET"}),void 0)]},void 0)}),void 0)]}),void 0)},void 0),!x&&("\u53ef\u89c6\u5316\u914d\u7f6e"===g?n.jsx("div",m({style:{display:"\u53ef\u89c6\u5316\u914d\u7f6e"===g?"block":"none"},onMouseEnter:function(){h(!0)}},{children:n.jsx(N,{dataSource:S,onChange:function(e){w(e)}},void 0)}),void 0):null)]}),void 0)})),_=l.Store.actionTypes,F=l.Store.Utils,L=l.Store.Hooks,R=_.SET_TARGET,A=F.refreshTarget;function D(){var e=L.useStore(),i=e.target,l=e.moveableOptions,a=e.setGlobal,c=t.Form.useForm()[0],s=i||{},d=s.id,u=s.formProps,p=void 0===u?{}:u,h=o.useCallback(r.debounce((function(e,n){var t=n.wrapperCol,o=n.labelCol,i=v(n,["wrapperCol","labelCol"]);(r.isNumber(t)||r.isNumber(o))&&A(null==l?void 0:l.target,a);var c={span:t},s={span:o};i.wrapperCol=c,i.labelCol=s,a({type:R,payload:{id:d,formProps:i}})}),200),[]);return o.useEffect((function(){var e,n,t,o,i;e=p.wrapperCol,n=p.labelCol,t=v(p,["wrapperCol","labelCol"]),o=null==e?void 0:e.span,i=null==n?void 0:n.span,t.wrapperCol=o,t.labelCol=i,c.resetFields(),c.setFieldsValue(t)}),[i.id]),n.jsxs(t.Form,m({},f,{initialValues:{size:"middle",labelAlign:"right"},form:c,onValuesChange:h},{children:[n.jsx(b,{text:"\u8868\u5355"},void 0),n.jsx(x,m({defaultActiveKey:["\u8868\u5355"]},{children:n.jsxs(x.Panel,m({header:"\u8868\u5355"},{children:[n.jsx(t.Form.Item,m({label:"\u8868\u5355\u540d",name:"name"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6\uff0c\u8bbe\u7f6e span offset \u503c\uff0c\u5982 {span: 3, offset: 12} \u6216 sm: {span: 3, offset: 12}\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 labelCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"labelCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c labelCol\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 wrapperCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"wrapperCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u8868\u5355\u5c3a\u5bf8",name:"size"},{children:n.jsxs(t.Radio.Group,m({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,m({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,m({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,m({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:n.jsxs(t.Radio.Group,m({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,m({value:"left",style:{width:"50%",textAlign:"center"}},{children:"\u5de6\u5bf9\u9f50"}),void 0),n.jsx(t.Radio.Button,m({value:"right",style:{width:"50%",textAlign:"center"}},{children:"\u53f3\u5bf9\u9f50"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false",text:"\u7981\u7528\u8868\u5355"},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",name:"showbtn",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u663e\u793a\u8868\u5355\u6309\u94ae",text:"\u8868\u5355\u6309\u94ae"},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",name:"bordered",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u663e\u793a\u672a\u9009\u4e2d\u7ec4\u4ef6\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),"\u8868\u5355")}),void 0)]}),void 0)}var M=l.Store.actionTypes,V=l.Store.Hooks,G=l.Store.Utils.refreshTarget,B=M.SET_TARGET,K=M.UPDATE_COMPONENT_LIST_BY_TARGET;function U(){var e=V.useStore(),i=e.moveableOptions,l=e.target,a=e.setGlobal,c=t.Form.useForm()[0],s=l||{},d=s.id,u=s.formItemProps,p=void 0===u?{}:u,h=o.useCallback(r.debounce((function(e,n){var t=n.wrapperCol,o=n.labelCol,l=v(n,["wrapperCol","labelCol"]);if((r.isNumber(t)||r.isNumber(o))&&G(null==i?void 0:i.target,a),r.isNumber(t)){var c={span:t};l.wrapperCol=c}if(r.isNumber(o)){var s={span:o};l.labelCol=s}a({type:B,payload:{id:d,formItemProps:l}}),a({type:K,payload:{id:d,data:{formItemProps:l}}})}),100),[null==l?void 0:l.id]);return o.useEffect((function(){!function(){var e=p||{},n=e.wrapperCol,t=e.labelCol,o=v(e,["wrapperCol","labelCol"]),i=null==n?void 0:n.span,l=null==t?void 0:t.span;o.wrapperCol=i,o.labelCol=l,c.resetFields(),c.setFieldsValue(o)}()}),[l.id]),n.jsxs(t.Form,m({},f,{initialValues:{labelAlign:"right"},form:c,onValuesChange:h},{children:[n.jsx(b,{text:"\u8868\u5355\u9879"},void 0),n.jsx(x,m({defaultActiveKey:["\u8868\u5355\u9879"]},{children:n.jsxs(x.Panel,m({header:"\u8868\u5355\u9879"},{children:[n.jsx(t.Form.Item,m({label:"\u5b57\u6bb5\u540d",name:"name"},{children:n.jsx(t.Input,{onPressEnter:function(e){}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6807\u9898",name:"label"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c \u6807\u7b7e\u5e03\u5c40\u3002",name:"wrapperCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6",name:"labelCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:n.jsxs(t.Radio.Group,{children:[n.jsx(t.Radio.Button,m({value:"left"},{children:"\u5de6\u5bf9\u9f50"}),void 0),n.jsx(t.Radio.Button,m({value:"right"},{children:"\u53f3\u5bf9\u9f50"}),void 0)]},void 0)}),void 0)]}),"\u8868\u5355\u9879")}),void 0)]}),void 0)}var z=l.Store.Hooks,H=l.Store.actionTypes,Y=l.Store.Utils.refreshTarget,q=H.SET_TARGET,J=H.UPDATE_COMPONENT_LIST_BY_TARGET,W=t.Select.Option,X=t.Select.OptGroup;function Q(e){return["TimePicker.RangePicker","DatePicker.RangePicker"].includes(e)}var Z=o.memo((function(){var e=t.Form.useForm()[0],i=z.useStore(),l=i.target,r=i.moveableOptions,a=i.setGlobal,c=l||{},s=c.id,d=c.componentProps,u=void 0===d?{}:d;return o.useEffect((function(){!function(){var n,t,o,i,r=u||{},a=r.style,c=void 0===a?{}:a,s=r.placeholder,d=v(r,["style","placeholder"]),p=null===(t=null===(n=null==c?void 0:c.width)||void 0===n?void 0:n.replace("%",""))||void 0===t?void 0:t.replace(/null|undefined/,"");Array.isArray(s)&&(o=s[0],i=s[1]),e.resetFields(),e.setFieldsValue(m(m({},d),{componentKey:l.componentKey,componentWidth:p,placeholder:s,placeholder1:o,placeholder2:i}))}()}),[null==l?void 0:l.id]),n.jsx(n.Fragment,{children:n.jsxs(t.Form,m({},f,{initialValues:{size:"middle",bordered:!0},form:e,onValuesChange:function(e,n){e.componentWidth,e.placeholder,e.placeholder1,e.placeholder2;var t=n.componentKey,o=n.placeholder,i=n.componentWidth,c=v(n,["componentKey","placeholder","componentWidth"]),d=o;Q(null==l?void 0:l.componentKey)&&(d=[n.placeholder1,n.placeholder2]);var u={width:i};"number"==typeof i&&(u.width+="%"),a({type:J,payload:{data:{componentKey:t,value:t,componentProps:m({placeholder:d,style:u},c)}}}),a({type:q,payload:{id:s,componentKey:t,value:t,componentProps:m({placeholder:d,style:u},c)}}),Y(null==r?void 0:r.target,a)}},{children:[n.jsx(b,{text:"\u901a\u7528"},void 0),n.jsx(x,m({defaultActiveKey:["\u901a\u7528"]},{children:n.jsxs(x.Panel,m({header:"\u901a\u7528"},{children:[n.jsx(t.Form.Item,m({label:"",name:"componentKey"},{children:n.jsx(t.Select,{children:h.map((function(e){return n.jsx(X,m({label:e.label},{children:Array.isArray(e.children)&&e.children.map((function(e){return n.jsx(W,m({value:e.value},{children:e.label}),e.key)}))}),e.key)}))},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u63a7\u4ef6\u5bbd\u5ea6",name:"componentWidth",tooltip:"\u8bf7\u8f93\u5165\u767e\u5206\u6bd4",className:"mb-0"},{children:n.jsx(t.InputNumber,{min:0,max:100},void 0)}),void 0),Q(null==l?void 0:l.componentKey)?n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,m({label:"\u5360\u4f4d\u7b261",name:"placeholder1"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u5360\u4f4d\u7b262",name:"placeholder2"},{children:n.jsx(t.Input,{},void 0)}),void 0)]},void 0):n.jsx(t.Form.Item,m({label:"\u5360\u4f4d\u7b26",name:"placeholder"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u5927\u5c0f",name:"size"},{children:n.jsxs(t.Radio.Group,m({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,m({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,m({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,m({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"bordered"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u7981\u7528",text:"\u662f\u5426\u7981\u7528"},void 0)}),void 0)]}),"\u901a\u7528")}),void 0)]}),void 0)},void 0)})),$=l.Store.Hooks,ee=l.Store.actionTypes,ne=ee.UPDATE_COMPONENT_LIST_BY_TARGET,te=ee.SET_TARGET,oe=l.Store.actionTypes,ie=l.Store.Hooks,le=oe.SET_TARGET,re=oe.UPDATE_COMPONENT_LIST_BY_TARGET,ae=l.Store.actionTypes,ce=l.Store.Hooks,se=ae.SET_TARGET,de=ae.UPDATE_COMPONENT_LIST_BY_TARGET,ue=l.Store.Hooks,pe=l.Store.actionTypes,me=l.Store.Utils.refreshTarget,ve=pe.RESET_COMPONENT_LAYOUT,fe=pe.SET_TARGET;function he(){var e=t.Form.useForm()[0],i=ue.useStore(),l=i.target,a=i.moveableOptions,c=i.setGlobal,s=l||{},d=s.id,u=s.rowProps,p=void 0===u?{}:u,v=(a||{}).target,h=o.useState("\u7cbe\u7b80\u6a21\u5f0f"),j=h[0],y=h[1],g=o.useCallback(r.debounce((function(e,n){var t=n;t.gutter||(t.gutter=0),"\u7cbe\u7b80\u6a21\u5f0f"===j&&(t=r.merge(n,function(e,n){void 0===n&&(n=24),isNaN(Number(e))&&(e=1);var t=Math.floor(Number(n/e));return{xs:t,sm:t,md:t,lg:t,xl:t,xxl:t}}(n.colNum)),c({type:ve})),c({type:fe,payload:{id:d,rowProps:t}}),me(v,c),O()}),200),[l.id,j]),O=function(){var e,n=document.querySelector(".viewport")||{},t=document.querySelector(".form-row")||{},o=(null===(e=null==t?void 0:t.getBoundingClientRect)||void 0===e?void 0:e.call(t))||{},i=o.width,l=o.height;n.style.width=i+"px",n.style.height=l+"px"};return o.useEffect((function(){e.resetFields(),e.setFieldsValue(p)}),[null==l?void 0:l.id]),n.jsxs(t.Form,m({},f,{form:e,initialValues:{align:"top",gutter:0,justify:"start",wrap:!0},onValuesChange:g},{children:[n.jsx(b,{text:"\u5e03\u5c40",extra:n.jsx(t.Typography.Link,m({onClick:function(){y("\u7cbe\u7b80\u6a21\u5f0f"===j?"\u4e13\u4e1a\u6a21\u5f0f":"\u7cbe\u7b80\u6a21\u5f0f")}},{children:n.jsx(t.Switch,{checkedChildren:"\u4e13\u4e1a\u6a21\u5f0f",unCheckedChildren:"\u7cbe\u7b80\u6a21\u5f0f",checked:"\u4e13\u4e1a\u6a21\u5f0f"===j},void 0)}),void 0)},void 0),n.jsx(x,m({defaultActiveKey:["\u5168\u5c40\u5e03\u5c40"]},{children:n.jsxs(x.Panel,m({header:n.jsx(t.Form.Item,{label:"\u5168\u5c40\u5e03\u5c40",tooltip:"\u5728\u6b64\u8bbe\u7f6e\u7684\u5185\u5bb9\u5c06\u5e94\u7528\u4e8e\u5168\u90e8\u63a7\u4ef6",className:"mb-0 w-100"},void 0)},{children:[n.jsx(t.Form.Item,m({label:"\u5782\u76f4\u5bf9\u9f50",name:"align"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,m({value:"top"},{children:"\u9760\u4e0a"}),void 0),n.jsx(t.Select.Option,m({value:"middle"},{children:"\u5c45\u4e2d"}),void 0),n.jsx(t.Select.Option,m({value:"bottom"},{children:"\u9760\u4e0b"}),void 0)]},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6c34\u5e73\u6392\u5217",name:"justify"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,m({value:"start"},{children:"\u6c34\u5e73\u9760\u5de6\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,m({value:"middle"},{children:"\u6c34\u5e73\u9760\u53f3\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,m({value:"center"},{children:"\u6c34\u5e73\u5c45\u4e2d\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,m({value:"space-around"},{children:"\u6c34\u5e73\u5e73\u5747\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,m({value:"space-between"},{children:"\u6c34\u5e73\u4e24\u4fa7\u9876\u683c\u5206\u5e03"}),void 0)]},void 0)}),void 0),"\u7cbe\u7b80\u6a21\u5f0f"===j&&n.jsx(n.Fragment,{children:n.jsx(t.Form.Item,m({label:"\u5217\u6570",name:"colNum"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,m({value:"1"},{children:"\u4e00\u5217"}),void 0),n.jsx(t.Select.Option,m({value:"2"},{children:"\u4e8c\u5217"}),void 0),n.jsx(t.Select.Option,m({value:"3"},{children:"\u4e09\u5217"}),void 0),n.jsx(t.Select.Option,m({value:"4"},{children:"\u56db\u5217"}),void 0)]},void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===j&&n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,m({label:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17},name:"span"},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0),n.jsx(t.Form.Item,m({label:"\u6805\u683c\u95f4\u9694",name:"gutter",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:100},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",name:"wrap",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u81ea\u52a8\u6362\u884c",text:"\u81ea\u52a8\u6362\u884c"},void 0)}),void 0)]}),"\u5168\u5c40\u5e03\u5c40")}),void 0)]}),void 0)}var je=l.Store.Hooks,xe=l.Store.actionTypes,be=l.Store.Utils.refreshTarget,ye=xe.SET_TARGET,ge=xe.UPDATE_COMPONENT_LIST_BY_TARGET;function Oe(){var e=t.Form.useForm()[0],i=je.useStore(),l=i.target,a=i.moveableOptions,c=i.setGlobal,s=l||{},d=s.id,u=s.colProps,p=void 0===u?{}:u,v=(a||{}).target,h=o.useState("\u7cbe\u7b80\u6a21\u5f0f"),j=h[0],y=h[1],g=o.useCallback(r.debounce((function(e,n){e.span&&(n.xs=e.span,n.sm=e.span,n.md=e.span,n.lg=e.span,n.xl=e.span,n.xxl=e.span),c({type:ge,payload:{id:d,data:{colProps:n}}}),c({type:ye,payload:{id:d,colProps:n}}),be(v,c)}),200),[l.id,j]);return o.useEffect((function(){e.resetFields(),e.setFieldsValue(p)}),[null==l?void 0:l.id]),n.jsxs(t.Form,m({},f,{form:e,initialValues:{},onValuesChange:g},{children:[n.jsx(b,{text:"\u5e03\u5c40",extra:n.jsx(t.Typography.Link,m({onClick:function(){y("\u7cbe\u7b80\u6a21\u5f0f"===j?"\u4e13\u4e1a\u6a21\u5f0f":"\u7cbe\u7b80\u6a21\u5f0f")}},{children:n.jsx(t.Switch,{checkedChildren:"\u4e13\u4e1a\u6a21\u5f0f",unCheckedChildren:"\u7cbe\u7b80\u6a21\u5f0f",checked:"\u4e13\u4e1a\u6a21\u5f0f"===j},void 0)}),void 0)},void 0),n.jsx(x,m({defaultActiveKey:["\u6805\u683c\u9879"]},{children:n.jsxs(x.Panel,m({header:"\u4e13\u4e1a\u6a21\u5f0f"===j?n.jsx(t.Form.Item,m({label:"\u6805\u683c\u9879",tooltip:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:16},name:"span",className:"mb-0"},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0):"\u6805\u683c\u9879"},{children:["\u7cbe\u7b80\u6a21\u5f0f"===j&&n.jsx(n.Fragment,{children:n.jsx(t.Form.Item,m({label:"\u5360\u6574\u884c",name:"span"},{children:n.jsxs(t.Select,m({allowClear:!0,onClear:function(){var n={span:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null};e.setFieldsValue(n),c({type:ge,payload:{id:d,data:{colProps:n}}}),c({type:ye,payload:{id:d,colProps:n}})}},{children:[n.jsx(t.Select.Option,m({value:6},{children:"\u56db\u5206\u4e4b\u4e00"}),void 0),n.jsx(t.Select.Option,m({value:8},{children:"\u4e09\u5206\u4e4b\u4e00"}),void 0),n.jsx(t.Select.Option,m({value:12},{children:"\u4e00\u534a"}),void 0),n.jsx(t.Select.Option,m({value:24},{children:"\u5360\u6ee1"}),void 0)]}),void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===j&&n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,m({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,m({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0)]}),"\u6805\u683c\u9879")}),void 0)]}),void 0)}var Te=l.Store.actionTypes,Ce=l.Store.Hooks.useStore,Ee=Te.SET_TARGET,Pe=Te.UPDATE_COMPONENT_LIST_BY_TARGET,Se=t.Select.Option,Ne=t.Select.OptGroup,ke=function(e){var n;return e.fields=null===(n=null==e?void 0:e.fields)||void 0===n?void 0:n.filter((function(e){return e.field}))},Ie=o.memo((function(){var e=t.Form.useForm()[0],l=Ce(),r=l.target,a=l.setGlobal,c=function(e){a({type:Ee,payload:{id:null==r?void 0:r.id,componentProps:e}}),a({type:Pe,payload:{id:null==r?void 0:r.id,data:{componentProps:e}}})},s=function(o){var l=o.index,r=o.name,a=o.fieldKey,s=o.remove,d=o.add,p=e.getFieldsValue(),v=p.fields||[],f=v[l]||{},j=function(n,t){v[l][n]=t,e.setFieldsValue({fields:v}),c(p)},x=n.jsx(t.Popover,m({trigger:"click",placement:"topLeft",getPopupContainer:function(){return document.querySelector(".form-properties")||document.body},content:n.jsxs("div",{children:[n.jsx(t.Form.Item,m({label:"\u540d\u79f0",wrapperCol:{span:16},style:{marginBottom:5}},{children:n.jsx(t.Input,{defaultValue:f.label,onChange:function(e){var n=e.target.value;j("label",n)}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u5b57\u6bb5\u540d",wrapperCol:{span:16},style:{marginBottom:5}},{children:n.jsx(t.Input,{defaultValue:f.field,onChange:function(e){var n=e.target.value;j("field",n)}},void 0)}),void 0)]},void 0),title:n.jsxs(t.Row,m({justify:"space-between"},{children:[n.jsx(t.Col,{children:"\u7f16\u8f91\u63a7\u4ef6\u5c5e\u6027"},void 0),n.jsx(t.Col,{children:n.jsxs(t.Space,{children:[n.jsx(t.Button,{type:"primary",disabled:u(),icon:n.jsx(i.CopyOutlined,{onClick:function(){var n,t,o=(null===(t=null===(n=e.getFieldsValue())||void 0===n?void 0:n.fields)||void 0===t?void 0:t[l])||{};d(o)}},void 0)},void 0),n.jsx(t.Button,{type:"primary",danger:!0,icon:n.jsx(i.DeleteOutlined,{onClick:function(){return s(r)}},void 0)},void 0)]},void 0)},void 0)]}),void 0)},{children:f.label||"\u65e0\u6807\u9898"}),void 0);return n.jsx(t.Form.Item,m({tooltip:"\u70b9\u51fb\u6807\u7b7e\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027",label:x,labelCol:{span:10},wrapperCol:{span:14},name:[r,"componentKey"],fieldKey:[a,"componentKey"]},{children:n.jsx(t.Select,{children:h.map((function(e){return n.jsx(Ne,m({label:e.label},{children:Array.isArray(e.children)&&e.children.filter((function(e){return"List1"!==e.value})).map((function(e){return n.jsx(Se,m({value:e.value},{children:e.label}),e.key)}))}),e.key)}))},void 0)}),void 0)},u=function(){var n;return 4===(null===(n=ke(e.getFieldsValue()))||void 0===n?void 0:n.length)};return o.useEffect((function(){var n;e.setFieldsValue({fields:(null===(n=null==r?void 0:r.componentProps)||void 0===n?void 0:n.fields)||[]})}),[null==r?void 0:r.id]),n.jsx(t.Form,m({},f,{form:e,onValuesChange:function(e,n){n.fields=ke(n),c(n)}},{children:n.jsx(x,m({defaultActiveKey:["\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"]},{children:n.jsx(x.Panel,m({header:"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"},{children:n.jsx(t.Form.List,m({name:"fields",prefixCls:"111"},{children:function(e,o){var l=o.add,r=o.remove;return n.jsxs(n.Fragment,{children:[e.map((function(e,o){var i=e.name,a=e.fieldKey;return n.jsxs(d.default.Fragment,{children:[n.jsx(t.Form.Item,m({hidden:!0,name:[i,"label"],fieldKey:[a,"label"]},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({hidden:!0,name:[i,"field"],fieldKey:[a,"field"]},{children:n.jsx(t.Input,{},void 0)}),void 0),s({index:o,name:i,fieldKey:a,remove:r,add:l})]},a)})),n.jsx(t.Form.Item,{children:n.jsx(t.Button,m({type:"dashed",onClick:function(){var e;l({label:"\u6807\u7b7e\u540d",field:(void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)),componentKey:"Input"})},block:!0,icon:n.jsx(i.PlusOutlined,{},void 0),disabled:u()},{children:u()?"\u6700\u591a\u6dfb\u52a04\u9879":"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)]},void 0)}}),void 0)}),"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20")}),void 0)}),void 0)})),we={"":{properties:n.jsx(n.Fragment,{},void 0),component:n.jsx(n.Fragment,{},void 0)},Input:{properties:n.jsx((function(){var e=t.Form.useForm()[0],l=o.useRef(null),a=$.useStore(),c=a.target,s=a.setGlobal,d=c||{},u=d.id,p=d.componentProps,v=void 0===p?{}:p,h=o.useState("prefix"),j=h[0],b=h[1],y=o.useCallback(r.debounce((function(e,n){s({type:te,payload:{id:u,componentProps:n}}),s({type:ne,payload:{id:u,data:{componentProps:n}}})}),100),[c]),g=function(n){var t,o,i;s({type:te,payload:{id:u,componentProps:(t={},t[j]=n,t)}}),s({type:ne,payload:{id:u,data:{componentProps:(o={},o[j]=n,o)}}}),e.setFieldsValue(((i={})[j]=n,i))};return o.useEffect((function(){e.resetFields(),e.setFieldsValue(v)}),[null==c?void 0:c.id]),n.jsxs(n.Fragment,{children:[n.jsx(T,{ref:l,onOk:function(e){g(e)}},void 0),n.jsx(t.Form,m({},f,{initialValues:{bordered:!0,disabled:!1,size:"middle"},form:e,onValuesChange:y},{children:n.jsx(x,m({defaultActiveKey:["\u8f93\u5165\u6846\u5c5e\u6027"]},{children:n.jsxs(x.Panel,m({header:"\u8f93\u5165\u6846\u5c5e\u6027"},{children:[n.jsx(t.Form.Item,m({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u524d\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u524d\u7f6e\u6807\u7b7e",name:"addonBefore"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u540e\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u540e\u7f6e\u6807\u7b7e",name:"addonAfter"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u524d\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u524d\u7f00\u56fe\u6807\u7684 input",name:"prefix"},{children:n.jsx(t.Input,{readOnly:!0,addonBefore:n.jsx(t.Typography.Link,m({onClick:function(){var e;null===(e=l.current)||void 0===e||e.show(),b("prefix")}},{children:n.jsx(i.SelectOutlined,{},void 0)}),void 0),addonAfter:n.jsx(t.Typography.Link,m({onClick:function(){b("prefix"),g(null)}},{children:n.jsx(i.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u540e\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u540e\u7f00\u56fe\u6807\u7684 input",name:"suffix"},{children:n.jsx(t.Input,{readOnly:!0,addonBefore:n.jsx(t.Typography.Link,m({onClick:function(){var e;null===(e=l.current)||void 0===e||e.show(),b("suffix")}},{children:n.jsx(i.SelectOutlined,{},void 0)}),void 0),addonAfter:n.jsx(t.Typography.Link,m({onClick:function(){b("suffix"),g(null)}},{children:n.jsx(i.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"allowClear"},{children:n.jsx(t.Checkbox,{children:n.jsx(t.Tooltip,m({title:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9"},{children:"\u652f\u6301\u6e05\u9664"}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(t.Checkbox,{children:n.jsx(t.Tooltip,m({title:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false"},{children:"\u7981\u7528"}),void 0)},void 0)}),void 0)]}),"\u8f93\u5165\u6846\u5c5e\u6027")}),void 0)}),void 0)]},void 0)}),{},void 0),component:n.jsx(t.Input,{},void 0)},"Input.TextArea":{properties:n.jsx((function(){var e=t.Form.useForm()[0],i=ie.useStore(),l=i.target,r=i.setGlobal,a=l||{},c=a.id,s=a.componentProps,d=void 0===s?{}:s;return o.useEffect((function(){e.resetFields(),e.setFieldsValue(d)}),[null==l?void 0:l.id]),n.jsx(n.Fragment,{children:n.jsx(t.Form,m({},f,{form:e,onValuesChange:function(e,n){r({type:le,payload:{id:c,componentProps:{defaultValue:null==n?void 0:n.defaultValue}}}),r({type:re,payload:{id:c,data:{componentProps:n}}})}},{children:n.jsxs(x,m({defaultActiveKey:["\u57fa\u672c"]},{children:[n.jsxs(x.Panel,m({header:"\u57fa\u672c"},{children:[n.jsx(t.Form.Item,m({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"showCount"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u5c55\u793a\u5b57\u6570",text:"\u5c55\u793a\u5b57\u6570"},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"allowClear"},{children:n.jsx(C,{tooltipTitle:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9",text:"\u652f\u6301\u6e05\u9664"},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"bordered"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),void 0),n.jsxs(x.Panel,m({header:n.jsx(t.Form.Item,m({label:"",valuePropName:"checked",name:"autoSize",className:"mb-0"},{children:n.jsx(C,{tooltipTitle:"\u81ea\u9002\u5e94\u5185\u5bb9\u9ad8\u5ea6\uff0c\u53ef\u8bbe\u7f6e\u4e3a true | false \u6216\u5bf9\u8c61\uff1a{ minRows: 2, maxRows: 6 }",text:"\u81ea\u9002\u5e94\u9ad8"},void 0)}),void 0)},{children:[n.jsx(t.Form.Item,m({label:"\u6700\u5c0f\u884c\u6570",name:"autoSize.minRows"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u6700\u5927\u884c\u6570",name:"autoSize.maxRows"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)},void 0)}),{},void 0),component:n.jsx(t.Input.TextArea,{},void 0)},"Input.Password":{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Input.Password,{},void 0)},InputNumber:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.InputNumber,{},void 0)},Editor:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(n.Fragment,{children:"editor"},void 0)},Select:{properties:n.jsx((function(){var e,i=ce.useStore(),l=i.target,r=i.setGlobal,a=o.useRef(null),c=t.Form.useForm()[0],s=l||{},d=s.id,u=s.componentProps,p=void 0===u?{}:u;return o.useEffect((function(){c.setFieldsValue({options:p.options})}),[p.id]),n.jsxs(t.Form,m({},f,{form:c},{children:[n.jsx(x,m({defaultActiveKey:["\u4e0b\u62c9\u5217\u8868"]},{children:n.jsx(x.Panel,m({header:"\u4e0b\u62c9\u5217\u8868"},{children:n.jsx(t.Form.Item,m({label:"\u5217\u8868\u5185\u9009\u9879",name:"options",shouldUpdate:!0},{children:n.jsx(t.Button,m({type:"dashed",block:!0,onClick:function(){var e,n,t=c.getFieldValue("options");t&&(null===(e=a.current)||void 0===e||e.setdataSource(t)),null===(n=a.current)||void 0===n||n.showModal()}},{children:(null===(e=c.getFieldValue("options"))||void 0===e?void 0:e.length)?"\u5df2\u914d\u7f6e":"\u914d\u7f6e\u6570\u636e"}),void 0)}),void 0)}),"\u4e0b\u62c9\u5217\u8868")}),void 0),n.jsx(w,{ref:a,onOk:function(e){c.setFieldsValue({options:e}),r({type:se,payload:{id:d,componentProps:{options:e}}}),r({type:de,payload:{id:d,data:{componentProps:{options:e}}}})}},void 0)]}),void 0)}),{},void 0),component:n.jsx(t.Select,{},void 0)},Cascader:{properties:n.jsx((function(){var e=o.useRef(null),i=t.Form.useForm()[0];return n.jsxs(t.Form,m({},f,{form:i,onValuesChange:function(e,n){},initialValues:{size:"middle"}},{children:[n.jsxs(x,m({defaultActiveKey:["\u4e0b\u62c9\u5217\u8868"]},{children:[n.jsx(x.Panel,m({header:"\u4e0b\u62c9\u5217\u8868"},{children:n.jsx(t.Form.Item,m({label:"\u5217\u8868\u5185\u9009\u9879",name:"options"},{children:n.jsx(t.Button,m({type:"dashed",block:!0,onClick:function(){var n,t,o=i.getFieldValue("options");i.getFieldValue("options")&&(null===(n=e.current)||void 0===n||n.setdataSource(o)),null===(t=e.current)||void 0===t||t.showModal()}},{children:"\u914d\u7f6e\u6570\u636e"}),void 0)}),void 0)}),"\u4e0b\u62c9\u5217\u8868"),n.jsx(x.Panel,m({header:"\u9009\u62e9\u6846"},{children:n.jsx(t.Form.Item,m({label:"\u5927\u5c0f",name:"size"},{children:n.jsxs(t.Radio.Group,m({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,m({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,m({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,m({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0)}),"\u9009\u62e9\u6846")]}),void 0),n.jsx(w,{ref:e,onOk:function(e){i.setFieldsValue({options:e})}},void 0)]}),void 0)}),{},void 0),component:n.jsx(t.Cascader,{},void 0)},Radio:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Radio,{},void 0)},Checkbox:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Checkbox,{},void 0)},Switch:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Switch,{},void 0)},Slider:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Slider,{},void 0)},TimePicker:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.TimePicker,{},void 0)},"TimePicker.RangePicker":{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.TimePicker.RangePicker,{},void 0)},DatePicker:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.DatePicker,{},void 0)},"DatePicker.RangePicker":{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.DatePicker.RangePicker,{},void 0)},Rate:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Rate,{},void 0)},Upload:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Upload,{children:n.jsx(t.Button,m({icon:n.jsx(i.UploadOutlined,{},void 0)},{children:"Click to Upload"}),void 0)},void 0)},Col:{properties:n.jsx(n.Fragment,{},void 0),component:n.jsx(n.Fragment,{},void 0)},Button:{properties:n.jsx((function(){return n.jsx(t.Form,m({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Button,{},void 0)},List1:{properties:n.jsx(Ie,{},void 0),component:n.jsx(O,{},void 0)},getComponent:function(e){return we[e]?we[e].component:n.jsx(n.Fragment,{},void 0)},getProperties:function(e){return we[e]?we[e].properties:n.jsx(n.Fragment,{},void 0)}},_e=l.Store.Hooks,Fe=we.getProperties;function Le(){var e=_e.useStore(),o=e.componentList,i=e.target,l=n.jsxs(n.Fragment,{children:[n.jsx(b,{text:"\u63a7\u4ef6"},void 0),Fe(i.componentKey)]},void 0);return o.length>0&&(null==i?void 0:i.id)?n.jsxs(n.Fragment,{children:[n.jsx(U,{},void 0),l,n.jsx(Oe,{},void 0),n.jsx(Z,{},void 0)]},void 0):n.jsx(t.Empty,{image:t.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u672a\u9009\u4e2d\u63a7\u4ef6"},void 0)}function Re(){return n.jsxs(n.Fragment,{children:[n.jsx(he,{},void 0),n.jsx(D,{},void 0)]},void 0)}var Ae=l.Store.Hooks,De=l.Store.Utils.refreshTarget;function Me(){var e=t.Form.useForm()[0],i=Ae.useStore(),l=i.moveableOptions,a=i.setGlobal,c=o.useCallback(r.debounce((function(e,n){var t=n.width,o=n.height,i=document.querySelector(".viewport")||{};i.style.width=t+"px",i.style.height=o+"px",De(null==l?void 0:l.target,a)}),500),[]);return o.useEffect((function(){var n=(document.querySelector(".viewport")||{}).style||{},t=n.width,o=n.height;e.setFieldsValue({width:parseInt(t),height:parseInt(o)})}),[]),n.jsxs(t.Form,m({},f,{form:e,onValuesChange:c},{children:[n.jsx(b,{text:"\u5c3a\u5bf8"},void 0),n.jsx(x,m({defaultActiveKey:["\u89c6\u7a97\u5927\u5c0f"]},{children:n.jsxs(x.Panel,m({header:"\u89c6\u7a97\u5927\u5c0f"},{children:[n.jsx(t.Form.Item,m({label:"\u5bbd\u5ea6",name:"width"},{children:n.jsx(t.InputNumber,{style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,m({label:"\u9ad8\u5ea6",name:"height"},{children:n.jsx(t.InputNumber,{style:{width:"100%"}},void 0)}),void 0)]}),"\u89c6\u7a97\u5927\u5c0f")}),void 0)]}),void 0)}var Ve=t.Tabs.TabPane,Ge=Object.freeze({__proto__:null,List1:O,Setting:function(){var e={position:"relative",overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 46px)"};return n.jsxs(t.Tabs,m({defaultActiveKey:"1",centered:!0},{children:[n.jsx(Ve,m({tab:"\u5c5e\u6027\u8bbe\u7f6e"},{children:n.jsx("div",m({style:e},{children:n.jsx(Le,{},void 0)}),void 0)}),"1"),n.jsx(Ve,m({tab:"\u5e03\u5c40\u8bbe\u7f6e"},{children:n.jsx("div",m({style:e},{children:n.jsx(Re,{},void 0)}),void 0)}),"2"),n.jsx(Ve,m({tab:"\u753b\u5e03\u8bbe\u7f6e"},{children:n.jsx("div",m({style:e},{children:n.jsx(Me,{},void 0)}),void 0)}),"3")]}),void 0)},ComponentSetting:Le,LayoutSetting:Re,PageSetting:Me,Mapping:we});e.AntdMapping=Ge,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(39),t(4),t(3),t(9),t(7),t(20),t(42))},,,function(e,n){e.exports=_},function(e,n){e.exports=ReactDOM},,,,,,function(e,n,t){},function(e,n){e.exports=moment},function(e,n){e.exports=Babel},function(e,n){e.exports=monaco_react},,,,,,function(e,n){e.exports=immer},,,,,,function(e,n){e.exports=ReactDraggable},,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,,function(e,n){e.exports=Sortable},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(3),i=t.n(o),l=t(21),r=t.n(l),a=t(6),c=t(10),s=t(4),d=t(9),u=Object(d.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_b097rjuqmfk.js"});Object.entries(d).filter((function(e){var n=e||[],t=Object(c.a)(n,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(t)}));var p=function(){var e={};return Object.entries(d).filter((function(e){var n=e||[],t=Object(c.a)(n,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(t)})).forEach((function(n){var t=n||[],o=Object(c.a)(t,2),i=o[0],l=o[1];e[i]=l})),e}(),m="drag-target",v=t(7),f=t(20),h=t(2),j=v.Utils.shortid,x=v.Store.actionTypes,b=v.Store.Hooks.useStore,y=x.PUT_COMPONENT_LIST,g=x.UPDATE_MODE,O=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}].map((function(e){var n;return Object(a.a)(Object(a.a)({},e),{},{children:null===e||void 0===e||null===(n=e.children)||void 0===n?void 0:n.map((function(e){var n=e||{},t=n.value,o=n.label,i=n.icon,l=j(),r={value:t,label:o,icon:i,id:l,key:l,componentKey:t,formItemProps:{name:l,label:o},colProps:{},rowProps:{},componentProps:{},layout:{frame:{translate:[0,0]}}};return["List1"].includes(t)&&(r.colProps={lg:24,md:24,sm:24,xl:24,xs:24,xxl:24},r.formItemProps.labelCol={span:24}),r}))})})),T=function(){var e=b(),n=e.setGlobal,t=e.mode;return Object(h.jsxs)("div",{className:"left-sidebar",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(s.Input.Search,{placeholder:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0",enterButton:"\u641c\u7d22",onSearch:function(e){return console.log(e)}}),Object(h.jsx)("div",{className:"mode-switch",children:Object(h.jsx)(s.Form.Item,{style:{marginBottom:0},label:"\u6a21\u5f0f\u5207\u6362",children:Object(h.jsx)(s.Switch,{checkedChildren:"\u8868\u5355\u8bbe\u8ba1",unCheckedChildren:"\u975e\u8868\u5355\u8bbe\u8ba1",checked:"form"===t,onChange:function(e){n({type:g,payload:{mode:e?"form":"page"}})}})})})]}),Object(h.jsx)("div",{className:"body",children:"form"!==t?Object(h.jsx)("div",{className:"p-10",children:Object(h.jsx)(s.Empty,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})}):O.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(s.Button,{className:"title-btn",style:{paddingLeft:12},icon:Object(h.jsx)(u,{type:e.icon}),type:"text",disabled:!0,children:e.label}),Object(h.jsx)(s.Row,{gutter:[6,6],children:e.children&&e.children.map((function(e){return Object(h.jsx)(s.Col,{span:12,className:"left-sidebar-col",children:Object(h.jsx)(s.Button,{block:!0,style:{backgroundColor:"#f8f8f8",fontSize:"12px"},type:"default",icon:Object(h.jsx)(u,{type:e.icon}),onClick:function(){var t,o=j(),i=Object(f.cloneDeep)(e);i.id=o,i.key=o,(null===(t=i.formItemProps)||void 0===t?void 0:t.name)&&(i.formItemProps.name=o),n({type:y,payload:i})},children:e.label})},e.value)}))})]},e.key)}))})]})},C=t(17),E=v.Store.Hooks.useStore,P=C.AntdMapping.Setting,S=function(){var e=E().mode;return Object(h.jsx)("div",{className:"right-sidebar",children:"form"===e?Object(h.jsx)(P,{}):Object(h.jsx)("div",{className:"p-10",children:Object(h.jsx)(s.Empty,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},N=t(16),k=t(12),I=t(18),w=t.n(I),_=t(22);function F(){var e=50+(document.querySelector(".left-sidebar")?250:0)+60+(document.querySelector(".right-sidebar")?300:0)+50+14,n=document.querySelector(".viewport");n&&(n.style.width=.95*(window.innerWidth-e)+"px",n.style.height=.95*(window.innerHeight-74)+"px")}function L(e){return["TimePicker","TimePicker.RangePicker","DatePicker","DatePicker.RangePicker"].includes(e)}function R(e){return["Radio","Checkbox","Switch"].includes(e)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var D=t(28),M=["defaultValue","prefix","suffix"];function V(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var t=p[e];if(t&&n)return t||o.Fragment;if(t&&!n)return"<".concat(e," />")}return n?o.Fragment:null}var G=C.AntdMapping.Mapping.getComponent,B={readOnly:!0,open:!1},K=function(e){var n=e.id,t=e.children,i=e.componentKey,l=e.formProps,r=void 0===l?{}:l,c=e.formItemProps,d=void 0===c?{}:c,u=e.componentProps,p=void 0===u?{}:u,m=e.rowProps,v=void 0===m?{}:m,f=e.form,j=e.className,x=e.style;(L(i)&&!D.isMoment(null===f||void 0===f?void 0:f.getFieldValue(d.name))||["Cascader"].includes(i))&&(null===f||void 0===f||f.setFieldsValue(Object(N.a)({},d.name,"")));p.defaultValue;var b=p.prefix,y=p.suffix,g=Object(k.a)(p,M);if(["Input"].includes(i)){var O=V(b,!0),T=V(y,!0);g.prefix=Object(h.jsx)(O,{}),g.suffix=Object(h.jsx)(T,{})}var C=r.labelCol,E=void 0===C?{}:C,P=r.wrapperCol,S=void 0===P?{}:P,I=d.labelCol,w=void 0===I?{}:I,_=d.wrapperCol,F=void 0===_?{}:_,A=Object(a.a)(Object(a.a)({},d),{},{labelCol:Object(a.a)(Object(a.a)({},E),w),wrapperCol:Object(a.a)(Object(a.a)({},S),F)});return function(e){return!["Col","Button","List1"].includes(e)}(i)?Object(h.jsx)(s.Form.Item,Object(a.a)(Object(a.a)({},A),{},{style:x,className:j,valuePropName:R(i)?"checked":"value",children:o.cloneElement(G(i)||Object(h.jsx)(h.Fragment,{}),Object(a.a)(Object(a.a)({disabled:"Rate"===i},B),g))})):o.cloneElement(G(i)||Object(h.jsx)(h.Fragment,{}),Object(a.a)({id:n,children:t,rowProps:v,style:x,design:!0,name:null===d||void 0===d?void 0:d.name},g))},U=t(23),z=t(24),H=t(29),Y=["TimePicker"],q=C.AntdMapping.List1,J=function(){function e(n){Object(U.a)(this,e),this.genrate=void 0,this.genrate=n}return Object(z.a)(e,[{key:"replace",value:function(e){var n=e||this.genrate.generate();return n.substring(n.indexOf("export default"),n.indexOf("</Form>")).replace("export default","")+"</Form>}"}},{key:"string2Component",value:function(){var e=Object(_.a)(w.a.mark((function e(){var n,t,o,i,l,r,a,c=this,d=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:[],t=d.length>1?d[1]:void 0,e.prev=2,l=this.replace(t),r=Object(H.transform)(l,{presets:["react","es2015"]}).code,r=null===(o=r)||void 0===o?void 0:o.replace('"use strict";',"").trim(),r=null===(i=r)||void 0===i?void 0:i.replace("(function","return (function"),a=new Function("context","with(context){\n            ".concat(r,"\n        }")),e.abrupt("return",(function(){try{return a(c.getContext(n))}catch(e){console.log("error",e),s.notification.open({message:"\u8fd0\u884c\u9519\u8bef",description:e instanceof Error?e.message:"".concat(e)})}}));case 11:e.prev=11,e.t0=e.catch(2),console.log("e",e.t0),s.notification.open({message:"\u8fd0\u884c\u9519\u8bef",description:e.t0 instanceof Error?e.t0.message:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(e){s.DatePicker.TimePicker;var n=Object(k.a)(s.DatePicker,Y),t=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({React:o,Form:s.Form,Input:s.Input},s.Input),{},{InputNumber:s.InputNumber,Select:s.Select},s.Select),{},{Cascader:s.Cascader,Radio:s.Radio,Checkbox:s.Checkbox,Switch:s.Switch,Slider:s.Slider,TimePicker:s.TimePicker},s.TimePicker),{},{DatePicker:s.DatePicker},n),{},{Rate:s.Rate,Upload:s.Upload,Row:s.Row,Col:s.Col,Button:s.Button},p),{},{List1:q});return e.forEach((function(e){var n=e.componentKey,o=String(e.id).slice(0,4);t["".concat(n).concat(o)]=t.List1})),t}}]),e}(),W=t(34);var X=t(30),Q=t.n(X);t(45);var Z,$=v.Store.Hooks.useStore,ee=s.Tabs.TabPane,ne=function(){return Object(h.jsx)(d.EditOutlined,{style:{color:"#f1fa8c",marginRight:"5px"}})},te=function(){return Object(h.jsx)(d.FileTextOutlined,{style:{color:"#a95812",marginRight:"5px"}})},oe="index.tsx",ie=Object(o.forwardRef)((function(e,n){var t,i=Object(o.useState)(""),l=Object(c.a)(i,2),r=l[0],a=l[1],u=Object(o.useState)(!1),p=Object(c.a)(u,2),m=p[0],f=p[1],j=Object(o.useState)(oe),x=Object(c.a)(j,2),b=x[0],y=x[1],g=Object(o.useState)(Object(h.jsx)(h.Fragment,{})),O=Object(c.a)(g,2),T=O[0],C=O[1],E=Object(o.useState)(""),P=Object(c.a)(E,2),S=P[0],N=P[1],k=$(),I=k.componentList,w=k.target,_=null===I||void 0===I||null===(t=I.filter)||void 0===t?void 0:t.call(I,(function(e){return"List1"===e.componentKey})),F={"index.tsx":{name:"index.tsx",language:"typescript",value:r}};null===_||void 0===_||_.forEach((function(e){var n,t,o="List1".concat(String(e.id).slice(0,4),".tsx");F[o]={name:o,language:"typescript",value:(t=null===e||void 0===e||null===(n=e.componentProps)||void 0===n?void 0:n.fields,"\nimport * as React from 'react'\n".concat(function(){var e="Button, Form, Row, Col";return t.forEach((function(n){e+=", ".concat(n.componentKey)})),"import { ".concat(e," } from 'antd'")}(),"\nimport { DeleteOutlined, PlusOutlined, CopyOutlined } from '@ant-design/icons'\n\nexport interface IItem {\n  label: string\n  name?: string\n  field: string\n  componentKey: string\n  rules?: Record<string, any>[]\n}\n\ninterface IList1Props {\n  name?: string // \u8868\u5355\u6570\u636e\u5b57\u6bb5\u540d\n  fields?: IItem[] // \u6bcf\u884c\u5143\u7d20\n  form?: any // \u6bcf\u884c\u5143\u7d20\n}\n\n/**\n * list\u7ec4\u4ef6\n */\nexport default (props: IList1Props) => {\n  const { name = 'demo', fields = [], form } = props\n  const number = fields?.length || 0 // \u6bcf\u884c\u5143\u7d20\u4e2a\u6570\n  const operateCol = 3 // \u64cd\u4f5c\u6309\u94ae\u683c\u6570\n  const span = Math.floor((24 - operateCol) / number)\n  const colProps = {\n    lg: span,\n    md: span,\n    sm: span,\n    xl: span,\n    xs: span,\n    xxl: span,\n  }\n\n  const renderFormItems = (index: number, name: number, fieldKey: number) => {\n    const showLable = index === 0\n    return ").concat(function(){var e="";return t.forEach((function(n){e+="<Col {...colProps}>\n            <Form.Item\n              label={showLable && '".concat(n.label,"'}\n              labelCol={{ span: 24 }}\n              name={[name, '").concat(n.field,"']}\n              fieldKey={[fieldKey, '").concat(n.field,"']}\n              rules={").concat(n.rules||"[]","}\n            >\n              <").concat(n.componentKey," />\n            </Form.Item>\n          </Col>\n")})),"<React.Fragment key={fieldKey}>\n".concat(e,"</React.Fragment>")}(),"\n  }\n\n  useEffect(() => {\n    form.setFieldsValue({\n        [name]: [").concat(JSON.stringify(function(){var e={};return t.forEach((function(n){e[n.field]=void 0})),e}()),']\n    })\n  }, [])\n\n  return (\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(({ key, name: _name, fieldKey, ...restField }, index) => {\n              return (\n                <Row key={key} gutter={15}>\n                  {renderFormItems(index, _name, fieldKey)}\n                  <Col span={operateCol}>\n                    <Form.Item\n                      labelCol={index === 0 ? { span: 24 } : undefined}\n                      colon={false}\n                      label={index === 0 ? <div></div> : undefined}\n                    >\n                      <DeleteOutlined onClick={() => remove(_name)} />\n                      <CopyOutlined\n                        style={{ marginLeft: 8 }}\n                        onClick={() => {\n                          // \u83b7\u53d6\u5f53\u524d\u884c\u7684\u9ed8\u8ba4\u503c\n                          const defaultValue =\n                            form.getFieldsValue()?.[name]?.[index] || {}\n                          add(defaultValue)\n                        }}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              )\n            })}\n            <Row>\n              <Col span={Math.floor(span * number)}>\n                <Form.Item>\n                  <Button\n                    type="dashed"\n                    onClick={() => add()}\n                    block\n                    icon={<PlusOutlined />}\n                  >\n                    \u65b0\u589e\u4e00\u6761\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n'))}}));var L=F[b]||{},R=function(){f(!1),y(oe)};return Object(o.useImperativeHandle)(n,(function(){return{setIndexCode:a,open:function(){f(!0)},close:R,run:function(){!function(e){var n=new v.Generate.Generate(I,w);a(e||n.generate()),new J(n).string2Component(_,e).then((function(e){if("function"===typeof e){var n=e();C(Object(h.jsx)(n,{}))}}))}()}}}),[I,w]),Object(o.useEffect)((function(){var e=.3*window.screen.width;N(e)}),[]),Object(h.jsx)(s.Drawer,{width:"100%",visible:m,destroyOnClose:!0,closable:!1,onClose:R,children:Object(h.jsx)("div",{className:"preview",children:Object(h.jsxs)(W.a,{split:"vertical",minSize:0,defaultSize:S,onDragFinished:function(e){N(e)},children:[Object(h.jsxs)("div",{className:"code-container",children:[Object(h.jsx)(s.Tabs,{tabBarGutter:5,activeKey:b,onChange:function(e){y(e)},tabBarStyle:{height:"35px"},type:"card",tabBarExtraContent:Object(h.jsxs)(s.Space,{className:"extra-action-container",split:Object(h.jsx)(s.Divider,{}),children:[Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.CloseOutlined,{}),className:"extra-action",type:"link",size:"small",onClick:R,children:"\u5173\u95ed"}),Object(h.jsx)("div",{})]}),children:Object.keys(F).map((function(e){var n=F[e];return Object(h.jsx)(ee,{tab:Object(h.jsxs)("div",{children:[b===n.name?Object(h.jsx)(ne,{}):Object(h.jsx)(te,{}),Object(h.jsx)("span",{children:n.name})]})},n.name)}))}),Object(h.jsx)(Q.a,{height:"calc(100vh - 35px)",theme:"vs-dark",path:L.name,language:L.language,value:L.value,onMount:function(e,n){!function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({target:e.languages.typescript.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:e.languages.typescript.ModuleResolutionKind.NodeJs,module:e.languages.typescript.ModuleKind.CommonJS,noEmit:!0,esModuleInterop:!0,jsx:e.languages.typescript.JsxEmit.React,reactNamespace:"React",allowJs:!0,typeRoots:["node_modules/@types"]}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1});var n=[{name:"react",url:"https://cdn.jsdelivr.net/npm/@types/react@17.0.2/index.d.ts"},{name:"antd",url:"https://cdn.jsdelivr.net/npm/antd@4.14.0/lib/index.d.ts"},{name:"@ant-design/icons",url:"https://cdn.jsdelivr.net/npm/@ant-design/icons@4.6.2/lib/index.d.ts"}];Promise.all(n.map((function(e){var n=e.url;return fetch(n).then((function(e){return e.text()}))}))).then((function(t){n.forEach((function(n,o){var i=n.name,l=i.startsWith("@")?i.slice(1).replace("/","__"):i;console.log(l),e.languages.typescript.typescriptDefaults.addExtraLib(t[o],"file:///node_modules/@types/".concat(l,"/index.d.ts"))}))}))}(n),Object.keys(F).forEach((function(e){var t=F[e];"index.tsx"===e||n.editor.getModel(n.Uri.parse(t.name))||n.editor.createModel(t.value,t.language,n.Uri.parse(t.name))})),setTimeout((function(){var n;null===e||void 0===e||null===(n=e.getAction("editor.action.formatDocument"))||void 0===n||n.run()}),300)}})]}),Object(h.jsx)("div",{className:"form",children:Object(h.jsx)("div",{className:"body",children:T})})]})})})})),le=t(32),re=v.Store.Context,ae=v.Store.actionTypes,ce=ae.SET_TARGET,se=ae.SET_MOVEABLE_OPTIONS,de=ae.UPDATE_COMPONENT_LIST_BY_TARGET,ue={frame:{translate:[0,0]}},pe=function(){var e=Object(o.useContext)(re),n=e.target,t=e.moveableOptions,i=void 0===t?{}:t,l=e.setGlobal,r=i,a=r.target,c=r.elementGuidelines,s=r.frame,d=void 0===s?{translate:[0,0]}:s,u=r.bounds,p=r.verticalGuidelines,m=r.horizontalGuidelines,v=r.draggable,f=void 0===v||v,j=r.resizable,x=void 0===j||j,b=Object(o.useCallback)((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector(".viewport"),i=(null===o||void 0===o||null===(e=o.getBoundingClientRect)||void 0===e?void 0:e.call(o))||{},r=i.left,a=i.right,c=i.top;i.bottom;l({type:se,payload:{bounds:{left:Number(r)-n-50,right:Number(a)-t-52,top:c}}})}),[]);return Object(o.useEffect)((function(){b()}),[]),Object(o.useEffect)((function(){var e=n.layout;l({type:se,payload:void 0===e?{}:e})}),[n]),Object(h.jsx)(le.a,{target:a,elementGuidelines:c,verticalGuidelines:p,horizontalGuidelines:m,snappable:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,bounds:u,draggable:f,throttleDrag:0,startDragRotate:0,throttleDragRotate:0,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},resizable:x,keepRatio:!1,throttleResize:0,edge:!1,renderDirections:["nw","n","ne","w","e","sw","s","se"],onDragStart:function(e){e.set(d.translate)},onDrag:function(e){ue.frame.translate=e.beforeTranslate,e.target.style.transform="translate(".concat(e.beforeTranslate[0],"px, ").concat(e.beforeTranslate[1],"px)")},onDragEnd:function(e){e.target,e.isDrag;var n=e.clientX,t=e.clientY,o=ue.frame;l({type:ce,payload:{layout:{frame:o,clientX:n,clientY:t}}}),l({type:de,payload:{data:{layout:{frame:o,clientX:n,clientY:t}}}})},onResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(d.translate)},onResize:function(e){var n=e.target,t=e.width,o=e.height,i=e.drag,l=i.beforeTranslate;ue.width=t,ue.height=o,ue.frame.translate=i.beforeTranslate,n.style.width="".concat(t,"px"),n.style.height="".concat(o,"px"),n.style.transform="translate(".concat(l[0],"px, ").concat(l[1],"px)")},onResizeEnd:function(e){if(e.lastEvent){var n=ue.frame,t=ue.width,o=ue.height;l({type:ce,payload:{layout:{frame:n,width:t,height:o}}}),l({type:de,payload:{data:{layout:{frame:n,width:t,height:o}}}})}}})},me=t(33),ve=t(35),fe=v.Store.Context,he=v.Store.actionTypes.SET_MOVEABLE_OPTIONS,je=null,xe=Object(o.forwardRef)((function(e,n){var t=e.type,l=i.a.useRef(),r=Object(o.useContext)(fe).setGlobal;Object(o.useImperativeHandle)(n,(function(){return{guides:l}}),[]);var c=Object(o.useCallback)((function(){var e,n;null===(e=l.current)||void 0===e||null===(n=e.resize)||void 0===n||n.call(e)}),[]),s=Object(o.useCallback)((function(e){var n,t,o=0,i=0;o+=e.deltaX,i+=e.deltaY,null===l||void 0===l||null===(n=l.scrollGuides)||void 0===n||n.call(l,i),null===l||void 0===l||null===(t=l.scroll)||void 0===t||t.call(l,o)}),[]);return Object(o.useEffect)((function(){var e,n,t,o;null===(e=l.current)||void 0===e||null===(n=e.resize)||void 0===n||n.call(e);var i=document.querySelector(".container");return null===(t=je=new MutationObserver((function(e){c()})))||void 0===t||null===(o=t.observe)||void 0===o||o.call(t,i,{attributes:!0,childList:!0,characterData:!0}),window.addEventListener("wheel",s),window.addEventListener("resize",c),function(){var e,n;null===(e=je)||void 0===e||null===(n=e.disconnect)||void 0===n||n.call(e),je=null,window.removeEventListener("wheel",s),window.removeEventListener("resize",c)}}),[]),Object(h.jsx)(ve.a,Object(a.a)(Object(a.a)({},e),{},{ref:l,onChangeGuides:function(e){var n=e.guides.map((function(e){return Number(e)+30.5}));"horizontal"===t&&r({type:he,payload:{horizontalGuidelines:n}}),"vertical"===t&&r({type:he,payload:{verticalGuidelines:n}})}}))})),be=(t(46),new(function(){function e(){Object(U.a)(this,e),this.callbacks=void 0,this.callbacks=[]}return Object(z.a)(e,[{key:"addListener",value:function(e,n){if(this.callbacks.length){var t=!1;this.callbacks.forEach((function(o){o.eventName===e&&(t=!0,o.callbacks.push(n))})),t||this.callbacks.push({eventName:e,callbacks:[n]})}else this.callbacks=[{eventName:e,callbacks:[n]}]}},{key:"removeListener",value:function(e,n){this.callbacks.forEach((function(t){t.eventName===e&&(t.callbacks=t.callbacks.filter((function(e){return e!==n})))}))}},{key:"emit",value:function(e){this.callbacks.forEach((function(n){n.eventName===e&&n.callbacks.forEach((function(e){return e()}))}))}}]),e}())),ye="SHOW_SETTING_PANL",ge="SCROLL_CENTER",Oe="INFINITEVIEWER_SCROLL",Te=function(e){var n=Object(o.useRef)(),t=Object(o.useRef)(),i=Object(o.useRef)(null),l=Object(o.useCallback)((function(){var e;null===(e=i.current)||void 0===e||e.scrollCenter()}),[]);return Object(o.useEffect)((function(){return F(),l(),window.addEventListener("resize",F),be.addListener(ge,l),function(){be.removeListener(ge,l),window.removeEventListener("resize",F)}}),[]),Object(h.jsxs)("div",{className:"infinite-viewer-container",children:[Object(h.jsx)("div",{className:"reset",onClick:function(){l()}}),Object(h.jsx)(xe,{className:"guides horizontal",ref:n,type:"horizontal",height:30}),Object(h.jsx)(xe,{className:"guides vertical",width:30,ref:t,type:"vertical"}),Object(h.jsx)(me.a,{className:"infinite-viewer",ref:i,useForceWheel:!0,onScroll:function(e){var o,i,l,r,a,c,s,d;be.emit(Oe);var u=null===(o=n.current)||void 0===o||null===(i=o.guides)||void 0===i?void 0:i.current,p=null===(l=t.current)||void 0===l||null===(r=l.guides)||void 0===r?void 0:r.current;null===u||void 0===u||null===(a=u.scroll)||void 0===a||a.call(u,e.scrollLeft),null===u||void 0===u||null===(c=u.scrollGuides)||void 0===c||c.call(u,e.scrollTop),null===p||void 0===p||null===(s=p.scroll)||void 0===s||s.call(p,e.scrollTop),null===p||void 0===p||null===(d=p.scrollGuides)||void 0===d||d.call(p,e.scrollLeft)},onPinch:function(e){var o,l,r,a,c=Math.max(.1,e.zoom),s=null===(o=n.current)||void 0===o||null===(l=o.guides)||void 0===l?void 0:l.current,d=null===(r=t.current)||void 0===r||null===(a=r.guides)||void 0===a?void 0:a.current;s.zoom=c,d.zoom=c,i.current.zoom=c},children:Object(h.jsx)("div",{className:"viewport",onContextMenu:function(e){e.preventDefault()},children:e.children})})]})},Ce=(t(47),Object(o.forwardRef)((function(e,n){var t=e.children,i=Object(o.useState)(),r=Object(c.a)(i,2),a=r[0],s=r[1],d=Object(o.useState)(!1),u=Object(c.a)(d,2),p=u[0],m=u[1],v=Object(o.useRef)(null),f=Object(o.useCallback)((function(){m(!1)}),[]);return Object(o.useImperativeHandle)(n,(function(){return{hide:function(){m(!1)},show:function(e){m(!0);var n=e.clientX,t=e.clientY,o=v.current;o.style.left="".concat(n,"px"),o.style.top="".concat(t,"px")}}}),[]),Object(o.useEffect)((function(){return window.addEventListener("click",f),s(document.body),function(){window.removeEventListener("click",f)}}),[]),a?Object(l.createPortal)(Object(h.jsx)("div",{id:"context-menu",ref:v,className:p?"":"hide",children:t}),a):Object(h.jsx)(h.Fragment,{})}))),Ee=(t(48),function(){return Object(h.jsx)("div",{className:"logo",children:Object(h.jsxs)("div",{className:"title",children:[Object(h.jsx)(d.LayoutTwoTone,{}),Object(h.jsx)("span",{children:"R Generator"}),Object(h.jsx)("a",{href:"https://github.com/r-generator/page",children:Object(h.jsx)("img",{alt:"GitHub Repo stars",src:"https://img.shields.io/github/stars/r-generator/page?style=flat-square"})})]})})}),Pe=function(e){var n=e.onClick,t=void 0===n?function(){}:n,i=e.options,l=void 0===i?[]:i;return Object(h.jsx)("div",{className:"menu-container",children:l.map((function(e,n){var i=e.icon,r=e.key,a=e.label,c=e.type,d=e.className;return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)("div",{className:"menu-item",children:Object(h.jsxs)(s.Typography.Link,{onClick:function(){t(r,a)},className:"del"===c?"".concat(d," del"):d,children:[o.cloneElement(i,{className:"menu-item-icon"}),a]})}),n!==l.length-1&&Object(h.jsx)("hr",{})]},A())}))})},Se=(t(27),t(31)),Ne=["colNum"],ke=["colNum"],Ie=["align","gutter","justify","wrap"],we=["colNum"],_e=v.Store.Utils,Fe=v.Store.actionTypes,Le=v.Store.Hooks,Re=Fe.COPY_COMPONENT_LIST,Ae=Fe.DELETE_TARGET,De=Fe.DEL_COMPONENT_LIST,Me=Fe.LEFT_REMOVE_COMPONENTS,Ve=Fe.RIGHT_REMOVE_COMPONENTS,Ge=Fe.SET_COMPONENT_LIST,Be=Fe.SET_MOVEABLE_OPTIONS,Ke=Fe.SET_TARGET_BY_COMPONENT_LIST,Ue=Le.useStore;!function(e){e.copy="\u590d\u5236",e.setting="\u8bbe\u7f6e\u5c5e\u6027",e.del="\u5220\u9664",e.toLeft="\u5de6\u79fb",e.toRight="\u53f3\u79fb"}(Z||(Z={}));var ze=_e.refreshTarget,He=[{key:"toTop",icon:Object(h.jsx)(d.VerticalAlignTopOutlined,{}),label:Z.toLeft,type:"toTop"},{key:"topBottom",icon:Object(h.jsx)(d.VerticalAlignBottomOutlined,{}),label:Z.toRight,type:"topBottom"},{key:"copy",icon:Object(h.jsx)(d.CopyOutlined,{}),label:Z.copy},{key:"del",icon:Object(h.jsx)(d.DeleteOutlined,{}),label:Z.del,type:"del"},{key:"setting",icon:Object(h.jsx)(d.SettingOutlined,{}),label:Z.setting}],Ye=Object(o.forwardRef)((function(e,n){var t=(Ue().target||{}).rowProps,o=void 0===t?{}:t,i=(o.colNum,Object(k.a)(o,Ne));return Object(h.jsx)(s.Row,Object(a.a)(Object(a.a)(Object(a.a)({},e),i),{},{ref:n}))}));function qe(e){var n=e.target,t=e.moveableOptions,i=e.componentList,l=void 0===i?[]:i,r=e.setGlobal,d=s.Form.useForm(),u=Object(c.a)(d,1)[0],p=Object(o.useRef)(null),v=n||{},f=v.componentProps,j=v.formItemProps,x=v.formProps,b=void 0===x?{}:x,y=v.colProps,g=void 0===y?{}:y,O=v.rowProps,T=void 0===O?{}:O,C=(T.colNum,Object(k.a)(T,ke)),E=function(e,n){r({type:Ge,payload:{newState:n,id:e}})},P=Object(o.useCallback)((function(){var e,n;null===(e=p.current)||void 0===e||null===(n=e.hide)||void 0===n||n.call(e)}),[]);return Object(o.useEffect)((function(){return be.addListener(Oe,P),function(){be.removeListener(Oe,P)}}),[]),Object(o.useEffect)((function(){(null===j||void 0===j?void 0:j.name)&&u.setFieldsValue(Object(N.a)({},j.name,null===f||void 0===f?void 0:f.defaultValue))}),[n.id]),Object(o.useEffect)((function(){var e={};l.forEach((function(n){var t=n.componentKey,o=n.formItemProps,i=n.componentProps,l=(o||{}).name,r=(i||{}).defaultValue;L(t)||(e[l]=r)})),u.setFieldsValue(e)}),[l,u]),Object(h.jsxs)(s.Form,Object(a.a)(Object(a.a)({},b),{},{style:{height:"100%",position:"relative"},form:u,children:[Object(h.jsx)(Se.ReactSortable,{sort:!0,animation:150,tag:Ye,list:l,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",group:{name:"form-wrap",put:!0},setList:function(e){r({type:Ge,payload:{newState:e,id:null===n||void 0===n?void 0:n.id}})},onChoose:function(e){var t=e.item.dataset.id;t!==n.id&&(r({type:Ke,payload:{id:t}}),E(t,l))},onUnchoose:function(e){e.item.classList.add("sortable-chosen")},children:l.map((function(e){var t=e.id,o=e.chosen,i=e.children,c=e.componentKey,d=e.formItemProps,v=e.componentProps,f=e.colProps,j=void 0===f?{}:f,x=e.layout,y=void 0===x?{}:x,O=y.frame,P=void 0===O?{translate:[0,0,0]}:O,S=y.height,N=y.width,I=P.translate,w={display:"inline-block",transform:"translate(".concat(I[0],"px, ").concat(I[1],"px)")};"number"===typeof N?w.width="".concat(N,"px"):"string"===typeof N&&(w.width=N),S&&(w.height="".concat(S,"px"));C.align,C.gutter,C.justify,C.wrap;var _=Object(k.a)(C,Ie),F=(j.colNum,Object(k.a)(j,we));return Object(h.jsx)(s.Col,Object(a.a)(Object(a.a)({},Object(a.a)(Object(a.a)({},_),F)),{},{onContextMenu:function(e){var n,o;e.preventDefault(),r({type:Ke,payload:{id:t}}),E(t,l),null===(n=p.current)||void 0===n||null===(o=n.show)||void 0===o||o.call(n,e)},children:Object(h.jsx)("div",{"data-id":t,className:"".concat(m," ").concat(o?"drag-target-chosen":""),onClick:function(e){e.stopPropagation(),t!==n.id&&(r({type:Ke,payload:{id:t}}),E(t,l))},children:Object(h.jsx)(K,{id:t,form:u,children:i,colProps:g,rowProps:T,formProps:b,formItemProps:d,componentProps:v,componentKey:c},t)})}),t)}))}),Object(h.jsx)(Ce,{ref:p,children:Object(h.jsx)(Pe,{options:He,onClick:function(e,o){if(o===Z.del&&(r({type:De,payload:{id:n.id}}),r({type:Ae}),r({type:Be,payload:{target:null}})),o===Z.setting&&be.emit(ye),o===Z.copy){var i=A();r({type:Re,payload:{id:n.id,newId:i}})}o===Z.toLeft&&(r({type:Me,payload:{id:n.id}}),ze(null===t||void 0===t?void 0:t.target,r)),o===Z.toRight&&(r({type:Ve,payload:{id:n.id}}),ze(null===t||void 0===t?void 0:t.target,r))}})})]}))}var Je=v.Store.Hooks.useStore,We=function(){var e=Je(),n=e.target,t=e.moveableOptions,o=e.componentList,i=e.setGlobal;return Object(h.jsx)("div",{className:"form-design-area",children:0===(null===o||void 0===o?void 0:o.length)?Object(h.jsx)("div",{className:"not-found-info",children:"\u4ece\u5de6\u4fa7\u70b9\u9009\u7ec4\u4ef6\u8fdb\u884c\u8868\u5355\u8bbe\u8ba1"}):Object(h.jsx)(qe,{target:n,componentList:o,moveableOptions:t,setGlobal:i})})},Xe=function(e){var n,t=e.type,o=e.handleType;return Object(h.jsxs)("div",{className:"left-action",children:[Object(h.jsx)(s.Button,{type:"coms"===t?"primary":"text",ghost:"coms"!==t,icon:Object(h.jsx)(d.WindowsOutlined,{style:(n="coms",{color:t!==n?"#fff":"",fontSize:18})}),onClick:function(){return o("coms")}}),Object(h.jsx)(Ee,{})]})};var Qe=v.Store.actionTypes,Ze=v.Store.Context,$e=Qe.DELETE_ALL_COMPONENT_LIST_AND_TARGET,en=Qe.SET_MOVEABLE_OPTIONS,nn=function(e){var n=e.type,t=e.handleType,i=Object(o.useRef)(null),l=Object(o.useContext)(Ze),r=l.target,a=l.componentList,c=l.setGlobal,u=function(e){return{color:n!==e?"#fff":"",fontSize:18}},p=Object(o.useCallback)((function(){t("setting")}),[]);return Object(o.useEffect)((function(){return be.addListener(ye,p),function(){be.removeListener(ye,p)}}),[]),Object(h.jsxs)("div",{className:"right-action",children:[Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.PlayCircleOutlined,{style:u("run")}),type:"run"===n?"primary":"text",onClick:function(){!function(){var e,n;null===(e=i.current)||void 0===e||e.run(),null===(n=i.current)||void 0===n||n.open()}()}}),Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.PicCenterOutlined,{style:u("center")}),type:"center"===n?"primary":"text",onClick:function(){be.emit(ge)}}),Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.EyeOutlined,{style:u("preview")}),type:"preview"===n?"primary":"text",size:"middle",onClick:function(){!function(){var e=function(e,n){var t,o=null===(t=n.rowProps)||void 0===t?void 0:t.colNum,i={type:"object",properties:{}};return e.forEach((function(e){var n=e.formItemProps.name,t=e.componentKey.toLowerCase().replace(/^.*\./,"");i.properties[n]={type:"string",widget:t}})),{number:o,json:i}}(a,r);console.log(e)}()}}),Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.VerticalAlignBottomOutlined,{style:u("download")}),type:"download"===n?"primary":"text",size:"middle",onClick:function(){}}),Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.DeleteOutlined,{style:u("clean")}),type:"clean"===n?"primary":"text",danger:!0,onClick:function(){s.Modal.confirm({title:"\u63d0\u793a",icon:Object(h.jsx)(d.ExclamationCircleOutlined,{}),content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u7ec4\u4ef6\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){c({type:$e}),c({type:en,payload:{target:null}})}})}}),Object(h.jsx)(s.Button,{icon:Object(h.jsx)(d.SettingOutlined,{style:u("setting")}),type:"setting"===n?"primary":"text",onClick:function(){return t("setting")}}),Object(h.jsx)(ie,{ref:i})]})},tn=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"p-10",children:Object(h.jsx)(s.Empty,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},on=(t(52),v.Store.actionTypes,v.Store.Hooks.useStore),ln=function(e){var n=on().mode,t=Object(o.useState)(""),i=Object(c.a)(t,2),l=i[0],r=i[1],a=function(e){r(l===e?"":e)};return Object(o.useEffect)((function(){["coms","setting",""].includes(l)&&F()}),[l]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(Xe,{type:l,handleType:a}),"coms"===l&&Object(h.jsx)(T,{}),Object(h.jsx)("div",{className:"content",children:"form"===n?Object(h.jsx)(We,{}):Object(h.jsxs)(Te,{children:[Object(h.jsx)(tn,{}),Object(h.jsx)(pe,{})]})}),"setting"===l&&Object(h.jsx)(S,{}),Object(h.jsx)(nn,{type:l,handleType:a})]})},rn=(t(53),t(54),t(55),v.Store.Context),an=v.Store.INITAL_STATE,cn=v.Store.commonReducer,sn=v.Store.Hooks.useLPReducer,dn=function(){var e=sn(cn,an,"STORE"),n=Object(c.a)(e,2),t=n[0],o=n[1];return Object(h.jsx)(rn.Provider,{value:Object(a.a)(Object(a.a)({},t||an),{},{setGlobal:o}),children:Object(h.jsx)(ln,{})})};r.a.render(Object(h.jsx)(dn,{}),document.getElementById("root"))}],[[56,1,2]]]);
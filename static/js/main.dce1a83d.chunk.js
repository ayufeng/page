/*! For license information please see main.dce1a83d.chunk.js.LICENSE.txt */
(this["webpackJsonp@r-generator/page"]=this["webpackJsonp@r-generator/page"]||[]).push([[0],{0:function(e,n){e.exports=React},100:function(e,n,t){!function(e,n,t,o,i,l,r,a){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var d=c(o),u=s(i),p=c(a),v=function(){return(v=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function m(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}var f={size:"small",labelAlign:"left",labelCol:{span:8},wrapperCol:{span:24},colon:!1},h=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}],j=Object.entries(u).filter((function(e){var n=(e||[])[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(n)})),x=function(e){return n.jsx(t.Collapse,v({},e,{className:"site-collapse-custom-collapse",expandIcon:function(e){var t=e.isActive;return n.jsx(i.CaretRightOutlined,{rotate:t?90:0},void 0)}},{children:e.children}),void 0)};x.Panel=function(e){return n.jsx(t.Collapse.Panel,v({},e,{className:"site-collapse-custom-panel"},{children:e.children}),void 0)};var b=function(e){var o=e.text,i=e.extra;return n.jsxs(t.Row,v({justify:"space-between",style:{padding:"0 10px"}},{children:[n.jsx(t.Col,{children:n.jsx(t.Typography.Title,v({level:5},{children:n.jsx(t.Typography.Text,v({type:"secondary"},{children:o}),void 0)}),void 0)},void 0),n.jsx(t.Col,{children:i},void 0)]}),void 0)},y={Input:t.Input,InputNumber:t.InputNumber,Select:t.Select,Cascader:t.Cascader,Radio:t.Radio,Checkbox:t.Checkbox,Switch:t.Switch,Slider:t.Slider,TimePicker:t.TimePicker,DatePicker:t.DatePicker,Rate:t.Rate,Upload:t.Upload};function g(e){var t;return e?(t=r.get(y,e)?r.get(y,e):n.jsx(n.Fragment,{},void 0),n.jsx(t,{},void 0)):n.jsx(n.Fragment,{},void 0)}var O=function(e){var l=e.name,r=void 0===l?"demo":l,a=e.fields,c=void 0===a?[]:a,s=e.design,d=e.form,u=t.Form.useForm()[0];d=s?u:d;var p=(null==c?void 0:c.length)||0,m=Math.floor(21/p),f={lg:m,md:m,sm:m,xl:m,xs:m,xxl:m},h=function(e,o,i){return c.map((function(l){return n.jsx(t.Col,v({},f,{children:n.jsx(t.Form.Item,v({label:0===e?l.label:void 0,labelCol:{span:24},name:[o,l.field],fieldKey:[i,l.field],rules:l.rules},{children:g(l.componentKey)}),void 0)}),i)}))};o.useEffect((function(){var e;d.setFieldsValue(((e={})[r]=[{}],e))}),[]);var j=n.jsx(t.Form.List,v({name:r},{children:function(e,o){var l=o.add,a=o.remove;return n.jsxs(n.Fragment,{children:[e.map((function(e,o){var s=e.key,u=e.name,p=e.fieldKey;return c.length?n.jsxs(t.Row,v({gutter:15},{children:[h(o,u,p),n.jsx(t.Col,v({span:3},{children:n.jsxs(t.Form.Item,v({labelCol:0===o?{span:24}:void 0,colon:!1,label:0===o?n.jsx("div",{},void 0):void 0},{children:[n.jsx(i.DeleteOutlined,{onClick:function(){return a(u)}},void 0),n.jsx(i.CopyOutlined,{style:{marginLeft:8},onClick:function(){var e,n,t=(null===(n=null===(e=d.getFieldsValue())||void 0===e?void 0:e[r])||void 0===n?void 0:n[o])||{};l(t)}},void 0)]}),void 0)}),void 0)]}),s):n.jsx(t.Empty,{image:t.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u8bf7\u5728\u5c5e\u6027\u9762\u677f\u4e2d\u8bbe\u7f6e\u5b57\u6bb5"},s)})),c.length?n.jsx(t.Row,{children:n.jsx(t.Col,v({span:Math.floor(m*p)},{children:n.jsx(t.Form.Item,{children:n.jsx(t.Button,v({type:"dashed",onClick:function(){return l()},block:!0,icon:n.jsx(i.PlusOutlined,{},void 0)},{children:"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)}),void 0)},void 0):null]},void 0)}}),void 0);return s?n.jsx(t.Form,v({form:d},{children:j}),void 0):j},T=o.forwardRef((function(e,l){var r=e.onOk,a=o.useState(!1),c=a[0],s=a[1],u=o.useState(j),p=u[0],m=u[1];return o.useImperativeHandle(l,(function(){return{show:function(){s(!0)},hide:function(){s(!1)}}}),[]),n.jsx(t.Modal,v({width:"80%",title:n.jsxs("div",v({className:"modal-title"},{children:[n.jsx("span",{children:"Ant Design Icon \u56fe\u6807"},void 0),n.jsx(t.Input,{className:"search",onInput:function(e){var n=e.target.value,t=j.filter((function(e){var t,o=(e||[])[0];return-1!==(null===(t=null==o?void 0:o.toLowerCase())||void 0===t?void 0:t.indexOf(null==n?void 0:n.toLowerCase()))}));m(t)},placeholder:"\u5728\u6b64\u641c\u7d22\u56fe\u6807\uff0c\u70b9\u51fb\u56fe\u6807\u53ef\u9009\u4e2d",addonAfter:n.jsx(t.Button,{type:"link",size:"small",icon:n.jsx(i.SearchOutlined,{},void 0)},void 0)},void 0)]}),void 0),visible:c,footer:null,onCancel:function(){s(!1)}},{children:n.jsx(t.Row,v({gutter:[16,16]},{children:null==p?void 0:p.map((function(e){var o=e||[],i=o[0],l=o[1];return n.jsxs(t.Col,v({className:"icon-col",span:3,onClick:function(){!function(e,t){s(!1),r&&r(e,n.jsx(t,{},void 0))}(i,l)}},{children:[n.jsx("div",v({className:"icon-item"},{children:"function"!=typeof l?d.default.cloneElement(n.jsx(l,{},void 0)):n.jsx(n.Fragment,{},void 0)}),void 0),n.jsx("div",{children:i},void 0)]}),i)}))}),void 0)}),void 0)})),C=function(e){var o=e.tooltipTitle,i=e.text,l=m(e,["tooltipTitle","text"]);return n.jsx(n.Fragment,{children:n.jsx(t.Checkbox,v({},l,{children:n.jsx(t.Tooltip,v({title:o},{children:i}),void 0)}),void 0)},void 0)},E=function(e){var i=e.children,l=e.onChange,r=o.useState(!1),a=r[0],c=r[1],s=o.useRef(null),d=function(e){var n=e.target.value;null==l||l(n),c(!1)};return n.jsx("div",v({onClick:function(){c(!0),requestAnimationFrame((function(){var e,n;null===(n=null===(e=s.current)||void 0===e?void 0:e.focus)||void 0===n||n.call(e)}))}},{children:a?n.jsx(t.Input,{ref:s,defaultValue:i,onPressEnter:d,onBlur:d},void 0):n.jsx("div",v({className:"editable-cell"},{children:i}),void 0)}),void 0)},P=l.Utils.shortid;function S(e,n,t,o){void 0===n&&(n=[]);var i=!1,l=function e(o,l){void 0===l&&(l=[]);for(var r=0;r<l.length;r++){var a=l[r];if(a.key===o)return i=!0,null==t||t(a,r,l,n),l;Array.isArray(a.children)&&e(o,a.children)}return l}(e,n);return i||null==o||o(),l}var N=function(e){var l=e.dataSource,a=void 0===l?[]:l,c=e.onChange,s=o.useState([]),d=s[0],u=s[1],p=o.useState([]),m=p[0],f=p[1],h=function(e){if(null==m?void 0:m.length)(t=m[0],o=r.cloneDeep(d),void 0===o&&(o=[]),new Promise((function(e,n){S(t,o,(function(n,t,o,i){return e({item:n,i:t,target:o,data:i})}),n)}))).then((function(n){var t=n.item;n.i,n.target;var o=n.data;(t.children||(t.children=[])).push(e),u(r.cloneDeep(o))})).catch((function(n){var t=r.cloneDeep(d);null==t||t.push(e),u(r.cloneDeep(t))}));else{var n=r.cloneDeep(d);null==n||n.push(e),u(n)}var t,o},j=function(e){var n=S(e,r.cloneDeep(d),(function(e,n,t){t.splice(n,1)}));u(n)},x=function(e,n,t){var o=S(e,r.cloneDeep(d),(function(e){e[t]=n}));u(o)},b=function e(o){return o.map((function(o){return n.jsx(t.Tree.TreeNode,v({className:"draggable-tree-node",title:n.jsxs(n.Fragment,{children:[n.jsx("span",v({className:"draggable-tree-node-item"},{children:n.jsx(E,v({className:"draggable-tree-node-item-editable",onChange:function(e){x(o.key,e,"label")}},{children:o.label}),void 0)}),void 0),n.jsx("span",v({className:"draggable-tree-node-item"},{children:n.jsx(E,v({className:"draggable-tree-node-item-editable",onChange:function(e){x(o.key,e,"value")}},{children:o.value}),void 0)}),void 0),n.jsx("span",v({className:"draggable-tree-node-item draggable-tree-node-item-action"},{children:n.jsx(t.Button,v({type:"link",className:"btn",onClick:function(){j(o.key)}},{children:"\u5220\u9664"}),void 0)}),void 0)]},void 0),switcherIcon:function(e){var t,l=e.expanded;return(null===(t=o.children)||void 0===t?void 0:t.length)?l?n.jsx(i.MinusSquareOutlined,{},void 0):n.jsx(i.PlusSquareOutlined,{},void 0):null}},{children:Array.isArray(o.children)&&e(o.children)}),o.key)}))};return o.useEffect((function(){u(a)}),[]),o.useEffect((function(){null==c||c(r.cloneDeep(d),u)}),[d]),n.jsxs(n.Fragment,{children:[n.jsxs("div",v({className:"tree-header"},{children:[n.jsxs("span",v({className:"tree-header-item"},{children:[n.jsx("span",{children:"\u9009\u9879\u5185\u5bb9"},void 0),n.jsx("span",{children:"label"},void 0)]}),void 0),n.jsxs("span",v({className:"tree-header-item"},{children:[n.jsx("span",{children:"\u9009\u9879\u503c"},void 0),n.jsx("span",{children:"value"},void 0)]}),void 0),n.jsx("span",v({className:"tree-header-item"},{children:"\u64cd\u4f5c"}),void 0)]}),void 0),n.jsx(t.Tree,v({className:"draggable-tree",selectedKeys:m,draggable:!0,blockNode:!0,height:233,showIcon:!0,onDragEnter:function(e){},onDrop:function(e){var n,t=e.node.key,o=e.dragNode.key,i=e.node.pos.split("-"),l=e.dropPosition-Number(i[i.length-1]),a=function e(n,t,o){for(var i=0;i<n.length;i++){if(n[i].key===t)return o(n[i],i,n);n[i].children&&e(n[i].children,t,o)}},c=r.cloneDeep(d);if(a(c,o,(function(e,t,o){o.splice(t,1),n=e})),e.dropToGap)if((e.node.props.children||[]).length>0&&e.node.props.expanded&&1===l)a(c,t,(function(e){e.children=e.children||[],e.children.unshift(n)}));else{var s=[],p=0;a(c,t,(function(e,n,t){s=t,p=n})),-1===l?s.splice(p,0,n):s.splice(p+1,0,n)}else a(c,t,(function(e){e.children=e.children||[],e.children.unshift(n)}));u(c)},onSelect:function(e){f(e)}},{children:b(d)}),void 0),n.jsx(t.Space,v({style:{marginTop:10},split:n.jsx(t.Divider,{type:"vertical"},void 0)},{children:n.jsx(t.Typography.Link,v({onClick:function(){var e=P();h({label:"\u65b0\u7684\u9009\u9879",value:e,key:e})}},{children:"\u6dfb\u52a0\u4e00\u9879"}),void 0)}),void 0)]},void 0)},I={reqUrl:"/react-visual-editor/options.mock.json",reqMethod:"GET"},k=[{key:"key1",label:"\u9009\u98791",value:"\u503c1"},{label:"\u5206\u7ec41",children:[{key:"key3",label:"\u5206\u7ec4\u4e0b\u7684\u9009\u98792",value:"\u503c2"}],key:"key2",value:"key2"}],w=o.forwardRef((function(e,i){var l,a,c=e.onOk,s=o.useState(!1),d=s[0],u=s[1],m=o.useState(!1),f=m[0],h=m[1];o.useState((l=I.reqUrl,a=I.reqMethod,"\n/**\n * \u8bf7\u4e0d\u8981\u4fee\u6539\u65b9\u6cd5\u4f53\u4ee5\u5916\u7684\u5185\u5bb9\n */\nfunction getData(){\n    return fetch('"+l+"', {method: "+a+"}).then(res => {\n    return res.json()\n}).then(res => {\n    return res\n    // TODO \u81ea\u5b9a\u4e49\u8fd4\u56de\u6570\u636e\n})}"))[0];var j=o.useState(!1),x=j[0],b=j[1],y=o.useState("\u53ef\u89c6\u5316\u914d\u7f6e"),g=y[0],O=y[1],T=o.useState({left:0,top:0,bottom:0,right:0}),C=T[0],E=T[1],P=o.useState(k),S=P[0],w=P[1],_=o.useRef(null),F=t.Form.useForm()[0],L=function(){u(!0)},R=function(){u(!1)};return o.useImperativeHandle(i,(function(){return{showModal:L,hideModal:R,setdataSource:w}}),[]),n.jsxs(t.Modal,v({title:n.jsxs("div",v({style:{cursor:"move",display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:34},onMouseOver:function(){f&&h(!1)},onMouseOut:function(){h(!0)},onFocus:function(){},onBlur:function(){}},{children:[n.jsxs("span",{children:["\u914d\u7f6e\u6570\u636e",n.jsx(t.Button,v({type:"link",onClick:function(){b(!x)}},{children:x?"\u5207\u6362\u56fa\u5b9a\u914d\u7f6e":"\u5207\u6362\u52a8\u6001\u914d\u7f6e"}),void 0)]},void 0),!x&&n.jsxs(t.Radio.Group,v({size:"small",style:{lineHeight:0},value:g,onChange:function(e){O(e.target.value)}},{children:[n.jsx(t.Radio.Button,v({value:"\u53ef\u89c6\u5316\u914d\u7f6e"},{children:"\u53ef\u89c6\u5316\u914d\u7f6e"}),void 0),n.jsx(t.Radio.Button,v({value:"\u4ee3\u7801\u914d\u7f6e"},{children:"\u4ee3\u7801\u914d\u7f6e"}),void 0)]}),void 0)]}),void 0),onCancel:R,visible:d,okText:"\u786e\u5b9a",modalRender:function(e){return n.jsx(p.default,v({disabled:f,bounds:C,onStart:function(e,n){return function(e,n){var t,o,i=null===(t=null===window||void 0===window?void 0:window.document)||void 0===t?void 0:t.documentElement,l=i.clientWidth,r=i.clientHeight,a=(null===(o=null==_?void 0:_.current)||void 0===o?void 0:o.getBoundingClientRect())||{},c=a.left,s=a.right,d=a.top,u=a.bottom;E({left:-c+(null==n?void 0:n.x),right:l-(s-(null==n?void 0:n.x)),top:-d+(null==n?void 0:n.y),bottom:r-(u-(null==n?void 0:n.y))})}(0,n)}},{children:n.jsx("div",v({ref:_},{children:e}),void 0)}),void 0)},footer:n.jsx(t.Button,v({type:"primary",size:"middle",onClick:function(){u(!1),x?"function"==typeof c&&c([]):"function"==typeof c&&c(r.cloneDeep(S))}},{children:"\u786e\u5b9a"}),void 0)},{children:[x&&n.jsx(n.Fragment,{children:n.jsxs(t.Form,v({form:F,onValuesChange:function(e,n){n.reqUrl,n.reqMethod},initialValues:I},{children:[n.jsx(t.Form.Item,v({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u5730\u5740",name:"reqUrl"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({labelCol:{span:4},wrapperCol:{span:19},label:"\u8bf7\u6c42\u65b9\u6cd5",name:"reqMethod"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,v({value:"POST"},{children:"POST"}),void 0),n.jsx(t.Select.Option,v({value:"GET"},{children:"GET"}),void 0)]},void 0)}),void 0)]}),void 0)},void 0),!x&&("\u53ef\u89c6\u5316\u914d\u7f6e"===g?n.jsx("div",v({style:{display:"\u53ef\u89c6\u5316\u914d\u7f6e"===g?"block":"none"},onMouseEnter:function(){h(!0)}},{children:n.jsx(N,{dataSource:S,onChange:function(e){w(e)}},void 0)}),void 0):null)]}),void 0)})),_=l.Store.actionTypes,F=l.Store.Utils,L=l.Store.Hooks,R=_.SET_TARGET,A=F.refreshTarget;function D(){var e=L.useStore(),i=e.target,l=e.moveableOptions,a=e.setGlobal,c=t.Form.useForm()[0],s=i||{},d=s.id,u=s.formProps,p=void 0===u?{}:u,h=o.useCallback(r.debounce((function(e,n){var t=n.wrapperCol,o=n.labelCol,i=m(n,["wrapperCol","labelCol"]);(r.isNumber(t)||r.isNumber(o))&&A(null==l?void 0:l.target,a);var c={span:t},s={span:o};i.wrapperCol=c,i.labelCol=s,a({type:R,payload:{id:d,formProps:i}})}),200),[]);return o.useEffect((function(){var e,n,t,o,i;e=p.wrapperCol,n=p.labelCol,t=m(p,["wrapperCol","labelCol"]),o=null==e?void 0:e.span,i=null==n?void 0:n.span,t.wrapperCol=o,t.labelCol=i,c.resetFields(),c.setFieldsValue(t)}),[i.id]),n.jsxs(t.Form,v({},f,{initialValues:{size:"middle",labelAlign:"right"},form:c,onValuesChange:h},{children:[n.jsx(b,{text:"\u8868\u5355"},void 0),n.jsx(x,v({defaultActiveKey:["\u8868\u5355"]},{children:n.jsxs(x.Panel,v({header:"\u8868\u5355"},{children:[n.jsx(t.Form.Item,v({label:"\u8868\u5355\u540d",name:"name"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6\uff0c\u8bbe\u7f6e span offset \u503c\uff0c\u5982 {span: 3, offset: 12} \u6216 sm: {span: 3, offset: 12}\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 labelCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"labelCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c labelCol\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 wrapperCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\uff0c\u4e0d\u4f1a\u4f5c\u7528\u4e8e\u5d4c\u5957 Item\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 Item \u4e3a\u51c6",name:"wrapperCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u8868\u5355\u5c3a\u5bf8",name:"size"},{children:n.jsxs(t.Radio.Group,v({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,v({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,v({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,v({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:n.jsxs(t.Radio.Group,v({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,v({value:"left",style:{width:"50%",textAlign:"center"}},{children:"\u5de6\u5bf9\u9f50"}),void 0),n.jsx(t.Radio.Button,v({value:"right",style:{width:"50%",textAlign:"center"}},{children:"\u53f3\u5bf9\u9f50"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false",text:"\u7981\u7528\u8868\u5355"},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",name:"showbtn",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u663e\u793a\u8868\u5355\u6309\u94ae",text:"\u8868\u5355\u6309\u94ae"},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",name:"bordered",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u663e\u793a\u672a\u9009\u4e2d\u7ec4\u4ef6\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),"\u8868\u5355")}),void 0)]}),void 0)}var M=l.Store.actionTypes,V=l.Store.Hooks,G=l.Store.Utils.refreshTarget,B=M.SET_TARGET,K=M.UPDATE_COMPONENT_LIST_BY_TARGET;function U(){var e=V.useStore(),i=e.moveableOptions,l=e.target,a=e.setGlobal,c=t.Form.useForm()[0],s=l||{},d=s.id,u=s.formItemProps,p=void 0===u?{}:u,h=o.useCallback(r.debounce((function(e,n){var t=n.wrapperCol,o=n.labelCol,l=m(n,["wrapperCol","labelCol"]);if((r.isNumber(t)||r.isNumber(o))&&G(null==i?void 0:i.target,a),r.isNumber(t)){var c={span:t};l.wrapperCol=c}if(r.isNumber(o)){var s={span:o};l.labelCol=s}a({type:B,payload:{id:d,formItemProps:l}}),a({type:K,payload:{id:d,data:{formItemProps:l}}})}),100),[null==l?void 0:l.id]);return o.useEffect((function(){!function(){var e=p||{},n=e.wrapperCol,t=e.labelCol,o=m(e,["wrapperCol","labelCol"]),i=null==n?void 0:n.span,l=null==t?void 0:t.span;o.wrapperCol=i,o.labelCol=l,c.resetFields(),c.setFieldsValue(o)}()}),[l.id]),n.jsxs(t.Form,v({},f,{initialValues:{labelAlign:"right"},form:c,onValuesChange:h},{children:[n.jsx(b,{text:"\u8868\u5355\u9879"},void 0),n.jsx(x,v({defaultActiveKey:["\u8868\u5355\u9879"]},{children:n.jsxs(x.Panel,v({header:"\u8868\u5355\u9879"},{children:[n.jsx(t.Form.Item,v({label:"\u5b57\u6bb5\u540d",name:"name"},{children:n.jsx(t.Input,{onPressEnter:function(e){}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6807\u9898",name:"label"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u63a7\u4ef6\u5e03\u5c40",tooltip:"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c \u6807\u7b7e\u5e03\u5c40\u3002",name:"wrapperCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6807\u7b7e\u5e03\u5c40",tooltip:"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c <Col> \u7ec4\u4ef6",name:"labelCol"},{children:n.jsx(t.InputNumber,{min:0,max:24,style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6807\u7b7e\u5bf9\u9f50",name:"labelAlign"},{children:n.jsxs(t.Radio.Group,{children:[n.jsx(t.Radio.Button,v({value:"left"},{children:"\u5de6\u5bf9\u9f50"}),void 0),n.jsx(t.Radio.Button,v({value:"right"},{children:"\u53f3\u5bf9\u9f50"}),void 0)]},void 0)}),void 0)]}),"\u8868\u5355\u9879")}),void 0)]}),void 0)}var z=l.Store.Hooks,H=l.Store.actionTypes,Y=l.Store.Utils.refreshTarget,q=H.SET_TARGET,J=H.UPDATE_COMPONENT_LIST_BY_TARGET,W=t.Select.Option,X=t.Select.OptGroup;function Q(e){return["TimePicker.RangePicker","DatePicker.RangePicker"].includes(e)}var Z=o.memo((function(){var e=t.Form.useForm()[0],i=z.useStore(),l=i.target,r=i.moveableOptions,a=i.setGlobal,c=l||{},s=c.id,d=c.componentProps,u=void 0===d?{}:d;return o.useEffect((function(){!function(){var n,t,o,i,r=u||{},a=r.style,c=void 0===a?{}:a,s=r.placeholder,d=m(r,["style","placeholder"]),p=null===(t=null===(n=null==c?void 0:c.width)||void 0===n?void 0:n.replace("%",""))||void 0===t?void 0:t.replace(/null|undefined/,"");Array.isArray(s)&&(o=s[0],i=s[1]),e.resetFields(),e.setFieldsValue(v(v({},d),{componentKey:l.componentKey,componentWidth:p,placeholder:s,placeholder1:o,placeholder2:i}))}()}),[null==l?void 0:l.id]),n.jsx(n.Fragment,{children:n.jsxs(t.Form,v({},f,{initialValues:{size:"middle",bordered:!0},form:e,onValuesChange:function(e,n){e.componentWidth,e.placeholder,e.placeholder1,e.placeholder2;var t=n.componentKey,o=n.placeholder,i=n.componentWidth,c=m(n,["componentKey","placeholder","componentWidth"]),d=o;Q(null==l?void 0:l.componentKey)&&(d=[n.placeholder1,n.placeholder2]);var u={width:i};"number"==typeof i&&(u.width+="%"),a({type:J,payload:{data:{componentKey:t,value:t,componentProps:v({placeholder:d,style:u},c)}}}),a({type:q,payload:{id:s,componentKey:t,value:t,componentProps:v({placeholder:d,style:u},c)}}),Y(null==r?void 0:r.target,a)}},{children:[n.jsx(b,{text:"\u901a\u7528"},void 0),n.jsx(x,v({defaultActiveKey:["\u901a\u7528"]},{children:n.jsxs(x.Panel,v({header:"\u901a\u7528"},{children:[n.jsx(t.Form.Item,v({label:"",name:"componentKey"},{children:n.jsx(t.Select,{children:h.map((function(e){return n.jsx(X,v({label:e.label},{children:Array.isArray(e.children)&&e.children.map((function(e){return n.jsx(W,v({value:e.value},{children:e.label}),e.key)}))}),e.key)}))},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u63a7\u4ef6\u5bbd\u5ea6",name:"componentWidth",tooltip:"\u8bf7\u8f93\u5165\u767e\u5206\u6bd4",className:"mb-0"},{children:n.jsx(t.InputNumber,{min:0,max:100},void 0)}),void 0),Q(null==l?void 0:l.componentKey)?n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,v({label:"\u5360\u4f4d\u7b261",name:"placeholder1"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u5360\u4f4d\u7b262",name:"placeholder2"},{children:n.jsx(t.Input,{},void 0)}),void 0)]},void 0):n.jsx(t.Form.Item,v({label:"\u5360\u4f4d\u7b26",name:"placeholder"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u5927\u5c0f",name:"size"},{children:n.jsxs(t.Radio.Group,v({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,v({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,v({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,v({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"bordered"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u7981\u7528",text:"\u662f\u5426\u7981\u7528"},void 0)}),void 0)]}),"\u901a\u7528")}),void 0)]}),void 0)},void 0)})),$=l.Store.Hooks,ee=l.Store.actionTypes,ne=ee.UPDATE_COMPONENT_LIST_BY_TARGET,te=ee.SET_TARGET,oe=l.Store.actionTypes,ie=l.Store.Hooks,le=oe.SET_TARGET,re=oe.UPDATE_COMPONENT_LIST_BY_TARGET,ae=l.Store.actionTypes,ce=l.Store.Hooks,se=ae.SET_TARGET,de=ae.UPDATE_COMPONENT_LIST_BY_TARGET,ue=l.Store.Hooks,pe=l.Store.actionTypes,ve=l.Store.Utils.refreshTarget,me=pe.RESET_COMPONENT_LAYOUT,fe=pe.SET_TARGET;function he(){var e=t.Form.useForm()[0],i=ue.useStore(),l=i.target,a=i.moveableOptions,c=i.setGlobal,s=l||{},d=s.id,u=s.rowProps,p=void 0===u?{}:u,m=(a||{}).target,h=o.useState("\u7cbe\u7b80\u6a21\u5f0f"),j=h[0],y=h[1],g=o.useCallback(r.debounce((function(e,n){var t=n;t.gutter||(t.gutter=0),"\u7cbe\u7b80\u6a21\u5f0f"===j&&(t=r.merge(n,function(e,n){void 0===n&&(n=24),isNaN(Number(e))&&(e=1);var t=Math.floor(Number(n/e));return{xs:t,sm:t,md:t,lg:t,xl:t,xxl:t}}(n.colNum)),c({type:me})),c({type:fe,payload:{id:d,rowProps:t}}),ve(m,c),O()}),200),[l.id,j]),O=function(){var e,n=document.querySelector(".viewport")||{},t=document.querySelector(".form-row")||{},o=(null===(e=null==t?void 0:t.getBoundingClientRect)||void 0===e?void 0:e.call(t))||{},i=o.width,l=o.height;n.style.width=i+"px",n.style.height=l+"px"};return o.useEffect((function(){e.resetFields(),e.setFieldsValue(p)}),[null==l?void 0:l.id]),n.jsxs(t.Form,v({},f,{form:e,initialValues:{align:"top",gutter:0,justify:"start",wrap:!0},onValuesChange:g},{children:[n.jsx(b,{text:"\u5e03\u5c40",extra:n.jsx(t.Typography.Link,v({onClick:function(){y("\u7cbe\u7b80\u6a21\u5f0f"===j?"\u4e13\u4e1a\u6a21\u5f0f":"\u7cbe\u7b80\u6a21\u5f0f")}},{children:n.jsx(t.Switch,{checkedChildren:"\u4e13\u4e1a\u6a21\u5f0f",unCheckedChildren:"\u7cbe\u7b80\u6a21\u5f0f",checked:"\u4e13\u4e1a\u6a21\u5f0f"===j},void 0)}),void 0)},void 0),n.jsx(x,v({defaultActiveKey:["\u5168\u5c40\u5e03\u5c40"]},{children:n.jsxs(x.Panel,v({header:n.jsx(t.Form.Item,{label:"\u5168\u5c40\u5e03\u5c40",tooltip:"\u5728\u6b64\u8bbe\u7f6e\u7684\u5185\u5bb9\u5c06\u5e94\u7528\u4e8e\u5168\u90e8\u63a7\u4ef6",className:"mb-0 w-100"},void 0)},{children:[n.jsx(t.Form.Item,v({label:"\u5782\u76f4\u5bf9\u9f50",name:"align"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,v({value:"top"},{children:"\u9760\u4e0a"}),void 0),n.jsx(t.Select.Option,v({value:"middle"},{children:"\u5c45\u4e2d"}),void 0),n.jsx(t.Select.Option,v({value:"bottom"},{children:"\u9760\u4e0b"}),void 0)]},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6c34\u5e73\u6392\u5217",name:"justify"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,v({value:"start"},{children:"\u6c34\u5e73\u9760\u5de6\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,v({value:"middle"},{children:"\u6c34\u5e73\u9760\u53f3\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,v({value:"center"},{children:"\u6c34\u5e73\u5c45\u4e2d\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,v({value:"space-around"},{children:"\u6c34\u5e73\u5e73\u5747\u5206\u5e03"}),void 0),n.jsx(t.Select.Option,v({value:"space-between"},{children:"\u6c34\u5e73\u4e24\u4fa7\u9876\u683c\u5206\u5e03"}),void 0)]},void 0)}),void 0),"\u7cbe\u7b80\u6a21\u5f0f"===j&&n.jsx(n.Fragment,{children:n.jsx(t.Form.Item,v({label:"\u5217\u6570",name:"colNum"},{children:n.jsxs(t.Select,{children:[n.jsx(t.Select.Option,v({value:"1"},{children:"\u4e00\u5217"}),void 0),n.jsx(t.Select.Option,v({value:"2"},{children:"\u4e8c\u5217"}),void 0),n.jsx(t.Select.Option,v({value:"3"},{children:"\u4e09\u5217"}),void 0),n.jsx(t.Select.Option,v({value:"4"},{children:"\u56db\u5217"}),void 0)]},void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===j&&n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,v({label:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17},name:"span"},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0),n.jsx(t.Form.Item,v({label:"\u6805\u683c\u95f4\u9694",name:"gutter",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:100},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",name:"wrap",valuePropName:"checked"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u81ea\u52a8\u6362\u884c",text:"\u81ea\u52a8\u6362\u884c"},void 0)}),void 0)]}),"\u5168\u5c40\u5e03\u5c40")}),void 0)]}),void 0)}var je=l.Store.Hooks,xe=l.Store.actionTypes,be=l.Store.Utils.refreshTarget,ye=xe.SET_TARGET,ge=xe.UPDATE_COMPONENT_LIST_BY_TARGET;function Oe(){var e=t.Form.useForm()[0],i=je.useStore(),l=i.target,a=i.moveableOptions,c=i.setGlobal,s=l||{},d=s.id,u=s.colProps,p=void 0===u?{}:u,m=(a||{}).target,h=o.useState("\u7cbe\u7b80\u6a21\u5f0f"),j=h[0],y=h[1],g=o.useCallback(r.debounce((function(e,n){e.span&&(n.xs=e.span,n.sm=e.span,n.md=e.span,n.lg=e.span,n.xl=e.span,n.xxl=e.span),c({type:ge,payload:{id:d,data:{colProps:n}}}),c({type:ye,payload:{id:d,colProps:n}}),be(m,c)}),200),[l.id,j]);return o.useEffect((function(){e.resetFields(),e.setFieldsValue(p)}),[null==l?void 0:l.id]),n.jsxs(t.Form,v({},f,{form:e,initialValues:{},onValuesChange:g},{children:[n.jsx(b,{text:"\u5e03\u5c40",extra:n.jsx(t.Typography.Link,v({onClick:function(){y("\u7cbe\u7b80\u6a21\u5f0f"===j?"\u4e13\u4e1a\u6a21\u5f0f":"\u7cbe\u7b80\u6a21\u5f0f")}},{children:n.jsx(t.Switch,{checkedChildren:"\u4e13\u4e1a\u6a21\u5f0f",unCheckedChildren:"\u7cbe\u7b80\u6a21\u5f0f",checked:"\u4e13\u4e1a\u6a21\u5f0f"===j},void 0)}),void 0)},void 0),n.jsx(x,v({defaultActiveKey:["\u6805\u683c\u9879"]},{children:n.jsxs(x.Panel,v({header:"\u4e13\u4e1a\u6a21\u5f0f"===j?n.jsx(t.Form.Item,v({label:"\u6805\u683c\u9879",tooltip:"\u5c4f\u5e55 * \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:16},name:"span",className:"mb-0"},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0):"\u6805\u683c\u9879"},{children:["\u7cbe\u7b80\u6a21\u5f0f"===j&&n.jsx(n.Fragment,{children:n.jsx(t.Form.Item,v({label:"\u5360\u6574\u884c",name:"span"},{children:n.jsxs(t.Select,v({allowClear:!0,onClear:function(){var n={span:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null};e.setFieldsValue(n),c({type:ge,payload:{id:d,data:{colProps:n}}}),c({type:ye,payload:{id:d,colProps:n}})}},{children:[n.jsx(t.Select.Option,v({value:6},{children:"\u56db\u5206\u4e4b\u4e00"}),void 0),n.jsx(t.Select.Option,v({value:8},{children:"\u4e09\u5206\u4e4b\u4e00"}),void 0),n.jsx(t.Select.Option,v({value:12},{children:"\u4e00\u534a"}),void 0),n.jsx(t.Select.Option,v({value:24},{children:"\u5360\u6ee1"}),void 0)]}),void 0)}),void 0)},void 0),"\u4e13\u4e1a\u6a21\u5f0f"===j&&n.jsxs(n.Fragment,{children:[n.jsx(t.Form.Item,v({name:"xs",label:"\u5c4f\u5e55 < 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"sm",label:"\u5c4f\u5e55 \u2265 576px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"md",label:"\u5c4f\u5e55 \u2265 768px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"lg",label:"\u5c4f\u5e55 \u2265 992px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"xl",label:"\u5c4f\u5e55 \u2265 1200px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0),n.jsx(t.Form.Item,v({name:"xxl",label:"\u5c4f\u5e55 \u2265 1600px \u54cd\u5e94\u5f0f\u6805\u683c",labelCol:{span:17}},{children:n.jsx(t.InputNumber,{className:"w-100",min:0,max:24},void 0)}),void 0)]},void 0)]}),"\u6805\u683c\u9879")}),void 0)]}),void 0)}var Te=l.Store.actionTypes,Ce=l.Store.Hooks.useStore,Ee=Te.SET_TARGET,Pe=Te.UPDATE_COMPONENT_LIST_BY_TARGET,Se=t.Select.Option,Ne=t.Select.OptGroup,Ie=function(e){var n;return e.fields=null===(n=null==e?void 0:e.fields)||void 0===n?void 0:n.filter((function(e){return e.field}))},ke=o.memo((function(){var e=t.Form.useForm()[0],l=Ce(),r=l.target,a=l.setGlobal,c=function(e){a({type:Ee,payload:{id:null==r?void 0:r.id,componentProps:e}}),a({type:Pe,payload:{id:null==r?void 0:r.id,data:{componentProps:e}}})},s=function(o){var l=o.index,r=o.name,a=o.fieldKey,s=o.remove,d=o.add,p=e.getFieldsValue(),m=p.fields||[],f=m[l]||{},j=function(n,t){m[l][n]=t,e.setFieldsValue({fields:m}),c(p)},x=n.jsx(t.Popover,v({trigger:"click",placement:"topLeft",getPopupContainer:function(){return document.querySelector(".form-properties")||document.body},content:n.jsxs("div",{children:[n.jsx(t.Form.Item,v({label:"\u540d\u79f0",wrapperCol:{span:16},style:{marginBottom:5}},{children:n.jsx(t.Input,{defaultValue:f.label,onChange:function(e){var n=e.target.value;j("label",n)}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u5b57\u6bb5\u540d",wrapperCol:{span:16},style:{marginBottom:5}},{children:n.jsx(t.Input,{defaultValue:f.field,onChange:function(e){var n=e.target.value;j("field",n)}},void 0)}),void 0)]},void 0),title:n.jsxs(t.Row,v({justify:"space-between"},{children:[n.jsx(t.Col,{children:"\u7f16\u8f91\u63a7\u4ef6\u5c5e\u6027"},void 0),n.jsx(t.Col,{children:n.jsxs(t.Space,{children:[n.jsx(t.Button,{type:"primary",disabled:u(),icon:n.jsx(i.CopyOutlined,{onClick:function(){var n,t,o=(null===(t=null===(n=e.getFieldsValue())||void 0===n?void 0:n.fields)||void 0===t?void 0:t[l])||{};d(o)}},void 0)},void 0),n.jsx(t.Button,{type:"primary",danger:!0,icon:n.jsx(i.DeleteOutlined,{onClick:function(){return s(r)}},void 0)},void 0)]},void 0)},void 0)]}),void 0)},{children:f.label||"\u65e0\u6807\u9898"}),void 0);return n.jsx(t.Form.Item,v({tooltip:"\u70b9\u51fb\u6807\u7b7e\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027",label:x,labelCol:{span:10},wrapperCol:{span:14},name:[r,"componentKey"],fieldKey:[a,"componentKey"]},{children:n.jsx(t.Select,{children:h.map((function(e){return n.jsx(Ne,v({label:e.label},{children:Array.isArray(e.children)&&e.children.filter((function(e){return"List1"!==e.value})).map((function(e){return n.jsx(Se,v({value:e.value},{children:e.label}),e.key)}))}),e.key)}))},void 0)}),void 0)},u=function(){var n;return 4===(null===(n=Ie(e.getFieldsValue()))||void 0===n?void 0:n.length)};return o.useEffect((function(){var n;e.setFieldsValue({fields:(null===(n=null==r?void 0:r.componentProps)||void 0===n?void 0:n.fields)||[]})}),[null==r?void 0:r.id]),n.jsx(t.Form,v({},f,{form:e,onValuesChange:function(e,n){n.fields=Ie(n),c(n)}},{children:n.jsx(x,v({defaultActiveKey:["\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"]},{children:n.jsx(x.Panel,v({header:"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20"},{children:n.jsx(t.Form.List,v({name:"fields",prefixCls:"111"},{children:function(e,o){var l=o.add,r=o.remove;return n.jsxs(n.Fragment,{children:[e.map((function(e,o){var i=e.name,a=e.fieldKey;return n.jsxs(d.default.Fragment,{children:[n.jsx(t.Form.Item,v({hidden:!0,name:[i,"label"],fieldKey:[a,"label"]},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({hidden:!0,name:[i,"field"],fieldKey:[a,"field"]},{children:n.jsx(t.Input,{},void 0)}),void 0),s({index:o,name:i,fieldKey:a,remove:r,add:l})]},a)})),n.jsx(t.Form.Item,{children:n.jsx(t.Button,v({type:"dashed",onClick:function(){var e;l({label:"\u6807\u7b7e\u540d",field:(void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)),componentKey:"Input"})},block:!0,icon:n.jsx(i.PlusOutlined,{},void 0),disabled:u()},{children:u()?"\u6700\u591a\u6dfb\u52a04\u9879":"\u65b0\u589e\u4e00\u6761"}),void 0)},void 0)]},void 0)}}),void 0)}),"\u8bbe\u7f6e\u5217\u8868\u6bcf\u9879\u5143\u7d20")}),void 0)}),void 0)})),we={"":{properties:n.jsx(n.Fragment,{},void 0),component:n.jsx(n.Fragment,{},void 0)},Input:{properties:n.jsx((function(){var e=t.Form.useForm()[0],l=o.useRef(null),a=$.useStore(),c=a.target,s=a.setGlobal,d=c||{},u=d.id,p=d.componentProps,m=void 0===p?{}:p,h=o.useState("prefix"),j=h[0],b=h[1],y=o.useCallback(r.debounce((function(e,n){s({type:te,payload:{id:u,componentProps:n}}),s({type:ne,payload:{id:u,data:{componentProps:n}}})}),100),[c]),g=function(n){var t,o,i;s({type:te,payload:{id:u,componentProps:(t={},t[j]=n,t)}}),s({type:ne,payload:{id:u,data:{componentProps:(o={},o[j]=n,o)}}}),e.setFieldsValue(((i={})[j]=n,i))};return o.useEffect((function(){e.resetFields(),e.setFieldsValue(m)}),[null==c?void 0:c.id]),n.jsxs(n.Fragment,{children:[n.jsx(T,{ref:l,onOk:function(e){g(e)}},void 0),n.jsx(t.Form,v({},f,{initialValues:{bordered:!0,disabled:!1,size:"middle"},form:e,onValuesChange:y},{children:n.jsx(x,v({defaultActiveKey:["\u8f93\u5165\u6846\u5c5e\u6027"]},{children:n.jsxs(x.Panel,v({header:"\u8f93\u5165\u6846\u5c5e\u6027"},{children:[n.jsx(t.Form.Item,v({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u524d\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u524d\u7f6e\u6807\u7b7e",name:"addonBefore"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u540e\u7f6e\u6807\u7b7e",tooltip:"\u5e26\u6807\u7b7e\u7684 input\uff0c\u8bbe\u7f6e\u540e\u7f6e\u6807\u7b7e",name:"addonAfter"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u524d\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u524d\u7f00\u56fe\u6807\u7684 input",name:"prefix"},{children:n.jsx(t.Input,{readOnly:!0,addonBefore:n.jsx(t.Typography.Link,v({onClick:function(){var e;null===(e=l.current)||void 0===e||e.show(),b("prefix")}},{children:n.jsx(i.SelectOutlined,{},void 0)}),void 0),addonAfter:n.jsx(t.Typography.Link,v({onClick:function(){b("prefix"),g(null)}},{children:n.jsx(i.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u540e\u7f00\u56fe\u6807",tooltip:"\u5e26\u6709\u540e\u7f00\u56fe\u6807\u7684 input",name:"suffix"},{children:n.jsx(t.Input,{readOnly:!0,addonBefore:n.jsx(t.Typography.Link,v({onClick:function(){var e;null===(e=l.current)||void 0===e||e.show(),b("suffix")}},{children:n.jsx(i.SelectOutlined,{},void 0)}),void 0),addonAfter:n.jsx(t.Typography.Link,v({onClick:function(){b("suffix"),g(null)}},{children:n.jsx(i.DeleteOutlined,{style:{color:"red"}},void 0)}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"allowClear"},{children:n.jsx(t.Checkbox,{children:n.jsx(t.Tooltip,v({title:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9"},{children:"\u652f\u6301\u6e05\u9664"}),void 0)},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"disabled"},{children:n.jsx(t.Checkbox,{children:n.jsx(t.Tooltip,v({title:"\u662f\u5426\u7981\u7528\u72b6\u6001\uff0c\u9ed8\u8ba4\u4e3a false"},{children:"\u7981\u7528"}),void 0)},void 0)}),void 0)]}),"\u8f93\u5165\u6846\u5c5e\u6027")}),void 0)}),void 0)]},void 0)}),{},void 0),component:n.jsx(t.Input,{},void 0)},"Input.TextArea":{properties:n.jsx((function(){var e=t.Form.useForm()[0],i=ie.useStore(),l=i.target,r=i.setGlobal,a=l||{},c=a.id,s=a.componentProps,d=void 0===s?{}:s;return o.useEffect((function(){e.resetFields(),e.setFieldsValue(d)}),[null==l?void 0:l.id]),n.jsx(n.Fragment,{children:n.jsx(t.Form,v({},f,{form:e,onValuesChange:function(e,n){r({type:le,payload:{id:c,componentProps:{defaultValue:null==n?void 0:n.defaultValue}}}),r({type:re,payload:{id:c,data:{componentProps:n}}})}},{children:n.jsxs(x,v({defaultActiveKey:["\u57fa\u672c"]},{children:[n.jsxs(x.Panel,v({header:"\u57fa\u672c"},{children:[n.jsx(t.Form.Item,v({label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},{children:n.jsx(t.Input,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6700\u5927\u957f\u5ea6",name:"maxLength"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"showCount"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u5c55\u793a\u5b57\u6570",text:"\u5c55\u793a\u5b57\u6570"},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"allowClear"},{children:n.jsx(C,{tooltipTitle:"\u53ef\u4ee5\u70b9\u51fb\u6e05\u9664\u56fe\u6807\u5220\u9664\u5185\u5bb9",text:"\u652f\u6301\u6e05\u9664"},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"bordered"},{children:n.jsx(C,{tooltipTitle:"\u662f\u5426\u6709\u8fb9\u6846",text:"\u663e\u793a\u8fb9\u6846"},void 0)}),void 0)]}),void 0),n.jsxs(x.Panel,v({header:n.jsx(t.Form.Item,v({label:"",valuePropName:"checked",name:"autoSize",className:"mb-0"},{children:n.jsx(C,{tooltipTitle:"\u81ea\u9002\u5e94\u5185\u5bb9\u9ad8\u5ea6\uff0c\u53ef\u8bbe\u7f6e\u4e3a true | false \u6216\u5bf9\u8c61\uff1a{ minRows: 2, maxRows: 6 }",text:"\u81ea\u9002\u5e94\u9ad8"},void 0)}),void 0)},{children:[n.jsx(t.Form.Item,v({label:"\u6700\u5c0f\u884c\u6570",name:"autoSize.minRows"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u6700\u5927\u884c\u6570",name:"autoSize.maxRows"},{children:n.jsx(t.InputNumber,{},void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)},void 0)}),{},void 0),component:n.jsx(t.Input.TextArea,{},void 0)},"Input.Password":{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Input.Password,{},void 0)},InputNumber:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.InputNumber,{},void 0)},Editor:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(n.Fragment,{children:"editor"},void 0)},Select:{properties:n.jsx((function(){var e,i=ce.useStore(),l=i.target,r=i.setGlobal,a=o.useRef(null),c=t.Form.useForm()[0],s=l||{},d=s.id,u=s.componentProps,p=void 0===u?{}:u;return o.useEffect((function(){c.setFieldsValue({options:p.options})}),[p.id]),n.jsxs(t.Form,v({},f,{form:c},{children:[n.jsx(x,v({defaultActiveKey:["\u4e0b\u62c9\u5217\u8868"]},{children:n.jsx(x.Panel,v({header:"\u4e0b\u62c9\u5217\u8868"},{children:n.jsx(t.Form.Item,v({label:"\u5217\u8868\u5185\u9009\u9879",name:"options",shouldUpdate:!0},{children:n.jsx(t.Button,v({type:"dashed",block:!0,onClick:function(){var e,n,t=c.getFieldValue("options");t&&(null===(e=a.current)||void 0===e||e.setdataSource(t)),null===(n=a.current)||void 0===n||n.showModal()}},{children:(null===(e=c.getFieldValue("options"))||void 0===e?void 0:e.length)?"\u5df2\u914d\u7f6e":"\u914d\u7f6e\u6570\u636e"}),void 0)}),void 0)}),"\u4e0b\u62c9\u5217\u8868")}),void 0),n.jsx(w,{ref:a,onOk:function(e){c.setFieldsValue({options:e}),r({type:se,payload:{id:d,componentProps:{options:e}}}),r({type:de,payload:{id:d,data:{componentProps:{options:e}}}})}},void 0)]}),void 0)}),{},void 0),component:n.jsx(t.Select,{},void 0)},Cascader:{properties:n.jsx((function(){var e=o.useRef(null),i=t.Form.useForm()[0];return n.jsxs(t.Form,v({},f,{form:i,onValuesChange:function(e,n){},initialValues:{size:"middle"}},{children:[n.jsxs(x,v({defaultActiveKey:["\u4e0b\u62c9\u5217\u8868"]},{children:[n.jsx(x.Panel,v({header:"\u4e0b\u62c9\u5217\u8868"},{children:n.jsx(t.Form.Item,v({label:"\u5217\u8868\u5185\u9009\u9879",name:"options"},{children:n.jsx(t.Button,v({type:"dashed",block:!0,onClick:function(){var n,t,o=i.getFieldValue("options");i.getFieldValue("options")&&(null===(n=e.current)||void 0===n||n.setdataSource(o)),null===(t=e.current)||void 0===t||t.showModal()}},{children:"\u914d\u7f6e\u6570\u636e"}),void 0)}),void 0)}),"\u4e0b\u62c9\u5217\u8868"),n.jsx(x.Panel,v({header:"\u9009\u62e9\u6846"},{children:n.jsx(t.Form.Item,v({label:"\u5927\u5c0f",name:"size"},{children:n.jsxs(t.Radio.Group,v({style:{width:"100%"}},{children:[n.jsx(t.Radio.Button,v({value:"large",style:{width:"33.3%",textAlign:"center"}},{children:"\u5927"}),void 0),n.jsx(t.Radio.Button,v({value:"middle",style:{width:"33.3%",textAlign:"center"}},{children:"\u4e2d"}),void 0),n.jsx(t.Radio.Button,v({value:"small",style:{width:"33.3%",textAlign:"center"}},{children:"\u5c0f"}),void 0)]}),void 0)}),void 0)}),"\u9009\u62e9\u6846")]}),void 0),n.jsx(w,{ref:e,onOk:function(e){i.setFieldsValue({options:e})}},void 0)]}),void 0)}),{},void 0),component:n.jsx(t.Cascader,{},void 0)},Radio:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Radio,{},void 0)},Checkbox:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Checkbox,{},void 0)},Switch:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Switch,{},void 0)},Slider:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Slider,{},void 0)},TimePicker:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.TimePicker,{},void 0)},"TimePicker.RangePicker":{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.TimePicker.RangePicker,{},void 0)},DatePicker:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.DatePicker,{},void 0)},"DatePicker.RangePicker":{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.DatePicker.RangePicker,{},void 0)},Rate:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Rate,{},void 0)},Upload:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Upload,{children:n.jsx(t.Button,v({icon:n.jsx(i.UploadOutlined,{},void 0)},{children:"Click to Upload"}),void 0)},void 0)},Col:{properties:n.jsx(n.Fragment,{},void 0),component:n.jsx(n.Fragment,{},void 0)},Button:{properties:n.jsx((function(){return n.jsx(t.Form,v({},f,{onValuesChange:function(e,n){}}),void 0)}),{},void 0),component:n.jsx(t.Button,{},void 0)},List1:{properties:n.jsx(ke,{},void 0),component:n.jsx(O,{},void 0)},getComponent:function(e){return we[e]?we[e].component:n.jsx(n.Fragment,{},void 0)},getProperties:function(e){return we[e]?we[e].properties:n.jsx(n.Fragment,{},void 0)}},_e=l.Store.Hooks,Fe=we.getProperties;function Le(){var e=_e.useStore(),o=e.componentList,i=e.target,l=n.jsxs(n.Fragment,{children:[n.jsx(b,{text:"\u63a7\u4ef6"},void 0),Fe(i.componentKey)]},void 0);return o.length>0&&(null==i?void 0:i.id)?n.jsxs(n.Fragment,{children:[n.jsx(U,{},void 0),l,n.jsx(Oe,{},void 0),n.jsx(Z,{},void 0)]},void 0):n.jsx(t.Empty,{image:t.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u672a\u9009\u4e2d\u63a7\u4ef6"},void 0)}function Re(){return n.jsxs(n.Fragment,{children:[n.jsx(he,{},void 0),n.jsx(D,{},void 0)]},void 0)}var Ae=l.Store.Hooks,De=l.Store.Utils.refreshTarget;function Me(){var e=t.Form.useForm()[0],i=Ae.useStore(),l=i.moveableOptions,a=i.setGlobal,c=o.useCallback(r.debounce((function(e,n){var t=n.width,o=n.height,i=document.querySelector(".viewport")||{};i.style.width=t+"px",i.style.height=o+"px",De(null==l?void 0:l.target,a)}),500),[]);return o.useEffect((function(){var n=(document.querySelector(".viewport")||{}).style||{},t=n.width,o=n.height;e.setFieldsValue({width:parseInt(t),height:parseInt(o)})}),[]),n.jsxs(t.Form,v({},f,{form:e,onValuesChange:c},{children:[n.jsx(b,{text:"\u5c3a\u5bf8"},void 0),n.jsx(x,v({defaultActiveKey:["\u89c6\u7a97\u5927\u5c0f"]},{children:n.jsxs(x.Panel,v({header:"\u89c6\u7a97\u5927\u5c0f"},{children:[n.jsx(t.Form.Item,v({label:"\u5bbd\u5ea6",name:"width"},{children:n.jsx(t.InputNumber,{style:{width:"100%"}},void 0)}),void 0),n.jsx(t.Form.Item,v({label:"\u9ad8\u5ea6",name:"height"},{children:n.jsx(t.InputNumber,{style:{width:"100%"}},void 0)}),void 0)]}),"\u89c6\u7a97\u5927\u5c0f")}),void 0)]}),void 0)}var Ve=t.Tabs.TabPane,Ge=Object.freeze({__proto__:null,List1:O,Setting:function(){var e={position:"relative",overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 46px)"};return n.jsxs(t.Tabs,v({defaultActiveKey:"1",centered:!0},{children:[n.jsx(Ve,v({tab:"\u5c5e\u6027\u8bbe\u7f6e"},{children:n.jsx("div",v({style:e},{children:n.jsx(Le,{},void 0)}),void 0)}),"1"),n.jsx(Ve,v({tab:"\u5e03\u5c40\u8bbe\u7f6e"},{children:n.jsx("div",v({style:e},{children:n.jsx(Re,{},void 0)}),void 0)}),"2"),n.jsx(Ve,v({tab:"\u753b\u5e03\u8bbe\u7f6e"},{children:n.jsx("div",v({style:e},{children:n.jsx(Me,{},void 0)}),void 0)}),"3")]}),void 0)},ComponentSetting:Le,LayoutSetting:Re,PageSetting:Me,Mapping:we});e.AntdMapping=Ge,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(333),t(707),t(0),t(33),t(30),t(421),t(422))},231:function(e,n,t){},24:function(e,n){e.exports=ReactDOM},240:function(e,n){e.exports=Babel},261:function(e,n){e.exports=immer},30:function(e,n,t){!function(e,n,t,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var r=i(n),a=l(o),c=function(){return(c=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function s(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}var d="SET_TARGET",u="DELETE_TARGET",p="SET_TARGET_BY_COMPONENT_LIST",v="SET_COMPONENT_LIST",m="PUT_COMPONENT_LIST",f="DEL_COMPONENT_LIST",h="COPY_COMPONENT_LIST",j="INSERT_COMPONENT_LIST",x="UPDATE_COMPONENT_LIST_BY_TARGET",b="UPDATE_COMPONENT_LIST_AND_TARGET",y="DELETE_ALL_COMPONENT_LIST_AND_TARGET",g="UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN",O="SET_MOVEABLE_OPTIONS",T="RESET_COMPONENT_LAYOUT",C="SET_COMPONENT_LAYOUT",E="LEFT_REMOVE_COMPONENTS",P="RIGHT_REMOVE_COMPONENTS",S="UPDATE_MODE",N=Object.freeze({__proto__:null,SET_TARGET:d,DELETE_TARGET:u,SET_TARGET_BY_COMPONENT_LIST:p,SET_COMPONENT_LIST:v,PUT_COMPONENT_LIST:m,DEL_COMPONENT_LIST:f,COPY_COMPONENT_LIST:h,INSERT_COMPONENT_LIST:j,UPDATE_COMPONENT_LIST_BY_TARGET:x,UPDATE_COMPONENT_LIST_AND_TARGET:b,DELETE_ALL_COMPONENT_LIST_AND_TARGET:y,UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN:g,SET_MOVEABLE_OPTIONS:O,RESET_COMPONENT_LAYOUT:T,SET_COMPONENT_LAYOUT:C,SET_SHOULD_UPDATE:"SET_SHOULD_UPDATE",LEFT_REMOVE_COMPONENTS:E,RIGHT_REMOVE_COMPONENTS:P,UPDATE_MODE:S}),I={target:{id:"",componentKey:"",formProps:{},formItemProps:{},componentProps:{},colProps:{},rowProps:{},layout:{frame:{translate:[0,0]}}},componentList:[],moveableOptions:{elClassName:null,frame:{translate:[0,0]}},mode:"form",setGlobal:function(e){e.type,e.payload}},k=a.createContext(I),w=function(e){var n=e.targetObj,t=e.childKeys,o=e.value,i=e.parentKey;t.forEach((function(e){var t;(null===(t=null==n?void 0:n[i])||void 0===t?void 0:t[e])&&(n[i][e]=o)}))};function _(e){return void 0===e&&(e=5),Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var F=Object.freeze({__proto__:null,shortid:_}),L=r.default((function(e,n){var o=c(c(c({},function(e,n){var o;return(o={}).DELETE_TARGET=function(){e.target=I.target},o.SET_TARGET_BY_COMPONENT_LIST=function(){!function t(o){for(var i,l,r,a,c=0;c<o.length;c++){var s=o[c];if((null===(i=null==s?void 0:s.children)||void 0===i?void 0:i.length)&&t(null==s?void 0:s.children),(null==s?void 0:s.id)===(null===(l=n.payload)||void 0===l?void 0:l.id)){s.rowProps=null===(r=e.target)||void 0===r?void 0:r.rowProps,s.formProps=null===(a=e.target)||void 0===a?void 0:a.formProps,e.target=s;break}}}(e.componentList)},o.SET_TARGET=function(){var o,i,l,r,a;w({targetObj:e.target,childKeys:["options","fields"],newValue:n.payload,value:[],parentKey:"componentProps"}),null===(null===(l=null===(i=null===(o=n.payload)||void 0===o?void 0:o.componentProps)||void 0===i?void 0:i.style)||void 0===l?void 0:l.width)&&(null===(a=null===(r=e.target)||void 0===r?void 0:r.componentProps)||void 0===a?void 0:a.style)&&(n.payload.componentProps.style=null,e.target.componentProps.style=null);var c=t.merge(t.cloneDeep(e.target),t.cloneDeep(n.payload));e.target=c},o.DELETE_TARGET=function(){Object.keys(e.target).forEach((function(n){["rowProps","formProps"].includes(n)||(e.target[n]=null)})),e.target.id="null",e.target.componentKey=""},o.SET_MOVEABLE_OPTIONS=function(){e.moveableOptions=t.merge(e.moveableOptions,t.cloneDeep(n.payload))},o}(e,n)),function(e,n){var o;return(o={}).DELETE_ALL_COMPONENT_LIST_AND_TARGET=function(){e.componentList=[],e.target={id:"",componentKey:"",formItemProps:{},componentProps:{},colProps:{},rowProps:{}}},o.PUT_COMPONENT_LIST=function(){var t,o,i;console.log(n.payload);for(var l=0;l<(null===(t=e.componentList)||void 0===t?void 0:t.length);l++)if(e.componentList[l].id===(null===(o=n.payload)||void 0===o?void 0:o.id))return;null===(i=e.componentList)||void 0===i||i.push(n.payload)},o.SET_COMPONENT_LIST=function(){for(var o=t.cloneDeep(n.payload)||{},i=o.newState,l=void 0===i?[]:i,r=o.id,a=0;a<(null==l?void 0:l.length);a++){var c=l[a];c.id===r?c.chosen=!0:c.chosen=!1}e.componentList=l},o.UPDATE_COMPONENT_LIST_OF_ITEM_CHILDREN=function(){var o,i=n.payload||{},l=i.id,r=i.children,a=void 0===r?[]:r,c=t.cloneDeep(a);null===(o=null==e?void 0:e.componentList)||void 0===o||o.forEach((function(e,n){e.id===l&&(e.children=c)}))},o.DEL_COMPONENT_LIST=function(){!function t(o){for(var i,l,r=0;r<(null==o?void 0:o.length);r++)if((null===(i=o[r])||void 0===i?void 0:i.children)&&t(e.componentList[r].children),o[r].id===(null===(l=n.payload)||void 0===l?void 0:l.id)){o.splice(r,1);break}}(null==e?void 0:e.componentList)},o.COPY_COMPONENT_LIST=function(){var o,i={},l=(null==n?void 0:n.payload)||{},r=l.id,a=l.newId,c=void 0===a?_():a;null===(o=e.componentList)||void 0===o||o.forEach((function(n){n.id===r&&(n.chosen=!1,(i=t.cloneDeep(n)).chosen=!0,i.id=c,i.key=c,i.formItemProps.name=c,e.componentList.push(i),e.target=t.merge(e.target,i))}))},o.INSERT_COMPONENT_LIST=function(){var t=n.payload,o=t.index,i=t.data;e.componentList.splice(o,0,i)},o.UPDATE_COMPONENT_LIST_BY_TARGET=function(){var o=(n.payload||{}).data,i=void 0===o?{}:o;!function n(o){null==o||o.forEach((function(o){var l,r,a,c;o.id===(null===(l=e.target)||void 0===l?void 0:l.id)&&(w({childKeys:["options","fields"],targetObj:o,newValue:i,value:[],parentKey:"componentProps"}),null===(null===(a=null===(r=i.componentProps)||void 0===r?void 0:r.style)||void 0===a?void 0:a.width)&&(null===(c=null==o?void 0:o.componentProps)||void 0===c?void 0:c.style)&&(i.componentProps.style=null,o.componentProps.style=null),o=t.merge(o,i)),(null==o?void 0:o.children)&&n(o.children)}))}(null==e?void 0:e.componentList)},o.UPDATE_COMPONENT_LIST_AND_TARGET=function(){var t,o=n.payload||{},i=o.componentKey,l=o.newComponentProps,r=null===(t=null==e?void 0:e.componentList)||void 0===t?void 0:t.map((function(n){var t;return n.id===(null===(t=e.target)||void 0===t?void 0:t.id)&&(n.componentKey=i,n.componentProps=c(c({},n.componentProps),l)),n}));e.target.componentKey=i,e.target.componentProps=l,e.componentList=r},o.RESET_COMPONENT_LAYOUT=function(){e.componentList.forEach((function(e,n){e.layout={}}))},o.SET_COMPONENT_LAYOUT=function(){var o=n.payload||{},i=o.colNum,l=o.gutter;e.componentList.forEach((function(e,n){var o={frame:{translate:[0,0,0]}};if(i>1&&(o.width="calc(100% / "+i+")",l>0)){var r=(i-1)*l/i;if(o.width="calc(100%/"+i+" - "+(t.isInteger(r)?r:r.toFixed(2))+"px)",0!==n&&n%i!=0){var a=n%i;o.frame.translate[0]=o.frame.translate[0]+l*a}}e.layout=o}))},o.LEFT_REMOVE_COMPONENTS=function(){var t=(n.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===t})),i=e.componentList[o],l=o-1;if(l>0){var r=e.componentList[l];e.componentList[l]=i,e.componentList[o]=r}},o.RIGHT_REMOVE_COMPONENTS=function(){var t=(n.payload||{}).id,o=e.componentList.findIndex((function(e){return e.id===t})),i=e.componentList[o],l=o+1;if(l<e.componentList.length){var r=e.componentList[l];e.componentList[l]=i,e.componentList[o]=r}},o}(e,n)),function(e,n){var t;return(t={}).UPDATE_MODE=function(){var t;e.mode=null===(t=n.payload)||void 0===t?void 0:t.mode},t}(e,n));"function"==typeof o[n.type]&&o[n.type]()})),R=Object.freeze({__proto__:null,refreshTarget:function(e,n){requestAnimationFrame((function(){n({type:O,payload:{target:null}}),n({type:O,payload:{target:e}})}))}}),A=Object.freeze({__proto__:null,useStore:function(){return o.useContext(k)},useLPReducer:function(e,n,i,l,r){void 0===r&&(r=["moveableOptions"]);var a=o.useReducer(e,n,(function(e){var n;try{var t=localStorage.getItem(i);"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return void 0!==n?n:void 0!==l?l(e):e})),c=t.cloneDeep(a[0]);return r.forEach((function(e){delete c[e]})),o.useEffect((function(){localStorage.setItem(i,JSON.stringify(c))}),[i,a,c]),a}}),D=Object.freeze({__proto__:null,commonReducer:L,actionTypes:N,INITAL_STATE:I,Context:k,Utils:R,Hooks:A}),M=function(){function e(e,n){this.componentList=e,this.target=n}return e.prototype.generate=function(){return""+this.generateImport()+this.generateXml()},e.prototype.generateXml=function(){var e=this,n=this.target,t=n.rowProps,o=void 0===t?{}:t,i=n.formProps,l=void 0===i?{}:i;o.colNum;var r=o.gutter,a=o.align,c=o.justify,d=o.wrap,u=s(o,["colNum","gutter","align","justify","wrap"]);l.labelAlign,l.size;var p=s(l,["labelAlign","size"]),v="colProps",m="formItemProps",f=this.generateProps({gutter:r,align:a,justify:c,wrap:d}),h="",j={};this.componentList.forEach((function(n,t){var o,i,l;(null===(o=n.componentProps)||void 0===o?void 0:o.defaultValue)&&(null===(i=n.formItemProps)||void 0===i?void 0:i.name)&&(j[n.formItemProps.name]=null===(l=n.componentProps)||void 0===l?void 0:l.defaultValue),h+=e.createFormItem(n,t,v,m)}));var x=Object.keys(j).length?" initialValues={"+JSON.stringify(j)+"}":"";return"\n    export default () => {\n      const colProps = "+JSON.stringify(u)+"\n      const formItemProps = "+JSON.stringify(p)+"\n      const [form] = Form.useForm()\n      const onFinish = (values) => {\n        console.log('Received values of form:', values)\n      }\n  \n      return <Form"+x+" form={form} onFinish={onFinish}>\n          <Row"+f+">\n            "+h+'\n            <Col span={24}>\n              <Form.Item>\n                <Button type="primary" htmlType="submit">\n                  \u63d0\u4ea4\n                </Button>\n              </Form.Item>\n            </Col>\n          </Row>\n      </Form>\n    }\n    '},e.prototype.generateProps=function(e,n){var t=this;return void 0===n&&(n=""),Object.keys(e).forEach((function(o){var i=JSON.stringify(e[o]);n+=""+t.parseProp(o,i)})),n},e.prototype.createFormItem=function(e,n,t,o){var i=e.formItemProps,l=e.componentProps,r=e.componentKey,a=e.colProps,d=void 0===a?{}:a,u=i.labelCol,p=i.wrapperCol;d.colNum;var v=s(d,["colNum"]),m=this.generateProps(c({},v)),f=this.generateProps(c(c({},i),{labelCol:u,wrapperCol:p})),h=this.generateComProps(l,r),j="";return"List1"===e.componentKey?"<Col {..."+t+"}"+m+">\n              <"+(j=""+e.componentKey+String(e.id).slice(0,4))+" {..."+o+"} form={form}"+f+h+" />\n            </Col>"+(this.componentList.length-1===n?"":"\n"):(j=null==r?void 0:r.replace(/^.*\./,""),"<Col {..."+t+"}"+m+">\n              <Form.Item {..."+o+"}"+f+">\n                "+("Upload"===r?"<"+j+h+">\n      <Button icon={<UploadOutlined />}>Click to Upload</Button>\n    </"+j+">":"<"+j+h+" />")+"\n              </Form.Item>\n            </Col>"+(this.componentList.length-1===n?"":"\n"))},e.prototype.generateComProps=function(e,n,t){var o=this;void 0===t&&(t=""),e.defaultValue;var i=e.prefix,l=e.suffix,r=s(e,["defaultValue","prefix","suffix"]);return["Input"].includes(n)&&(r.prefix="<"+i+" />",r.suffix="<"+l+" />"),Object.keys(r).forEach((function(e){var n=JSON.stringify(r[e]);t+=""+o.parseProp(e,n)})),t},e.prototype.parseProp=function(e,n,t){var o;if(void 0===t&&(t=""),!n)return"";if(void 0===n)return"";if(["{}","null"].includes(n))return"";try{null!==(t=JSON.parse(n))&&["object","number"].includes(typeof t)?t=" "+e+"={"+n+"}":"boolean"==typeof t?t=!0===t?" "+e:" "+e+"={"+n+"}":"string"==typeof t&&(t=-1!==(null==n?void 0:n.indexOf("<"))?" "+e+"={"+(null===(o=null==n?void 0:n.replace)||void 0===o?void 0:o.call(n,/"/g,""))+"}":" "+e+"="+n)}catch(e){t=""}return t},e.prototype.getAllAntdComponentKey=function(e,n){return void 0===n&&(n=new Set),e.forEach((function(e){["List1"].includes(e.componentKey)||n.add(e.componentKey)})),n.add("Form"),n.add("Row"),n.add("Col"),n.add("Button"),Array.from(n)},e.prototype.getAllIcon=function(e,n){return void 0===n&&(n=new Set),e.forEach((function(e){var t=e.componentProps,o=void 0===t?{}:t,i=o.prefix,l=o.suffix;i&&n.add(i),l&&n.add(l)})),Array.from(n)},e.prototype.generateImport=function(){var e=this.getAllAntdComponentKey(this.componentList),n=this.getAllIcon(this.componentList),t={},o="import {"+Array.from(new Set(e.map((function(e){var n=e.split("."),o=n[0],i=n[1];return i&&(t[o]?t[o].push(i):t[o]=[i]),o}))))+"} from 'antd'\n",i="";this.componentList.filter((function(e){return"List1"===e.componentKey})).forEach((function(e){var n=e.id.toString().slice(0,4);i+="import List1"+n+" from './List1-"+n+"'\n"}));var l="";Object.keys(t).forEach((function(e){var n=t[e];n.length&&(l+="const {"+n+"} = "+e+"\n")}));var r="import {"+n+'} from "@ant-design/icons";\n',a='import React from "react"\n'+o;return n.length&&(a+=r),i&&(a+=i),l&&(a+="\n"+l),a},e}(),V=Object.freeze({__proto__:null,Generate:M});e.Generate=V,e.Store=D,e.Utils=F,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(261),t(262),t(0))},33:function(e,n){e.exports=icons},422:function(e,n){e.exports=ReactDraggable},427:function(e,n,t){},696:function(e,n,t){},697:function(e,n,t){},698:function(e,n,t){},699:function(e,n,t){},702:function(e,n){e.exports=Sortable},703:function(e,n,t){},704:function(e,n,t){},705:function(e,n,t){},706:function(e,n,t){},708:function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),l=t(24),r=t.n(l),a=t(25),c=t(32),s=t(111),d=t(57),u=t(713),p=t(714),v=t(253),m=t(720),f=t(732),h=t(33),j=Object(h.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2351518_b097rjuqmfk.js"});Object.entries(h).filter((function(e){var n=e||[],t=Object(c.a)(n,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(t)}));var x=function(){var e={};return Object.entries(h).filter((function(e){var n=e||[],t=Object(c.a)(n,1)[0];return!["IconProvider","default","setTwoToneColor","getTwoToneColor","createFromIconfontCN"].includes(t)})).forEach((function(n){var t=n||[],o=Object(c.a)(t,2),i=o[0],l=o[1];e[i]=l})),e}(),b="drag-target",y=t(30),g=t(115),O=t(9),T=y.Utils.shortid,C=y.Store.actionTypes,E=y.Store.Hooks.useStore,P=C.PUT_COMPONENT_LIST,S=C.UPDATE_MODE,N=[{label:"\u8f93\u5165\u578b\u7ec4\u4ef6",key:"input-group",value:"input-group",icon:"icon-input",children:[{label:"\u5355\u884c\u6587\u672c",key:"Input",value:"Input",icon:"icon-input"},{label:"\u591a\u884c\u6587\u672c",key:"Input.TextArea",value:"Input.TextArea",icon:"icon-textarea"},{label:"\u5bc6\u7801",key:"Input.Password",value:"Input.Password",icon:"icon-password"},{label:"\u8ba1\u6570\u5668",key:"InputNumber",value:"InputNumber",icon:"icon-number"}]},{label:"\u9009\u62e9\u578b\u7ec4\u4ef6",key:"select-group",value:"select-group",icon:"icon-xuanze",children:[{label:"\u4e0b\u62c9\u9009\u62e9",key:"Select",value:"Select",icon:"icon-xiala"},{label:"\u7ea7\u8054\u9009\u62e9",key:"Cascader",value:"Cascader",icon:"icon-jilianxuanze"},{label:"\u5355\u9009\u6846\u7ec4",key:"Radio",value:"Radio",icon:"icon-danxuan"},{label:"\u591a\u9009\u6846\u7ec4",key:"Checkbox",value:"Checkbox",icon:"icon-duoxuan"},{label:"\u5f00\u5173",key:"Switch",value:"Switch",icon:"icon-kaiguan"},{label:"\u6ed1\u5757",key:"Slider",value:"Slider",icon:"icon-huakuai"},{label:"\u65f6\u95f4\u9009\u62e9",key:"TimePicker",value:"TimePicker",icon:"icon-date-1"},{label:"\u65f6\u95f4\u8303\u56f4",key:"TimePicker.RangePicker",value:"TimePicker.RangePicker",icon:"icon-shijianfanwei"},{label:"\u65e5\u671f\u9009\u62e9",key:"DatePicker",value:"DatePicker",icon:"icon-riqi"},{label:"\u65e5\u671f\u8303\u56f4",key:"DatePicker.RangePicker",value:"DatePicker.RangePicker",icon:"icon-riqifanwei"},{label:"\u8bc4\u5206",key:"Rate",value:"Rate",icon:"icon-pingfen"},{label:"\u4e0a\u4f20",key:"Upload",value:"Upload",icon:"icon-shangchuan"}]},{label:"\u5e03\u5c40\u578b\u7ec4\u4ef6",key:"layout-group",value:"layout-group",icon:"icon-layout",children:[{label:"\u5217\u88681",key:"List1",value:"List1",icon:"icon-hangrongqi"}]}].map((function(e){var n;return Object(a.a)(Object(a.a)({},e),{},{children:null===e||void 0===e||null===(n=e.children)||void 0===n?void 0:n.map((function(e){var n=e||{},t=n.value,o=n.label,i=n.icon,l=T(),r={value:t,label:o,icon:i,id:l,key:l,componentKey:t,formItemProps:{name:l,label:o},colProps:{},rowProps:{},componentProps:{},layout:{frame:{translate:[0,0]}}};return["List1"].includes(t)&&(r.colProps={lg:24,md:24,sm:24,xl:24,xs:24,xxl:24},r.formItemProps.labelCol={span:24}),r}))})})),I=function(){var e=E(),n=e.setGlobal,t=e.mode;return Object(O.jsxs)("div",{className:"left-sidebar",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(v.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d\u79f0",enterButton:"\u641c\u7d22",onSearch:function(e){return console.log(e)}}),Object(O.jsx)("div",{className:"mode-switch",children:Object(O.jsx)(m.a.Item,{style:{marginBottom:0},label:"\u6a21\u5f0f\u5207\u6362",children:Object(O.jsx)(f.a,{checkedChildren:"\u8868\u5355\u8bbe\u8ba1",unCheckedChildren:"\u975e\u8868\u5355\u8bbe\u8ba1",checked:"form"===t,onChange:function(e){n({type:S,payload:{mode:e?"form":"page"}})}})})})]}),Object(O.jsx)("div",{className:"body",children:"form"!==t?Object(O.jsx)("div",{className:"p-10",children:Object(O.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})}):N.map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{className:"title-btn",style:{paddingLeft:12},icon:Object(O.jsx)(j,{type:e.icon}),type:"text",disabled:!0,children:e.label}),Object(O.jsx)(u.a,{gutter:[6,6],children:e.children&&e.children.map((function(e){return Object(O.jsx)(p.a,{span:12,className:"left-sidebar-col",children:Object(O.jsx)(d.a,{block:!0,style:{backgroundColor:"#f8f8f8",fontSize:"12px"},type:"default",icon:Object(O.jsx)(j,{type:e.icon}),onClick:function(){var t,o=T(),i=Object(g.cloneDeep)(e);i.id=o,i.key=o,(null===(t=i.formItemProps)||void 0===t?void 0:t.name)&&(i.formItemProps.name=o),n({type:P,payload:i})},children:e.label})},e.value)}))})]},e.key)}))})]})},k=t(100),w=y.Store.Hooks.useStore,_=k.AntdMapping.Setting,F=function(){var e=w().mode;return Object(O.jsx)("div",{className:"right-sidebar",children:"form"===e?Object(O.jsx)(_,{}):Object(O.jsx)("div",{className:"p-10",children:Object(O.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},L=t(95),R=t(74),A=t(110),D=t.n(A),M=t(154);function V(){var e=50+(document.querySelector(".left-sidebar")?250:0)+60+(document.querySelector(".right-sidebar")?300:0)+50+14,n=document.querySelector(".viewport");n&&(n.style.width=.95*(window.innerWidth-e)+"px",n.style.height=.95*(window.innerHeight-74)+"px")}function G(e){return["TimePicker","TimePicker.RangePicker","DatePicker","DatePicker.RangePicker"].includes(e)}function B(e){return["Radio","Checkbox","Switch"].includes(e)}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var U=t(65),z=["defaultValue","prefix","suffix"];function H(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var t=x[e];if(t&&n)return t||o.Fragment;if(t&&!n)return"<".concat(e," />")}return n?o.Fragment:null}var Y=k.AntdMapping.Mapping.getComponent,q={readOnly:!0,open:!1},J=function(e){var n=e.id,t=e.children,i=e.componentKey,l=e.formProps,r=void 0===l?{}:l,c=e.formItemProps,s=void 0===c?{}:c,d=e.componentProps,u=void 0===d?{}:d,p=e.rowProps,v=void 0===p?{}:p,f=e.form,h=e.className,j=e.style;(G(i)&&!U.isMoment(null===f||void 0===f?void 0:f.getFieldValue(s.name))||["Cascader"].includes(i))&&(null===f||void 0===f||f.setFieldsValue(Object(L.a)({},s.name,"")));u.defaultValue;var x=u.prefix,b=u.suffix,y=Object(R.a)(u,z);if(["Input"].includes(i)){var g=H(x,!0),T=H(b,!0);y.prefix=Object(O.jsx)(g,{}),y.suffix=Object(O.jsx)(T,{})}var C=r.labelCol,E=void 0===C?{}:C,P=r.wrapperCol,S=void 0===P?{}:P,N=s.labelCol,I=void 0===N?{}:N,k=s.wrapperCol,w=void 0===k?{}:k,_=Object(a.a)(Object(a.a)({},s),{},{labelCol:Object(a.a)(Object(a.a)({},E),I),wrapperCol:Object(a.a)(Object(a.a)({},S),w)});return function(e){return!["Col","Button","List1"].includes(e)}(i)?Object(O.jsx)(m.a.Item,Object(a.a)(Object(a.a)({},_),{},{style:j,className:h,valuePropName:B(i)?"checked":"value",children:o.cloneElement(Y(i)||Object(O.jsx)(O.Fragment,{}),Object(a.a)(Object(a.a)({disabled:"Rate"===i},q),y))})):o.cloneElement(Y(i)||Object(O.jsx)(O.Fragment,{}),Object(a.a)({id:n,children:t,rowProps:v,style:j,design:!0,name:null===s||void 0===s?void 0:s.name},y))},W=t(719),X=t(730),Q=t(733),Z=t(716),$=t(155),ee=t(156),ne=t(257),te=t(188),oe=t(723),ie=t(725),le=t(724),re=t(728),ae=t(731),ce=t(722),se=t(715),de=t(727),ue=t(718),pe=t(240),ve=["TimePicker"],me=k.AntdMapping.List1,fe=function(){function e(n){Object($.a)(this,e),this.genrate=void 0,this.genrate=n}return Object(ee.a)(e,[{key:"replace",value:function(e){var n=e||this.genrate.generate();return n.substring(n.indexOf("export default"),n.indexOf("</Form>")).replace("export default","")+"</Form>}"}},{key:"string2Component",value:function(){var e=Object(M.a)(D.a.mark((function e(){var n,t,o,i,l,r,a,c=this,s=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:[],t=s.length>1?s[1]:void 0,e.prev=2,l=this.replace(t),r=Object(pe.transform)(l,{presets:["react","es2015"]}).code,r=null===(o=r)||void 0===o?void 0:o.replace('"use strict";',"").trim(),r=null===(i=r)||void 0===i?void 0:i.replace("(function","return (function"),a=new Function("context","with(context){\n            ".concat(r,"\n        }")),e.abrupt("return",(function(){try{return a(c.getContext(n))}catch(e){console.log("error",e),ne.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e instanceof Error?e.message:"".concat(e)})}}));case 11:e.prev=11,e.t0=e.catch(2),console.log("e",e.t0),ne.a.open({message:"\u8fd0\u884c\u9519\u8bef",description:e.t0 instanceof Error?e.t0.message:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(e){te.a.TimePicker;var n=Object(R.a)(te.a,ve),t=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({React:o,Form:m.a,Input:v.a},v.a),{},{InputNumber:oe.a,Select:ie.a},ie.a),{},{Cascader:le.a,Radio:re.a,Checkbox:ae.a,Switch:f.a,Slider:ce.a,TimePicker:se.a},se.a),{},{DatePicker:te.a},n),{},{Rate:de.a,Upload:ue.a,Row:u.a,Col:p.a,Button:d.a},x),{},{List1:me});return e.forEach((function(e){var n=e.componentKey,o=String(e.id).slice(0,4);t["".concat(n).concat(o)]=t.List1})),t}}]),e}(),he=t(258);function je(e){return"\nimport * as React from 'react'\n".concat(function(){var n="Button, Form, Row, Col";return e.forEach((function(e){n+=", ".concat(e.componentKey)})),"import { ".concat(n," } from 'antd'")}(),"\nimport { DeleteOutlined, PlusOutlined, CopyOutlined } from '@ant-design/icons'\n\nexport interface IItem {\n  label: string\n  name?: string\n  field: string\n  componentKey: string\n  rules?: Record<string, any>[]\n}\n\ninterface IList1Props {\n  name?: string // \u8868\u5355\u6570\u636e\u5b57\u6bb5\u540d\n  fields?: IItem[] // \u6bcf\u884c\u5143\u7d20\n  form?: any // \u6bcf\u884c\u5143\u7d20\n}\n\n/**\n * list\u7ec4\u4ef6\n */\nexport default (props: IList1Props) => {\n  const { name = 'demo', fields = [], form } = props\n  const number = fields?.length || 0 // \u6bcf\u884c\u5143\u7d20\u4e2a\u6570\n  const operateCol = 3 // \u64cd\u4f5c\u6309\u94ae\u683c\u6570\n  const span = Math.floor((24 - operateCol) / number)\n  const colProps = {\n    lg: span,\n    md: span,\n    sm: span,\n    xl: span,\n    xs: span,\n    xxl: span,\n  }\n\n  const renderFormItems = (index: number, name: number, fieldKey: number) => {\n    const showLable = index === 0\n    return ").concat(function(){var n="";return e.forEach((function(e){n+="<Col {...colProps}>\n            <Form.Item\n              label={showLable && '".concat(e.label,"'}\n              labelCol={{ span: 24 }}\n              name={[name, '").concat(e.field,"']}\n              fieldKey={[fieldKey, '").concat(e.field,"']}\n              rules={").concat(e.rules||"[]","}\n            >\n              <").concat(e.componentKey," />\n            </Form.Item>\n          </Col>\n")})),"<React.Fragment key={fieldKey}>\n".concat(n,"</React.Fragment>")}(),"\n  }\n\n  useEffect(() => {\n    form.setFieldsValue({\n        [name]: [").concat(JSON.stringify(function(){var n={};return e.forEach((function(e){n[e.field]=void 0})),n}()),']\n    })\n  }, [])\n\n  return (\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(({ key, name: _name, fieldKey, ...restField }, index) => {\n              return (\n                <Row key={key} gutter={15}>\n                  {renderFormItems(index, _name, fieldKey)}\n                  <Col span={operateCol}>\n                    <Form.Item\n                      labelCol={index === 0 ? { span: 24 } : undefined}\n                      colon={false}\n                      label={index === 0 ? <div></div> : undefined}\n                    >\n                      <DeleteOutlined onClick={() => remove(_name)} />\n                      <CopyOutlined\n                        style={{ marginLeft: 8 }}\n                        onClick={() => {\n                          // \u83b7\u53d6\u5f53\u524d\u884c\u7684\u9ed8\u8ba4\u503c\n                          const defaultValue =\n                            form.getFieldsValue()?.[name]?.[index] || {}\n                          add(defaultValue)\n                        }}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              )\n            })}\n            <Row>\n              <Col span={Math.floor(span * number)}>\n                <Form.Item>\n                  <Button\n                    type="dashed"\n                    onClick={() => add()}\n                    block\n                    icon={<PlusOutlined />}\n                  >\n                    \u65b0\u589e\u4e00\u6761\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n')}var xe=t(729),be=t(717),ye=(t(426),t(427),y.Store.Hooks.useStore),ge=W.a.TabPane,Oe={marginTop:0,height:"calc(100vh - 35px)",overflowY:"auto"},Te=function(){return Object(O.jsx)(h.EditOutlined,{style:{color:"#f1fa8c",marginRight:"5px"}})},Ce=function(){return Object(O.jsx)(h.FileTextOutlined,{style:{color:"#a95812",marginRight:"5px"}})},Ee=Object(o.forwardRef)((function(e,n){var t,i=Object(o.useState)(""),l=Object(c.a)(i,2),r=l[0],a=l[1],s=Object(o.useState)(!1),u=Object(c.a)(s,2),p=u[0],v=u[1],m=Object(o.useState)("tsx"),f=Object(c.a)(m,2),j=f[0],x=f[1],b=Object(o.useState)(Object(O.jsx)(O.Fragment,{})),g=Object(c.a)(b,2),T=g[0],C=g[1],E=Object(o.useRef)(null),P=Object(o.useRef)(null),S=Object(o.useState)(""),N=Object(c.a)(S,2),I=N[0],k=N[1],w=ye(),_=w.componentList,F=w.target,L=null===_||void 0===_||null===(t=_.filter)||void 0===t?void 0:t.call(_,(function(e){return"List1"===e.componentKey})),R=(Object(o.useCallback)((function(e){a(e)}),[]),function(){v(!1),x("tsx")});return Object(o.useImperativeHandle)(n,(function(){return{tsxEditor:E.current,lessEditor:P.current,setTsxCode:a,open:function(){v(!0)},close:R,run:function(){!function(e){var n=new y.Generate.Generate(_,F);a(e||n.generate()),new fe(n).string2Component(L,e).then((function(e){if("function"===typeof e){var n=e();C(Object(O.jsx)(n,{}))}}))}()}}}),[_,F]),Object(o.useEffect)((function(){var e=.3*window.screen.width;k(e)}),[]),Object(O.jsx)(X.a,{width:"100%",visible:p,destroyOnClose:!0,closable:!1,onClose:R,children:Object(O.jsx)("div",{className:"preview",children:Object(O.jsxs)(he.a,{split:"vertical",minSize:0,defaultSize:I,onDragFinished:function(e){k(e)},children:[Object(O.jsxs)(W.a,{tabBarGutter:5,activeKey:j,className:"code-container",onChange:function(e){x(e)},tabBarStyle:{height:"35px"},type:"card",tabBarExtraContent:Object(O.jsxs)(Q.b,{className:"extra-action-container",split:Object(O.jsx)(Z.a,{}),children:[Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.CloseOutlined,{}),className:"extra-action",type:"link",size:"small",onClick:R,children:"\u5173\u95ed"}),Object(O.jsx)("div",{})]}),children:[Object(O.jsx)(ge,{tab:Object(O.jsxs)("div",{children:["tsx"===j?Object(O.jsx)(Te,{}):Object(O.jsx)(Ce,{}),Object(O.jsx)("span",{children:"index.tsx"})]}),children:Object(O.jsx)(xe.a,{language:"tsx",style:be.a,showLineNumbers:!0,wrapLines:!0,customStyle:Oe,children:r})},"tsx"),L.length&&L.map((function(e){var n=e.componentProps,t=e.id,o=(n||{}).fields,i=void 0===o?[]:o;return Object(O.jsx)(ge,{tab:Object(O.jsxs)("div",{children:[j===t?Object(O.jsx)(Te,{}):Object(O.jsx)(Ce,{}),Object(O.jsxs)("span",{children:["List1-",String(t).slice(0,4),".tsx"]})]}),children:Object(O.jsx)(xe.a,{language:"tsx",style:be.a,showLineNumbers:!0,wrapLines:!0,customStyle:Oe,children:je(i)})},t)}))]}),Object(O.jsx)("div",{className:"form",children:Object(O.jsx)("div",{className:"body",children:T})})]})})})}));t(249),t(696);var Pe,Se=t(254),Ne=y.Store.Context,Ie=y.Store.actionTypes,ke=Ie.SET_TARGET,we=Ie.SET_MOVEABLE_OPTIONS,_e=Ie.UPDATE_COMPONENT_LIST_BY_TARGET,Fe={frame:{translate:[0,0]}},Le=function(){var e=Object(o.useContext)(Ne),n=e.target,t=e.moveableOptions,i=void 0===t?{}:t,l=e.setGlobal,r=i,a=r.target,c=r.elementGuidelines,s=r.frame,d=void 0===s?{translate:[0,0]}:s,u=r.bounds,p=r.verticalGuidelines,v=r.horizontalGuidelines,m=r.draggable,f=void 0===m||m,h=r.resizable,j=void 0===h||h,x=Object(o.useCallback)((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector(".viewport"),i=(null===o||void 0===o||null===(e=o.getBoundingClientRect)||void 0===e?void 0:e.call(o))||{},r=i.left,a=i.right,c=i.top;i.bottom;l({type:we,payload:{bounds:{left:Number(r)-n-50,right:Number(a)-t-52,top:c}}})}),[]);return Object(o.useEffect)((function(){x()}),[]),Object(o.useEffect)((function(){var e=n.layout;l({type:we,payload:void 0===e?{}:e})}),[n]),Object(O.jsx)(Se.a,{target:a,elementGuidelines:c,verticalGuidelines:p,horizontalGuidelines:v,snappable:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,bounds:u,draggable:f,throttleDrag:0,startDragRotate:0,throttleDragRotate:0,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},resizable:j,keepRatio:!1,throttleResize:0,edge:!1,renderDirections:["nw","n","ne","w","e","sw","s","se"],onDragStart:function(e){e.set(d.translate)},onDrag:function(e){Fe.frame.translate=e.beforeTranslate,e.target.style.transform="translate(".concat(e.beforeTranslate[0],"px, ").concat(e.beforeTranslate[1],"px)")},onDragEnd:function(e){e.target,e.isDrag;var n=e.clientX,t=e.clientY,o=Fe.frame;l({type:ke,payload:{layout:{frame:o,clientX:n,clientY:t}}}),l({type:_e,payload:{data:{layout:{frame:o,clientX:n,clientY:t}}}})},onResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(d.translate)},onResize:function(e){var n=e.target,t=e.width,o=e.height,i=e.drag,l=i.beforeTranslate;Fe.width=t,Fe.height=o,Fe.frame.translate=i.beforeTranslate,n.style.width="".concat(t,"px"),n.style.height="".concat(o,"px"),n.style.transform="translate(".concat(l[0],"px, ").concat(l[1],"px)")},onResizeEnd:function(e){if(e.lastEvent){var n=Fe.frame,t=Fe.width,o=Fe.height;l({type:ke,payload:{layout:{frame:n,width:t,height:o}}}),l({type:_e,payload:{data:{layout:{frame:n,width:t,height:o}}}})}}})},Re=t(255),Ae=t(259),De=y.Store.Context,Me=y.Store.actionTypes.SET_MOVEABLE_OPTIONS,Ve=null,Ge=Object(o.forwardRef)((function(e,n){var t=e.type,l=i.a.useRef(),r=Object(o.useContext)(De).setGlobal;Object(o.useImperativeHandle)(n,(function(){return{guides:l}}),[]);var c=Object(o.useCallback)((function(){var e,n;null===(e=l.current)||void 0===e||null===(n=e.resize)||void 0===n||n.call(e)}),[]),s=Object(o.useCallback)((function(e){var n,t,o=0,i=0;o+=e.deltaX,i+=e.deltaY,null===l||void 0===l||null===(n=l.scrollGuides)||void 0===n||n.call(l,i),null===l||void 0===l||null===(t=l.scroll)||void 0===t||t.call(l,o)}),[]);return Object(o.useEffect)((function(){var e,n,t,o;null===(e=l.current)||void 0===e||null===(n=e.resize)||void 0===n||n.call(e);var i=document.querySelector(".container");return null===(t=Ve=new MutationObserver((function(e){c()})))||void 0===t||null===(o=t.observe)||void 0===o||o.call(t,i,{attributes:!0,childList:!0,characterData:!0}),window.addEventListener("wheel",s),window.addEventListener("resize",c),function(){var e,n;null===(e=Ve)||void 0===e||null===(n=e.disconnect)||void 0===n||n.call(e),Ve=null,window.removeEventListener("wheel",s),window.removeEventListener("resize",c)}}),[]),Object(O.jsx)(Ae.a,Object(a.a)(Object(a.a)({},e),{},{ref:l,onChangeGuides:function(e){var n=e.guides.map((function(e){return Number(e)+30.5}));"horizontal"===t&&r({type:Me,payload:{horizontalGuidelines:n}}),"vertical"===t&&r({type:Me,payload:{verticalGuidelines:n}})}}))})),Be=(t(697),new(function(){function e(){Object($.a)(this,e),this.callbacks=void 0,this.callbacks=[]}return Object(ee.a)(e,[{key:"addListener",value:function(e,n){if(this.callbacks.length){var t=!1;this.callbacks.forEach((function(o){o.eventName===e&&(t=!0,o.callbacks.push(n))})),t||this.callbacks.push({eventName:e,callbacks:[n]})}else this.callbacks=[{eventName:e,callbacks:[n]}]}},{key:"removeListener",value:function(e,n){this.callbacks.forEach((function(t){t.eventName===e&&(t.callbacks=t.callbacks.filter((function(e){return e!==n})))}))}},{key:"emit",value:function(e){this.callbacks.forEach((function(n){n.eventName===e&&n.callbacks.forEach((function(e){return e()}))}))}}]),e}())),Ke="SHOW_SETTING_PANL",Ue="SCROLL_CENTER",ze="INFINITEVIEWER_SCROLL",He=function(e){var n=Object(o.useRef)(),t=Object(o.useRef)(),i=Object(o.useRef)(null),l=Object(o.useCallback)((function(){var e;null===(e=i.current)||void 0===e||e.scrollCenter()}),[]);return Object(o.useEffect)((function(){return V(),l(),window.addEventListener("resize",V),Be.addListener(Ue,l),function(){Be.removeListener(Ue,l),window.removeEventListener("resize",V)}}),[]),Object(O.jsxs)("div",{className:"infinite-viewer-container",children:[Object(O.jsx)("div",{className:"reset",onClick:function(){l()}}),Object(O.jsx)(Ge,{className:"guides horizontal",ref:n,type:"horizontal",height:30}),Object(O.jsx)(Ge,{className:"guides vertical",width:30,ref:t,type:"vertical"}),Object(O.jsx)(Re.a,{className:"infinite-viewer",ref:i,useForceWheel:!0,onScroll:function(e){var o,i,l,r,a,c,s,d;Be.emit(ze);var u=null===(o=n.current)||void 0===o||null===(i=o.guides)||void 0===i?void 0:i.current,p=null===(l=t.current)||void 0===l||null===(r=l.guides)||void 0===r?void 0:r.current;null===u||void 0===u||null===(a=u.scroll)||void 0===a||a.call(u,e.scrollLeft),null===u||void 0===u||null===(c=u.scrollGuides)||void 0===c||c.call(u,e.scrollTop),null===p||void 0===p||null===(s=p.scroll)||void 0===s||s.call(p,e.scrollTop),null===p||void 0===p||null===(d=p.scrollGuides)||void 0===d||d.call(p,e.scrollLeft)},onPinch:function(e){var o,l,r,a,c=Math.max(.1,e.zoom),s=null===(o=n.current)||void 0===o||null===(l=o.guides)||void 0===l?void 0:l.current,d=null===(r=t.current)||void 0===r||null===(a=r.guides)||void 0===a?void 0:a.current;s.zoom=c,d.zoom=c,i.current.zoom=c},children:Object(O.jsx)("div",{className:"viewport",onContextMenu:function(e){e.preventDefault()},children:e.children})})]})},Ye=(t(698),Object(o.forwardRef)((function(e,n){var t=e.children,i=Object(o.useState)(),r=Object(c.a)(i,2),a=r[0],s=r[1],d=Object(o.useState)(!1),u=Object(c.a)(d,2),p=u[0],v=u[1],m=Object(o.useRef)(null),f=Object(o.useCallback)((function(){v(!1)}),[]);return Object(o.useImperativeHandle)(n,(function(){return{hide:function(){v(!1)},show:function(e){v(!0);var n=e.clientX,t=e.clientY,o=m.current;o.style.left="".concat(n,"px"),o.style.top="".concat(t,"px")}}}),[]),Object(o.useEffect)((function(){return window.addEventListener("click",f),s(document.body),function(){window.removeEventListener("click",f)}}),[]),a?Object(l.createPortal)(Object(O.jsx)("div",{id:"context-menu",ref:m,className:p?"":"hide",children:t}),a):Object(O.jsx)(O.Fragment,{})}))),qe=(t(699),function(){return Object(O.jsx)("div",{className:"logo",children:Object(O.jsxs)("div",{className:"title",children:[Object(O.jsx)(h.LayoutTwoTone,{}),Object(O.jsx)("span",{children:"R Generator"}),Object(O.jsx)("a",{href:"https://github.com/r-generator/page",children:Object(O.jsx)("img",{alt:"GitHub Repo stars",src:"https://img.shields.io/github/stars/r-generator/page?style=flat-square"})})]})})}),Je=t(721),We=function(e){var n=e.onClick,t=void 0===n?function(){}:n,i=e.options,l=void 0===i?[]:i;return Object(O.jsx)("div",{className:"menu-container",children:l.map((function(e,n){var i=e.icon,r=e.key,a=e.label,c=e.type,s=e.className;return Object(O.jsxs)(o.Fragment,{children:[Object(O.jsx)("div",{className:"menu-item",children:Object(O.jsxs)(Je.a.Link,{onClick:function(){t(r,a)},className:"del"===c?"".concat(s," del"):s,children:[o.cloneElement(i,{className:"menu-item-icon"}),a]})}),n!==l.length-1&&Object(O.jsx)("hr",{})]},K())}))})},Xe=(t(231),t(248)),Qe=["colNum"],Ze=["colNum"],$e=["align","gutter","justify","wrap"],en=["colNum"],nn=y.Store.Utils,tn=y.Store.actionTypes,on=y.Store.Hooks,ln=tn.COPY_COMPONENT_LIST,rn=tn.DELETE_TARGET,an=tn.DEL_COMPONENT_LIST,cn=tn.LEFT_REMOVE_COMPONENTS,sn=tn.RIGHT_REMOVE_COMPONENTS,dn=tn.SET_COMPONENT_LIST,un=tn.SET_MOVEABLE_OPTIONS,pn=tn.SET_TARGET_BY_COMPONENT_LIST,vn=on.useStore;!function(e){e.copy="\u590d\u5236",e.setting="\u8bbe\u7f6e\u5c5e\u6027",e.del="\u5220\u9664",e.toLeft="\u5de6\u79fb",e.toRight="\u53f3\u79fb"}(Pe||(Pe={}));var mn=nn.refreshTarget,fn=[{key:"toTop",icon:Object(O.jsx)(h.VerticalAlignTopOutlined,{}),label:Pe.toLeft,type:"toTop"},{key:"topBottom",icon:Object(O.jsx)(h.VerticalAlignBottomOutlined,{}),label:Pe.toRight,type:"topBottom"},{key:"copy",icon:Object(O.jsx)(h.CopyOutlined,{}),label:Pe.copy},{key:"del",icon:Object(O.jsx)(h.DeleteOutlined,{}),label:Pe.del,type:"del"},{key:"setting",icon:Object(O.jsx)(h.SettingOutlined,{}),label:Pe.setting}],hn=Object(o.forwardRef)((function(e,n){var t=(vn().target||{}).rowProps,o=void 0===t?{}:t,i=(o.colNum,Object(R.a)(o,Qe));return Object(O.jsx)(u.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),i),{},{ref:n}))}));function jn(e){var n=e.target,t=e.moveableOptions,i=e.componentList,l=void 0===i?[]:i,r=e.setGlobal,s=m.a.useForm(),d=Object(c.a)(s,1)[0],u=Object(o.useRef)(null),v=n||{},f=v.componentProps,h=v.formItemProps,j=v.formProps,x=void 0===j?{}:j,y=v.colProps,g=void 0===y?{}:y,T=v.rowProps,C=void 0===T?{}:T,E=(C.colNum,Object(R.a)(C,Ze)),P=function(e,n){r({type:dn,payload:{newState:n,id:e}})},S=Object(o.useCallback)((function(){var e,n;null===(e=u.current)||void 0===e||null===(n=e.hide)||void 0===n||n.call(e)}),[]);return Object(o.useEffect)((function(){return Be.addListener(ze,S),function(){Be.removeListener(ze,S)}}),[]),Object(o.useEffect)((function(){(null===h||void 0===h?void 0:h.name)&&d.setFieldsValue(Object(L.a)({},h.name,null===f||void 0===f?void 0:f.defaultValue))}),[n.id]),Object(o.useEffect)((function(){var e={};l.forEach((function(n){var t=n.componentKey,o=n.formItemProps,i=n.componentProps,l=(o||{}).name,r=(i||{}).defaultValue;G(t)||(e[l]=r)})),d.setFieldsValue(e)}),[l,d]),Object(O.jsxs)(m.a,Object(a.a)(Object(a.a)({},x),{},{style:{height:"100%",position:"relative"},form:d,children:[Object(O.jsx)(Xe.ReactSortable,{sort:!0,animation:150,tag:hn,list:l,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",group:{name:"form-wrap",put:!0},setList:function(e){r({type:dn,payload:{newState:e,id:null===n||void 0===n?void 0:n.id}})},onChoose:function(e){var t=e.item.dataset.id;t!==n.id&&(r({type:pn,payload:{id:t}}),P(t,l))},onUnchoose:function(e){e.item.classList.add("sortable-chosen")},children:l.map((function(e){var t=e.id,o=e.chosen,i=e.children,c=e.componentKey,s=e.formItemProps,v=e.componentProps,m=e.colProps,f=void 0===m?{}:m,h=e.layout,j=void 0===h?{}:h,y=j.frame,T=void 0===y?{translate:[0,0,0]}:y,S=j.height,N=j.width,I=T.translate,k={display:"inline-block",transform:"translate(".concat(I[0],"px, ").concat(I[1],"px)")};"number"===typeof N?k.width="".concat(N,"px"):"string"===typeof N&&(k.width=N),S&&(k.height="".concat(S,"px"));E.align,E.gutter,E.justify,E.wrap;var w=Object(R.a)(E,$e),_=(f.colNum,Object(R.a)(f,en));return Object(O.jsx)(p.a,Object(a.a)(Object(a.a)({},Object(a.a)(Object(a.a)({},w),_)),{},{onContextMenu:function(e){var n,o;e.preventDefault(),r({type:pn,payload:{id:t}}),P(t,l),null===(n=u.current)||void 0===n||null===(o=n.show)||void 0===o||o.call(n,e)},children:Object(O.jsx)("div",{"data-id":t,className:"".concat(b," ").concat(o?"drag-target-chosen":""),onClick:function(e){e.stopPropagation(),t!==n.id&&(r({type:pn,payload:{id:t}}),P(t,l))},children:Object(O.jsx)(J,{id:t,form:d,children:i,colProps:g,rowProps:C,formProps:x,formItemProps:s,componentProps:v,componentKey:c},t)})}),t)}))}),Object(O.jsx)(Ye,{ref:u,children:Object(O.jsx)(We,{options:fn,onClick:function(e,o){if(o===Pe.del&&(r({type:an,payload:{id:n.id}}),r({type:rn}),r({type:un,payload:{target:null}})),o===Pe.setting&&Be.emit(Ke),o===Pe.copy){var i=K();r({type:ln,payload:{id:n.id,newId:i}})}o===Pe.toLeft&&(r({type:cn,payload:{id:n.id}}),mn(null===t||void 0===t?void 0:t.target,r)),o===Pe.toRight&&(r({type:sn,payload:{id:n.id}}),mn(null===t||void 0===t?void 0:t.target,r))}})})]}))}var xn=y.Store.Hooks.useStore,bn=function(){var e=xn(),n=e.target,t=e.moveableOptions,o=e.componentList,i=e.setGlobal;return Object(O.jsx)("div",{className:"form-design-area",children:0===(null===o||void 0===o?void 0:o.length)?Object(O.jsx)("div",{className:"not-found-info",children:"\u4ece\u5de6\u4fa7\u70b9\u9009\u7ec4\u4ef6\u8fdb\u884c\u8868\u5355\u8bbe\u8ba1"}):Object(O.jsx)(jn,{target:n,componentList:o,moveableOptions:t,setGlobal:i})})},yn=function(e){var n,t=e.type,o=e.handleType;return Object(O.jsxs)("div",{className:"left-action",children:[Object(O.jsx)(d.a,{type:"coms"===t?"primary":"text",ghost:"coms"!==t,icon:Object(O.jsx)(h.WindowsOutlined,{style:(n="coms",{color:t!==n?"#fff":"",fontSize:18})}),onClick:function(){return o("coms")}}),Object(O.jsx)(qe,{})]})},gn=t(726);var On=y.Store.actionTypes,Tn=y.Store.Context,Cn=On.DELETE_ALL_COMPONENT_LIST_AND_TARGET,En=On.SET_MOVEABLE_OPTIONS,Pn=function(e){var n=e.type,t=e.handleType,i=Object(o.useRef)(null),l=Object(o.useContext)(Tn),r=l.target,a=l.componentList,c=l.setGlobal,s=function(e){return{color:n!==e?"#fff":"",fontSize:18}},u=Object(o.useCallback)((function(){t("setting")}),[]);return Object(o.useEffect)((function(){return Be.addListener(Ke,u),function(){Be.removeListener(Ke,u)}}),[]),Object(O.jsxs)("div",{className:"right-action",children:[Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.PlayCircleOutlined,{style:s("run")}),type:"run"===n?"primary":"text",onClick:function(){!function(){var e,n;null===(e=i.current)||void 0===e||e.run(),null===(n=i.current)||void 0===n||n.open()}()}}),Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.PicCenterOutlined,{style:s("center")}),type:"center"===n?"primary":"text",onClick:function(){Be.emit(Ue)}}),Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.EyeOutlined,{style:s("preview")}),type:"preview"===n?"primary":"text",size:"middle",onClick:function(){!function(){var e=function(e,n){var t,o=null===(t=n.rowProps)||void 0===t?void 0:t.colNum,i={type:"object",properties:{}};return e.forEach((function(e){var n=e.formItemProps.name,t=e.componentKey.toLowerCase().replace(/^.*\./,"");i.properties[n]={type:"string",widget:t}})),{number:o,json:i}}(a,r);console.log(e)}()}}),Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.VerticalAlignBottomOutlined,{style:s("download")}),type:"download"===n?"primary":"text",size:"middle",onClick:function(){}}),Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.DeleteOutlined,{style:s("clean")}),type:"clean"===n?"primary":"text",danger:!0,onClick:function(){gn.a.confirm({title:"\u63d0\u793a",icon:Object(O.jsx)(h.ExclamationCircleOutlined,{}),content:"\u786e\u5b9a\u8981\u6e05\u7a7a\u6240\u6709\u7ec4\u4ef6\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){c({type:Cn}),c({type:En,payload:{target:null}})}})}}),Object(O.jsx)(d.a,{icon:Object(O.jsx)(h.SettingOutlined,{style:s("setting")}),type:"setting"===n?"primary":"text",onClick:function(){return t("setting")}}),Object(O.jsx)(Ee,{ref:i})]})},Sn=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"p-10",children:Object(O.jsx)(s.a,{description:"\u975e\u8868\u5355\u8bbe\u8ba1\uff0c\u656c\u8bf7\u671f\u5f85..."})})})},Nn=(t(703),y.Store.actionTypes,y.Store.Hooks.useStore),In=function(e){var n=Nn().mode,t=Object(o.useState)(""),i=Object(c.a)(t,2),l=i[0],r=i[1],a=function(e){r(l===e?"":e)};return Object(o.useEffect)((function(){["coms","setting",""].includes(l)&&V()}),[l]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(yn,{type:l,handleType:a}),"coms"===l&&Object(O.jsx)(I,{}),Object(O.jsx)("div",{className:"content",children:"form"===n?Object(O.jsx)(bn,{}):Object(O.jsxs)(He,{children:[Object(O.jsx)(Sn,{}),Object(O.jsx)(Le,{})]})}),"setting"===l&&Object(O.jsx)(F,{}),Object(O.jsx)(Pn,{type:l,handleType:a})]})},kn=(t(704),t(705),t(706),y.Store.Context),wn=y.Store.INITAL_STATE,_n=y.Store.commonReducer,Fn=y.Store.Hooks.useLPReducer,Ln=function(){var e=Fn(_n,wn,"STORE"),n=Object(c.a)(e,2),t=n[0],o=n[1];return Object(O.jsx)(kn.Provider,{value:Object(a.a)(Object(a.a)({},t||wn),{},{setGlobal:o}),children:Object(O.jsx)(In,{})})};r.a.render(Object(O.jsx)(Ln,{}),document.getElementById("root"))}},[[708,1,2]]]);